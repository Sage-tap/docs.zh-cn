---
description: 了解详细信息： <AppContextSwitchOverrides> 元素
title: AppContextSwitchOverrides 元素
ms.date: 04/18/2019
helpviewer_keywords:
- AppContextSwitchOverrides
- compatibility switches
- configuration switches
- configuration
ms.assetid: 4ce07f47-7ddb-4d91-b067-501bd8b88752
ms.openlocfilehash: 1c2e4ceaec83ee23990c2146960f602eb12361a6
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/06/2021
ms.locfileid: "99719326"
---
# <a name="appcontextswitchoverrides-element"></a><span data-ttu-id="1edca-103">\<AppContextSwitchOverrides> 元素</span><span class="sxs-lookup"><span data-stu-id="1edca-103">\<AppContextSwitchOverrides> element</span></span>

<span data-ttu-id="1edca-104">定义 <xref:System.AppContext> 类使用的一个或多个开关，用于提供新功能的选择退出机制。</span><span class="sxs-lookup"><span data-stu-id="1edca-104">Defines one or more switches used by the <xref:System.AppContext> class to provide an opt-out mechanism for new functionality.</span></span>

[**\<configuration>**](../configuration-element.md)\
&nbsp;&nbsp;[**\<runtime>**](runtime-element.md)\
&nbsp;&nbsp;&nbsp;&nbsp;**\<AppContextSwitchOverrides>**

## <a name="syntax"></a><span data-ttu-id="1edca-105">语法</span><span class="sxs-lookup"><span data-stu-id="1edca-105">Syntax</span></span>

```xml
<AppContextSwitchOverrides value="name1=value1[[;name2=value2];...]" />
```

## <a name="attributes-and-elements"></a><span data-ttu-id="1edca-106">特性和元素</span><span class="sxs-lookup"><span data-stu-id="1edca-106">Attributes and Elements</span></span>

 <span data-ttu-id="1edca-107">下列各节描述了特性、子元素和父元素。</span><span class="sxs-lookup"><span data-stu-id="1edca-107">The following sections describe attributes, child elements, and parent elements.</span></span>

### <a name="attributes"></a><span data-ttu-id="1edca-108">特性</span><span class="sxs-lookup"><span data-stu-id="1edca-108">Attributes</span></span>

|<span data-ttu-id="1edca-109">属性</span><span class="sxs-lookup"><span data-stu-id="1edca-109">Attribute</span></span>|<span data-ttu-id="1edca-110">描述</span><span class="sxs-lookup"><span data-stu-id="1edca-110">Description</span></span>|
|---------------|-----------------|
|`value`|<span data-ttu-id="1edca-111">必需的特性。</span><span class="sxs-lookup"><span data-stu-id="1edca-111">Required attribute.</span></span><br /><br /> <span data-ttu-id="1edca-112">定义一个或多个开关名称及其关联的布尔值。</span><span class="sxs-lookup"><span data-stu-id="1edca-112">Defines one or more switch names and their associated Boolean values.</span></span>|

### <a name="value-attribute"></a><span data-ttu-id="1edca-113">值特性</span><span class="sxs-lookup"><span data-stu-id="1edca-113">value Attribute</span></span>

|<span data-ttu-id="1edca-114">值</span><span class="sxs-lookup"><span data-stu-id="1edca-114">Value</span></span>|<span data-ttu-id="1edca-115">说明</span><span class="sxs-lookup"><span data-stu-id="1edca-115">Description</span></span>|
|-----------|-----------------|
|<span data-ttu-id="1edca-116">"名称 = 值"</span><span class="sxs-lookup"><span data-stu-id="1edca-116">"name=value"</span></span>|<span data-ttu-id="1edca-117">预定义的开关名称及其值 (`true` 或 `false`) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-117">A predefined switch name along with its value (`true` or `false`).</span></span> <span data-ttu-id="1edca-118">多个开关名称/值对由分号分隔 ( ";") 。</span><span class="sxs-lookup"><span data-stu-id="1edca-118">Multiple switch name/value pairs are separated by semicolons (";").</span></span> <span data-ttu-id="1edca-119">有关 .NET Framework 支持的预定义开关名称的列表，请参阅 "备注" 部分。</span><span class="sxs-lookup"><span data-stu-id="1edca-119">For a list of predefined switch names supported by the .NET Framework, see the Remarks section.</span></span>|

### <a name="child-elements"></a><span data-ttu-id="1edca-120">子元素</span><span class="sxs-lookup"><span data-stu-id="1edca-120">Child Elements</span></span>

 <span data-ttu-id="1edca-121">无。</span><span class="sxs-lookup"><span data-stu-id="1edca-121">None.</span></span>

### <a name="parent-elements"></a><span data-ttu-id="1edca-122">父元素</span><span class="sxs-lookup"><span data-stu-id="1edca-122">Parent Elements</span></span>

|<span data-ttu-id="1edca-123">元素</span><span class="sxs-lookup"><span data-stu-id="1edca-123">Element</span></span>|<span data-ttu-id="1edca-124">说明</span><span class="sxs-lookup"><span data-stu-id="1edca-124">Description</span></span>|
|-------------|-----------------|
|`configuration`|<span data-ttu-id="1edca-125">公共语言运行时和 .NET Framework 应用程序所使用的每个配置文件中的根元素。</span><span class="sxs-lookup"><span data-stu-id="1edca-125">The root element in every configuration file used by the common language runtime and .NET Framework applications.</span></span>|
|`runtime`|<span data-ttu-id="1edca-126">包含有关运行时初始化选项的信息。</span><span class="sxs-lookup"><span data-stu-id="1edca-126">Contains information about runtime initialization options.</span></span>|

## <a name="remarks"></a><span data-ttu-id="1edca-127">备注</span><span class="sxs-lookup"><span data-stu-id="1edca-127">Remarks</span></span>

 <span data-ttu-id="1edca-128">从 .NET Framework 4.6 开始， `<AppContextSwitchOverrides>` 配置文件中的元素允许 API 的调用方确定其应用是否可以利用新功能或保持与以前版本的库的兼容性。</span><span class="sxs-lookup"><span data-stu-id="1edca-128">Starting with .NET Framework 4.6, the `<AppContextSwitchOverrides>` element in a configuration file allows callers of an API to determine whether their app can take advantage of new functionality or preserve compatibility with previous versions of a library.</span></span> <span data-ttu-id="1edca-129">例如，如果 API 的行为在两个版本的库中发生了更改，则 `<AppContextSwitchOverrides>` 元素允许该 api 的调用方在支持新功能的库版本上选择禁用新行为。</span><span class="sxs-lookup"><span data-stu-id="1edca-129">For example, if the behavior of an API has changed between two versions of a library, the `<AppContextSwitchOverrides>` element allows callers of that API to opt out of the new behavior on versions of the library that support the new functionality.</span></span> <span data-ttu-id="1edca-130">对于在 .NET Framework 中调用 Api 的应用程序， `<AppContextSwitchOverrides>` 如果应用程序在包含该功能的 .NET Framework 版本上运行，则该元素还可以允许其应用定位于 .NET Framework 早期版本的调用方选择新的功能。</span><span class="sxs-lookup"><span data-stu-id="1edca-130">For apps that call APIs in the .NET Framework, the `<AppContextSwitchOverrides>` element can also allow callers whose apps target an earlier version of the .NET Framework to opt into new functionality if their app is running on a version of the .NET Framework that includes that functionality.</span></span>

 <span data-ttu-id="1edca-131">`value`元素的属性 `<AppContextSwitchOverrides>` 包含一个字符串，该字符串由一个或多个以分号分隔的名称/值对组成。</span><span class="sxs-lookup"><span data-stu-id="1edca-131">The `value` attribute of the `<AppContextSwitchOverrides>` element consists of a single string that consists of one or more semicolon-delimited name/value pairs.</span></span>  <span data-ttu-id="1edca-132">每个名称都标识一个兼容性开关，其对应的值为布尔值 (`true` 或 `false`) ，指示是否设置了该开关。</span><span class="sxs-lookup"><span data-stu-id="1edca-132">Each name identifies a compatibility switch, and its corresponding value is a Boolean (`true` or `false`) that indicates whether the switch is set.</span></span> <span data-ttu-id="1edca-133">默认情况下，开关是 `false` ，库提供新功能。</span><span class="sxs-lookup"><span data-stu-id="1edca-133">By default, the switch is `false`, and libraries  provide the new functionality.</span></span> <span data-ttu-id="1edca-134">如果开关设置 (为，则它们仅提供以前的功能，其值为 `true`) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-134">They only provide the previous functionality if the switch is set (that is, its value is `true`).</span></span> <span data-ttu-id="1edca-135">这允许库为现有 API 提供新行为，同时允许依赖于先前行为的调用方选择不使用新功能。</span><span class="sxs-lookup"><span data-stu-id="1edca-135">This allows libraries to provide new behavior for an existing API while allowing callers who depend on the previous behavior to opt out of the new functionality.</span></span>

<span data-ttu-id="1edca-136">.NET Framework 支持以下开关：</span><span class="sxs-lookup"><span data-stu-id="1edca-136">.NET Framework supports the following switches:</span></span>

|<span data-ttu-id="1edca-137">交换机名称</span><span class="sxs-lookup"><span data-stu-id="1edca-137">Switch name</span></span>|<span data-ttu-id="1edca-138">说明</span><span class="sxs-lookup"><span data-stu-id="1edca-138">Description</span></span>|<span data-ttu-id="1edca-139">已引入</span><span class="sxs-lookup"><span data-stu-id="1edca-139">Introduced</span></span>|
|-----------------|-----------------|----------------|
|`Switch.MS.Internal.`<br/>`DoNotApplyLayoutRoundingToMarginsAndBorderThickness`|<span data-ttu-id="1edca-140">控制 Windows Presentation Foundation 是否对控件布局使用旧算法。</span><span class="sxs-lookup"><span data-stu-id="1edca-140">Controls whether Windows Presentation Foundation uses legacy a algorithm for control layout.</span></span> <span data-ttu-id="1edca-141">有关详细信息，请参阅[缓解：WPF 布局](../../../migration-guide/mitigation-wpf-layout.md)。</span><span class="sxs-lookup"><span data-stu-id="1edca-141">For more information, see [Mitigation: WPF Layout](../../../migration-guide/mitigation-wpf-layout.md).</span></span>|<span data-ttu-id="1edca-142">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-142">.NET Framework 4.6</span></span>|
|`Switch.MS.Internal.`<br/>`UseSha1AsDefaultHashAlgorithmForDigitalSignatures`|<span data-ttu-id="1edca-143">控制 PackageDigitalSignatureManager 用于为包的部分签名的默认算法是 SHA1 还是 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-143">Controls whether the default algorithm used for signing parts of a package by PackageDigitalSignatureManager is SHA1 or SHA256.</span></span><br><span data-ttu-id="1edca-144">由于与 SHA1 冲突，Microsoft 建议使用 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-144">Due to collision problems with SHA1, Microsoft recommends SHA256.</span></span>|<span data-ttu-id="1edca-145">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="1edca-145">.NET Framework 4.7.1</span></span>|
|`Switch.System.Activities.`<br/>`UseMD5CryptoServiceProviderForWFDebugger`|<span data-ttu-id="1edca-146">如果设置为 `false` ，则允许在启用 FIPS 时通过 Visual Studio 调试基于 XAML 的工作流项目。</span><span class="sxs-lookup"><span data-stu-id="1edca-146">When set to `false`, allows debugging of XAML-based workflow projects with Visual Studio when FIPS is enabled.</span></span> <span data-ttu-id="1edca-147">如果没有此 <xref:System.NullReferenceException> 方法，则会在对 system.exception 程序集中的方法的调用中引发。</span><span class="sxs-lookup"><span data-stu-id="1edca-147">Without it, a <xref:System.NullReferenceException> is thrown in calls to methods in the System.Activities assembly.</span></span>|<span data-ttu-id="1edca-148">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="1edca-148">.NET Framework 4.7</span></span>|
|`Switch.System.Activities.`<br/>`UseMD5ForWFDebugger`|<span data-ttu-id="1edca-149">控制调试器中工作流实例的校验和是否使用 MD5 或 SHA1。</span><span class="sxs-lookup"><span data-stu-id="1edca-149">Controls whether the checksum for a workflow instance in the debugger uses MD5 or SHA1.</span></span> | <span data-ttu-id="1edca-150">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="1edca-150">.NET Framework 4.7</span></span>|
|`Switch.System.Activities.`<br/>`UseSHA1HashForDebuggerSymbols`|<span data-ttu-id="1edca-151">控制工作流校验和是否哈希使用 .NET Framework 4.7 () 中引入为默认值的 SHA1 算法 `true` ，或是否使用默认 SHA256 算法，该算法在 .NET Framework 4.8 () 中引入为默认值 `false` 。</span><span class="sxs-lookup"><span data-stu-id="1edca-151">Controls whether workflow checksum hashing uses the SHA1 algorithm introduced as the default in .NET Framework 4.7 (`true`), or whether it uses the default SHA256 algorithm introduced as the default in .NET Framework 4.8 (`false`).</span></span><br><span data-ttu-id="1edca-152">由于与 SHA1 冲突，Microsoft 建议使用 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-152">Due to collision problems with SHA1, Microsoft recommends SHA256.</span></span>|<span data-ttu-id="1edca-153">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-153">.NET Framework 4.8</span></span>|
|`Switch.System.Diagnostics.`<br/>`IgnorePortablePDBsInStackTraces`|<span data-ttu-id="1edca-154">控制在使用便携式 Pdb 时，堆栈跟踪是否获得，可以包括源文件和行信息。</span><span class="sxs-lookup"><span data-stu-id="1edca-154">Controls whether stack traces obtain when using portable PDBs can include source file and line information.</span></span> <span data-ttu-id="1edca-155">`false` 包括源文件和行信息;否则为 `true` 。</span><span class="sxs-lookup"><span data-stu-id="1edca-155">`false` to include source file and line information; otherwise, `true`.</span></span>|<span data-ttu-id="1edca-156">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="1edca-156">.NET Framework 4.7.2</span></span>|
|`Switch.System.Drawing.`<br/>`DontSupportPngFramesInIcons`|<span data-ttu-id="1edca-157">控制 <xref:System.Drawing.Icon.ToBitmap%2A?displayProperty=nameWithType> 方法在 <xref:System.Drawing.Icon> 对象具有 PNG 帧时是否引发异常。</span><span class="sxs-lookup"><span data-stu-id="1edca-157">Controls whether the <xref:System.Drawing.Icon.ToBitmap%2A?displayProperty=nameWithType> method throws an exception when an <xref:System.Drawing.Icon> object has PNG frames.</span></span> <span data-ttu-id="1edca-158">有关详细信息，请参阅[缓解：图标对象中的 PNG 帧](../../../migration-guide/mitigation-png-frames-in-icon-objects.md)。</span><span class="sxs-lookup"><span data-stu-id="1edca-158">For more information, see [Mitigation: PNG Frames in Icon Objects](../../../migration-guide/mitigation-png-frames-in-icon-objects.md).</span></span>|<span data-ttu-id="1edca-159">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-159">.NET Framework 4.6</span></span>|
|`Switch.System.Drawing.Text.`<br/>`DoNotRemoveGdiFontsResourcesFromFontCollection`|<span data-ttu-id="1edca-160">确定 <xref:System.Drawing.Text.PrivateFontCollection?displayProperty=nameWithType> 通过方法将对象添加到集合时是否正确释放对象 <xref:System.Drawing.Text.PrivateFontCollection.AddFontFile(System.String)?displayProperty=nameWithType> 。</span><span class="sxs-lookup"><span data-stu-id="1edca-160">Determines whether <xref:System.Drawing.Text.PrivateFontCollection?displayProperty=nameWithType> objects are properly disposed when added to the collection by the <xref:System.Drawing.Text.PrivateFontCollection.AddFontFile(System.String)?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="1edca-161">`true` 若要保留旧行为，则为;处理 `false` 所有专用字体对象。</span><span class="sxs-lookup"><span data-stu-id="1edca-161">`true` to maintain the legacy behavior; `false` to dispose of all private font objects.</span></span> |<span data-ttu-id="1edca-162">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="1edca-162">.NET Framework 4.7.2</span></span>|
|`Switch.System.Drawing.Printing.`<br>`OptimizePrintPreview`|<span data-ttu-id="1edca-163">控制是否为 <xref:System.Windows.Forms.PrintPreviewDialog> 网络打印机优化的性能。</span><span class="sxs-lookup"><span data-stu-id="1edca-163">Controls whether the performance of the <xref:System.Windows.Forms.PrintPreviewDialog> is optimized for network printers.</span></span> <span data-ttu-id="1edca-164">有关详细信息，请参阅 [PrintPreviewDialog 控件概述](/dotnet/desktop/winforms/controls/printpreviewdialog-control-overview-windows-forms)。</span><span class="sxs-lookup"><span data-stu-id="1edca-164">For more information, see [PrintPreviewDialog control overview](/dotnet/desktop/winforms/controls/printpreviewdialog-control-overview-windows-forms).</span></span>|<span data-ttu-id="1edca-165">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-165">.NET Framework 4.6</span></span>|
|`Switch.System.Globalization.EnforceJapaneseEraYearRanges`|<span data-ttu-id="1edca-166">控制是否强制执行日本历纪元的年份范围检查。</span><span class="sxs-lookup"><span data-stu-id="1edca-166">Controls whether year range checks for Japanese calendar eras are enforced.</span></span> <span data-ttu-id="1edca-167">`true` 若要强制执行年份范围检查并 `false` 禁用它们 (默认行为) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-167">`true` to enforce year range checks, and `false` to disable them (the default behavior).</span></span> <span data-ttu-id="1edca-168">有关详细信息，请参阅使用 [日历](../../../../standard/datetime/working-with-calendars.md)。</span><span class="sxs-lookup"><span data-stu-id="1edca-168">For more information, see [Working with calendars](../../../../standard/datetime/working-with-calendars.md).</span></span>|<span data-ttu-id="1edca-169">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-169">.NET Framework 4.6</span></span>|
|`Switch.System.Globalization.EnforceLegacyJapaneseDateParsing`|<span data-ttu-id="1edca-170">控制在分析操作中是否仅将 "1" 识别为日本历时代的第一年。</span><span class="sxs-lookup"><span data-stu-id="1edca-170">Controls whether only "1" is recognized as the first year of a Japanese calendar era in parsing operations.</span></span> <span data-ttu-id="1edca-171">`true` 仅识别 "1"; `false` 若要识别 "1" 或 Gannen (默认行为) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-171">`true` to recognize only "1"; `false` to recognize either "1" or Gannen (the default behavior).</span></span> <span data-ttu-id="1edca-172">有关详细信息，请参阅使用 [日历](../../../../standard/datetime/working-with-calendars.md)。</span><span class="sxs-lookup"><span data-stu-id="1edca-172">For more information, see [Working with calendars](../../../../standard/datetime/working-with-calendars.md).</span></span>|<span data-ttu-id="1edca-173">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-173">.NET Framework 4.6</span></span>|
|`Switch.System.Globalization.FormatJapaneseFirstYearAsANumber`|<span data-ttu-id="1edca-174">控制日本历时代的第一年在格式设置操作中是否表示为 "1" 或 Gannen。</span><span class="sxs-lookup"><span data-stu-id="1edca-174">Controls whether the first year of a Japanese calendar era is represented as "1" or Gannen in formatting operations.</span></span> <span data-ttu-id="1edca-175">`true` 将纪元的第一年的格式设置为 "1"; `false` 若要将其设置为 Gannen (默认行为) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-175">`true` to format the era's first year as "1"; `false` to format it as Gannen (the default behavior).</span></span> <span data-ttu-id="1edca-176">有关详细信息，请参阅使用 [日历](../../../../standard/datetime/working-with-calendars.md)。</span><span class="sxs-lookup"><span data-stu-id="1edca-176">For more information, see [Working with calendars](../../../../standard/datetime/working-with-calendars.md).</span></span>|<span data-ttu-id="1edca-177">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-177">.NET Framework 4.6</span></span>|
|`Switch.System.Globalization.NoAsyncCurrentCulture`|<span data-ttu-id="1edca-178">控制异步操作是否不从调用线程的上下文中流动。</span><span class="sxs-lookup"><span data-stu-id="1edca-178">Controls whether asynchronous operations do not flow from the calling thread's context.</span></span> <span data-ttu-id="1edca-179">有关详细信息，请参阅 [跨任务的 CurrentCulture 和 CurrentUICulture 流](../../../migration-guide/retargeting/4.5.2-4.6.md#currentculture-and-currentuiculture-flow-across-tasks)。</span><span class="sxs-lookup"><span data-stu-id="1edca-179">For more information, see [CurrentCulture and CurrentUICulture flow across tasks](../../../migration-guide/retargeting/4.5.2-4.6.md#currentculture-and-currentuiculture-flow-across-tasks).</span></span>|<span data-ttu-id="1edca-180">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-180">.NET Framework 4.6</span></span>|
|`Switch.System.IdentityModel.`<br/>`DisableMultipleDNSEntriesInSANCertificate`|<span data-ttu-id="1edca-181">控制方法是否 <xref:System.IdentityModel.Claims.X509CertificateClaimSet.FindClaims%2A?displayProperty=nameWithType> 尝试仅将声明类型与最后一个 DNS 条目进行匹配。</span><span class="sxs-lookup"><span data-stu-id="1edca-181">Controls whether the <xref:System.IdentityModel.Claims.X509CertificateClaimSet.FindClaims%2A?displayProperty=nameWithType> method attempts to match the claim type only with the last DNS entry.</span></span> <span data-ttu-id="1edca-182">有关详细信息，请参阅[缓解：X509CertificateClaimSet.FindClaims 方法](../../../migration-guide/mitigation-x509certificateclaimset-findclaims-method.md)。</span><span class="sxs-lookup"><span data-stu-id="1edca-182">For more information, see [Mitigation: X509CertificateClaimSet.FindClaims Method](../../../migration-guide/mitigation-x509certificateclaimset-findclaims-method.md).</span></span>|<span data-ttu-id="1edca-183">.NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="1edca-183">.NET Framework 4.6.1</span></span>|
|`Switch.System.IdentityModel.`<br/>`EnableCachedEmptyDefaultAuthorizationContext`|<span data-ttu-id="1edca-184">控制是否允许 AuthorizationContext 返回可变对象。</span><span class="sxs-lookup"><span data-stu-id="1edca-184">Controls whether to allow AuthorizationContext.Empty to return a mutable object.</span></span>|<span data-ttu-id="1edca-185">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-185">.NET Framework 4.6</span></span>|
|`Switch.System.IO.BlockLongPaths`|<span data-ttu-id="1edca-186">控制超过 `MAX_PATH` 260 个字符的 (路径是否) 引发 <xref:System.IO.PathTooLongException> 。</span><span class="sxs-lookup"><span data-stu-id="1edca-186">Controls whether paths longer than `MAX_PATH` (260 characters) throw a <xref:System.IO.PathTooLongException>.</span></span> <span data-ttu-id="1edca-187">有关详细信息，请参阅 [长路径支持](../../../migration-guide/retargeting/4.6.1-4.6.2.md#long-path-support)。</span><span class="sxs-lookup"><span data-stu-id="1edca-187">For more information, see [Long Path Support](../../../migration-guide/retargeting/4.6.1-4.6.2.md#long-path-support).</span></span>|<span data-ttu-id="1edca-188">.NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="1edca-188">.NET Framework 4.6.2</span></span>|
|`Switch.System.IO.Compression.`<br/>`DoNotUseNativeZipLibraryForDecompression`|<span data-ttu-id="1edca-189">控制类是否使用本机操作系统例程进行解压缩 <xref:System.IO.Compression.DeflateStream> 。</span><span class="sxs-lookup"><span data-stu-id="1edca-189">Controls whether native OS routines are used for decompression by the <xref:System.IO.Compression.DeflateStream> class.</span></span> <span data-ttu-id="1edca-190">`false` 使用本机 Api; `true` 使用该 <xref:System.IO.Compression.DeflateStream> 实现。</span><span class="sxs-lookup"><span data-stu-id="1edca-190">`false` to use native APIs; `true` to use the <xref:System.IO.Compression.DeflateStream> implementation.</span></span>|<span data-ttu-id="1edca-191">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="1edca-191">.NET Framework 4.7.2</span></span>|
|`Switch.System.IO.Compression.ZipFile.`<br/>`UseBackslash`|<span data-ttu-id="1edca-192">使用反斜杠 ( " \\ " ) 而不是正斜杠 ( "/" ) 作为属性中的路径分隔符 <xref:System.IO.Compression.ZipArchiveEntry.FullName%2A?displayProperty=nameWithType> 。</span><span class="sxs-lookup"><span data-stu-id="1edca-192">Uses the backslash ("\\") rather than the forward slash ("/") as the path separator in the <xref:System.IO.Compression.ZipArchiveEntry.FullName%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="1edca-193">有关详细信息，请参阅  [缓解： ZipArchiveEntry 路径分隔符](../../../migration-guide/mitigation-ziparchiveentry-fullname-path-separator.md)。</span><span class="sxs-lookup"><span data-stu-id="1edca-193">For more information, see  [Mitigation: ZipArchiveEntry.FullName Path Separator](../../../migration-guide/mitigation-ziparchiveentry-fullname-path-separator.md).</span></span>|<span data-ttu-id="1edca-194">.NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="1edca-194">.NET Framework 4.6.1</span></span>|
|`Switch.System.IO.Ports.`<br/>`DoNotCatchSerialStreamThreadExceptions`|<span data-ttu-id="1edca-195">控制在用流创建的后台线程上引发的操作系统异常是否 <xref:System.IO.Ports.SerialPort> 终止进程。</span><span class="sxs-lookup"><span data-stu-id="1edca-195">Controls whether operating system exceptions that are thrown on background threads created with <xref:System.IO.Ports.SerialPort> streams terminate the process.</span></span>|<span data-ttu-id="1edca-196">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="1edca-196">.NET Framework 4.7.1</span></span>|
|`Switch.System.IO.`<br/>`UseLegacyPathHandling`|<span data-ttu-id="1edca-197">控制是否使用旧版路径规范化并且和方法支持 URI 路径 <xref:System.IO.Path.GetDirectoryName%2A?displayProperty=nameWithType> <xref:System.IO.Path.GetPathRoot%2A?displayProperty=nameWithType> 。</span><span class="sxs-lookup"><span data-stu-id="1edca-197">Controls whether legacy path normalization is used and URI paths are supported by the <xref:System.IO.Path.GetDirectoryName%2A?displayProperty=nameWithType> and <xref:System.IO.Path.GetPathRoot%2A?displayProperty=nameWithType> methods.</span></span> <span data-ttu-id="1edca-198">有关详细信息，请参阅 [缓解：路径规范化](../../../migration-guide/mitigation-path-normalization.md) 和 [缓解：路径冒号检查](../../../migration-guide/mitigation-path-colon-checks.md)。</span><span class="sxs-lookup"><span data-stu-id="1edca-198">For more information, see [Mitigation: Path Normalization](../../../migration-guide/mitigation-path-normalization.md) and [Mitigation: Path Colon Checks](../../../migration-guide/mitigation-path-colon-checks.md).</span></span>|<span data-ttu-id="1edca-199">.NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="1edca-199">.NET Framework 4.6.2</span></span>|
|`Switch.System.`<br/>`MemberDescriptorEqualsReturnsFalseIfEquivalent`|<span data-ttu-id="1edca-200">控制是否对相等性测试将 <xref:System.ComponentModel.MemberDescriptor.Category%2A?displayProperty=nameWithType> 一个对象的属性与 <xref:System.ComponentModel.MemberDescriptor.Description%2A?displayProperty=nameWithType> 第二个对象的属性进行比较。</span><span class="sxs-lookup"><span data-stu-id="1edca-200">Controls whether a test for equality compares the <xref:System.ComponentModel.MemberDescriptor.Category%2A?displayProperty=nameWithType> property of one object with the <xref:System.ComponentModel.MemberDescriptor.Description%2A?displayProperty=nameWithType> property of the second object.</span></span> <span data-ttu-id="1edca-201">有关详细信息，请参阅 [system.componentmodel.memberdescriptor.equals 的不正确实现](../../../migration-guide/retargeting/4.6.1-4.6.2.md#incorrect-implementation-of-memberdescriptorequals)。</span><span class="sxs-lookup"><span data-stu-id="1edca-201">For more information, see [Incorrect implementation of MemberDescriptor.Equals](../../../migration-guide/retargeting/4.6.1-4.6.2.md#incorrect-implementation-of-memberdescriptorequals).</span></span>|<span data-ttu-id="1edca-202">.NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="1edca-202">.NET Framework 4.6.2</span></span>|
 `Switch.System.Net.`<br/>`DontCheckCertificateEKUs`|<span data-ttu-id="1edca-203">禁用 (EKU) 对象标识符 (OID) 验证的证书增强型密钥用法。</span><span class="sxs-lookup"><span data-stu-id="1edca-203">Disables certificate enhanced key usage (EKU) object identifier (OID) validation.</span></span> <span data-ttu-id="1edca-204">增强型密钥使用 (EKU) 扩展是指示使用密钥的应用程序的对象标识符 (OID) 的集合。</span><span class="sxs-lookup"><span data-stu-id="1edca-204">An enhanced key usage (EKU) extension is a collection of object identifiers (OIDs) that indicate the applications that use the key.</span></span>|<span data-ttu-id="1edca-205">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-205">.NET Framework 4.6</span></span>|
|`Switch.System.Net.`<br/>`DontEnableSchSendAuxRecord`|<span data-ttu-id="1edca-206">禁用对 SSL/TLS 的 TLS 1.0 浏览器攻击 (BEAST) 通过禁用 SCH_SEND_AUX_RECORD 的使用来进行缓解。</span><span class="sxs-lookup"><span data-stu-id="1edca-206">Disables TLS1.0 Browser Exploit Against SSL/TLS (BEAST) mitigation by disabling the use of SCH_SEND_AUX_RECORD.</span></span>|<span data-ttu-id="1edca-207">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-207">.NET Framework 4.6</span></span>|
|`Switch.System.Net.`<br/>`DontEnableSchUseStrongCrypto`|<span data-ttu-id="1edca-208">控制 <xref:System.Net.ServicePointManager?displayProperty=nameWithType> 和类是否 <xref:System.Net.Security.SslStream?displayProperty=nameWithType> 可以使用 SSL 3.0 协议。</span><span class="sxs-lookup"><span data-stu-id="1edca-208">Controls whether the <xref:System.Net.ServicePointManager?displayProperty=nameWithType> and <xref:System.Net.Security.SslStream?displayProperty=nameWithType> classes can use the SSL 3.0 protocol.</span></span> <span data-ttu-id="1edca-209">有关详细信息，请参阅[缓解：TLS 协议](../../../migration-guide/mitigation-tls-protocols.md)。</span><span class="sxs-lookup"><span data-stu-id="1edca-209">For more information, see [Mitigation: TLS Protocols](../../../migration-guide/mitigation-tls-protocols.md).</span></span>|<span data-ttu-id="1edca-210">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-210">.NET Framework 4.6</span></span>|
|`Switch.System.Net.`<br/>`DontEnableSystemDefaultTlsVersions`|<span data-ttu-id="1edca-211">禁用 SystemDefault TLS 版本恢复为默认的 Tls12、Tls11、Tls。</span><span class="sxs-lookup"><span data-stu-id="1edca-211">Disables SystemDefault TLS versions reverting back to a default of Tls12, Tls11, Tls.</span></span>|<span data-ttu-id="1edca-212">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="1edca-212">.NET Framework 4.7</span></span>|
|`Switch.System.Net.`<br/>`DontEnableTlsAlerts`|<span data-ttu-id="1edca-213">禁用 System.net.security.sslstream TLS 服务器端警报。</span><span class="sxs-lookup"><span data-stu-id="1edca-213">Disables SslStream TLS server-side Alerts.</span></span>|<span data-ttu-id="1edca-214">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="1edca-214">.NET Framework 4.7</span></span>|
|`Switch.System.Runtime.InteropServices.`<br/>`DoNotMarshalOutByrefSafeArrayOnInvoke`|<span data-ttu-id="1edca-215">控制 COM 互操作事件上的 ByRef SafeArray 参数是否封送回本机代码 (`false`) 或是否禁用了封送回本机代码 (`true`) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-215">Controls whether ByRef SafeArray parameters on COM interop events marshal back to native code (`false`) or whether marshaling back to native code is disabled (`true`).</span></span>|<span data-ttu-id="1edca-216">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-216">.NET Framework 4.8</span></span>|
|`Switch.System.Runtime.Serialization.`<br/>`DoNotUseECMAScriptV6EscapeControlCharacter` |<span data-ttu-id="1edca-217">控制 [DataContractJsonSerializer](xref:System.Runtime.Serialization.Json.DataContractJsonSerializer) 是否根据 ECMAScript V6 和 V8 标准序列化一些控制字符。</span><span class="sxs-lookup"><span data-stu-id="1edca-217">Controls whether the [DataContractJsonSerializer](xref:System.Runtime.Serialization.Json.DataContractJsonSerializer) serializes some control characters based on the ECMAScript V6 and V8 standards.</span></span> <span data-ttu-id="1edca-218">有关详细信息，请参阅[缓解：使用 DataContractJsonSerializer 对控制字符进行序列化](../../../migration-guide/mitigation-serialization-control-characters.md)</span><span class="sxs-lookup"><span data-stu-id="1edca-218">For more information, see [Mitigation: Serialization of Control Characters with the DataContractJsonSerializer](../../../migration-guide/mitigation-serialization-control-characters.md)</span></span>| <span data-ttu-id="1edca-219">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="1edca-219">.NET Framework 4.7</span></span> |
|`Switch.System.Runtime.Serialization.`<br/>`DoNotUseTimeZoneInfo`|<span data-ttu-id="1edca-220">控制是否 <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> 支持多个调整，或仅支持一个时区的单次调整。</span><span class="sxs-lookup"><span data-stu-id="1edca-220">Controls whether the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> supports multiple adjustments or only a single adjustment for a time zone.</span></span> <span data-ttu-id="1edca-221">如果为 `true` ，则它使用 <xref:System.TimeZoneInfo> 类型来序列化和反序列化日期和时间数据; 否则，它使用 <xref:System.TimeZone> 类型，该类型不支持多个调整规则。</span><span class="sxs-lookup"><span data-stu-id="1edca-221">If `true`, it uses the <xref:System.TimeZoneInfo> type to serialize and deserialize date and time data; otherwise, it uses the <xref:System.TimeZone> type, which does not support multiple adjustment rules.</span></span>|<span data-ttu-id="1edca-222">.NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="1edca-222">.NET Framework 4.6.2</span></span>|
|`Switch.System.Runtime.Serialization.UseNewMaxArraySize`|<span data-ttu-id="1edca-223">控制 <xref:System.Runtime.Serialization.ObjectManager?displayProperty=nameWithType> 在对象序列化和反序列化过程中是否使用更大的数组大小。</span><span class="sxs-lookup"><span data-stu-id="1edca-223">Controls whether <xref:System.Runtime.Serialization.ObjectManager?displayProperty=nameWithType> uses a larger array size during object serialization and deserialization.</span></span> <span data-ttu-id="1edca-224">将此开关设置为可 `true` 通过类型（如）提高大型对象图的序列化和反序列化的性能 <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> 。</span><span class="sxs-lookup"><span data-stu-id="1edca-224">Set this switch to `true` to improve the performance of serialization and deserialization of large object graphs by types such as <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter>.</span></span> |<span data-ttu-id="1edca-225">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="1edca-225">.NET Framework 4.7.2</span></span>|
|`Switch.System.Security.ClaimsIdentity.`<br/>`SetActorAsReferenceWhenCopyingClaimsIdentity`|<span data-ttu-id="1edca-226">控制 <xref:System.Security.Claims.ClaimsIdentity.%23ctor%28System.Security.Principal.IIdentity%29> 构造函数是否使用现有对象引用来设置新对象的 <xref:System.Security.Claims.ClaimsIdentity.Actor%2A?displayProperty=nameWithType> 属性。</span><span class="sxs-lookup"><span data-stu-id="1edca-226">Controls whether the <xref:System.Security.Claims.ClaimsIdentity.%23ctor%28System.Security.Principal.IIdentity%29> constructor sets the  new object's <xref:System.Security.Claims.ClaimsIdentity.Actor%2A?displayProperty=nameWithType> property with an existing object reference.</span></span> <span data-ttu-id="1edca-227">有关详细信息，请参阅[缓解：ClaimsIdentity 构造函数](../../../migration-guide/retargeting/4.6.1-4.6.2.md)。</span><span class="sxs-lookup"><span data-stu-id="1edca-227">For more information, see [Mitigation: ClaimsIdentity Constructor](../../../migration-guide/retargeting/4.6.1-4.6.2.md).</span></span>|<span data-ttu-id="1edca-228">.NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="1edca-228">.NET Framework 4.6.2</span></span>|
|`Switch.System.Security.Cryptography.`<br/>`AesCryptoServiceProvider.DontCorrectlyResetDecryptor`|<span data-ttu-id="1edca-229">控制尝试重用解密器是否会 <xref:System.Security.Cryptography.AesCryptoServiceProvider> 引发 <xref:System.Security.Cryptography.CryptographicException> 。</span><span class="sxs-lookup"><span data-stu-id="1edca-229">Controls whether the attempt to reuse an <xref:System.Security.Cryptography.AesCryptoServiceProvider> decryptor throws a <xref:System.Security.Cryptography.CryptographicException>.</span></span> <span data-ttu-id="1edca-230">有关详细信息，请参阅 [AesCryptoServiceProvider 解密器提供可重用的转换](../../../migration-guide/retargeting/4.6.1-4.6.2.md#aescryptoserviceprovider-decryptor-provides-a-reusable-transform)。</span><span class="sxs-lookup"><span data-stu-id="1edca-230">For more information, see [AesCryptoServiceProvider decryptor provides a reusable transform](../../../migration-guide/retargeting/4.6.1-4.6.2.md#aescryptoserviceprovider-decryptor-provides-a-reusable-transform).</span></span>|<span data-ttu-id="1edca-231">.NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="1edca-231">.NET Framework 4.6.2</span></span>|
|`Switch.System.Security.Cryptography.`<br/>`DoNotAddrOfCspParentWindowHandle`|<span data-ttu-id="1edca-232">控制 [CspParameters system.security.cryptography.cspparameters.parentwindowhandle](xref:System.Security.Cryptography.CspParameters.ParentWindowHandle) 属性的值是否为表示窗口句柄的内存位置的 [IntPtr](xref:System.IntPtr) ，或者它是否是 HWND)  (的窗口句柄。</span><span class="sxs-lookup"><span data-stu-id="1edca-232">Controls whether the value of the [CspParameters.ParentWindowHandle](xref:System.Security.Cryptography.CspParameters.ParentWindowHandle) property is an [IntPtr](xref:System.IntPtr) that represents the memory location of a window handle, or whether it is a window handle (an HWND).</span></span> <span data-ttu-id="1edca-233">有关详细信息，请参阅[缓解：应向 CspParameters.ParentWindowHandle 分配 HWND](../../../migration-guide/retargeting/4.6.2-4.7.md#cspparametersparentwindowhandle-now-expects-hwnd-value)。</span><span class="sxs-lookup"><span data-stu-id="1edca-233">For more information, see [Mitigation: CspParameters.ParentWindowHandle Expects an HWND](../../../migration-guide/retargeting/4.6.2-4.7.md#cspparametersparentwindowhandle-now-expects-hwnd-value).</span></span> |<span data-ttu-id="1edca-234">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="1edca-234">.NET Framework 4.7</span></span>|
|`Switch.System.Security.Cryptography.`<br/>`UseLegacyFipsThrow`|<span data-ttu-id="1edca-235">控制在 FIPS 模式下使用托管加密类是引发 <xref:System.Security.Cryptography.CryptographicException> (`true`) 还是依赖于系统库 (`false`) 实现。</span><span class="sxs-lookup"><span data-stu-id="1edca-235">Controls whether the use of managed cryptography classes in FIPS mode throws a <xref:System.Security.Cryptography.CryptographicException> (`true`) or relies on the implementation of system libraries (`false`).</span></span>|<span data-ttu-id="1edca-236">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-236">.NET Framework 4.8</span></span>|
|`Switch.System.Security.Cryptography.Pkcs.`<br/>`UseInsecureHashAlgorithms`|<span data-ttu-id="1edca-237">确定某些 SignedCMS 操作的默认值是 SHA1 还是 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-237">Determines whether the default for some SignedCMS operations is SHA1 or SHA256.</span></span><br><span data-ttu-id="1edca-238">由于与 SHA1 冲突，Microsoft 建议使用 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-238">Due to collision problems with SHA1, Microsoft recommends SHA256.</span></span>|<span data-ttu-id="1edca-239">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="1edca-239">.NET Framework 4.7.1</span></span>|
|`Switch.System.Security.Cryptography.X509Certificates.`<br/>`ECDsaCertificateExtensions.UseLegacyPublicKeyReader`|<span data-ttu-id="1edca-240">控制方法是否 <xref:System.Security.Cryptography.X509Certificates.ECDsaCertificateExtensions.GetECDsaPublicKey%2A?displayProperty=nameWithType> 正确地处理操作系统)  (支持的所有已命名曲线 `false` ，或是否恢复到旧行为。</span><span class="sxs-lookup"><span data-stu-id="1edca-240">Controls whether the <xref:System.Security.Cryptography.X509Certificates.ECDsaCertificateExtensions.GetECDsaPublicKey%2A?displayProperty=nameWithType> method correctly handles all named curves supported by the operating system (`false`) or reverts to legacy behavior.</span></span>|<span data-ttu-id="1edca-241">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-241">.NET Framework 4.8</span></span>|
|`Switch.System.Security.Cryptography.Xml.`<br/>`UseInsecureHashAlgorithms`|<span data-ttu-id="1edca-242">确定某些 SignedXML 操作的默认值是 SHA1 还是 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-242">Determines whether the default for some SignedXML operations is SHA1 or SHA256.</span></span><br><span data-ttu-id="1edca-243">由于与 SHA1 冲突，Microsoft 建议使用 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-243">Due to collision problems with SHA1, Microsoft recommends SHA256.</span></span>|<span data-ttu-id="1edca-244">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="1edca-244">.NET Framework 4.7.1</span></span>|
|`Switch.System.ServiceModel.`<br/>`AllowUnsignedToHeader`|<span data-ttu-id="1edca-245">确定 `TransportWithMessageCredential` 安全模式是否允许带有无符号 "to" 标头的消息。</span><span class="sxs-lookup"><span data-stu-id="1edca-245">Determines whether the `TransportWithMessageCredential` security mode allows messages with an unsigned "to" header.</span></span> <span data-ttu-id="1edca-246">这是一个可选的开关。</span><span class="sxs-lookup"><span data-stu-id="1edca-246">This is an opt-in switch.</span></span> <span data-ttu-id="1edca-247">有关详细信息，请参阅 [.NET Framework 4.6.1 中的运行时更改](../../../migration-guide/runtime/4.5.2-4.6.1.md#windows-communication-foundation-wcf)。</span><span class="sxs-lookup"><span data-stu-id="1edca-247">For more information, see [Runtime Changes in the .NET Framework 4.6.1](../../../migration-guide/runtime/4.5.2-4.6.1.md#windows-communication-foundation-wcf).</span></span>|<span data-ttu-id="1edca-248">.NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="1edca-248">.NET Framework 4.6.1</span></span>|
|`Switch.System.ServiceModel.`<br/>`DisableAddressHeaderCollectionValidation`>|<span data-ttu-id="1edca-249"><xref:System.ServiceModel.Channels.AddressHeaderCollection.%23ctor(System.Collections.Generic.IEnumerable{System.ServiceModel.Channels.AddressHeader})> <xref:System.ArgumentException> 如果其中一个元素为，则控制构造函数是否引发 `null` 。</span><span class="sxs-lookup"><span data-stu-id="1edca-249">Controls whether the <xref:System.ServiceModel.Channels.AddressHeaderCollection.%23ctor(System.Collections.Generic.IEnumerable{System.ServiceModel.Channels.AddressHeader})> constructor throws an <xref:System.ArgumentException> if one of the elements is `null`.</span></span>|<span data-ttu-id="1edca-250">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="1edca-250">.NET Framework 4.7.1</span></span>|
|`Switch.System.ServiceModel.`<br />`DisableCngCertificates`|<span data-ttu-id="1edca-251">确定尝试将 X509 证书与 CSG 密钥存储提供程序一起使用是否会引发异常。</span><span class="sxs-lookup"><span data-stu-id="1edca-251">Determines whether the attempt to use X509 certificates with a CSG key storage provider throws an exception.</span></span> <span data-ttu-id="1edca-252">有关详细信息，请参阅 [WCF 传输安全性支持使用 CNG 存储的证书](../../../migration-guide/retargeting/4.6.1-4.6.2.md#wcf-transport-security-supports-certificates-stored-using-cng)。</span><span class="sxs-lookup"><span data-stu-id="1edca-252">For more information, see [WCF transport security supports certificates stored using CNG](../../../migration-guide/retargeting/4.6.1-4.6.2.md#wcf-transport-security-supports-certificates-stored-using-cng).</span></span>|<span data-ttu-id="1edca-253">.NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="1edca-253">.NET Framework 4.6.1</span></span>|
|`Switch.System.ServiceModel.`<br/>`DisableExplicitConnectionCloseHeader`|<span data-ttu-id="1edca-254">将 HTTP 传输与自承载服务一起使用时，将此值设置为 `true` 会导致 WCF 忽略向 `Connection: close` 请求的响应标头添加标头的应用程序。</span><span class="sxs-lookup"><span data-stu-id="1edca-254">When using the HTTP transport with a self-hosted service, setting this value to `true` causes WCF to ignore an application adding the `Connection: close` header to the response headers for a request.</span></span> <span data-ttu-id="1edca-255">如果将此值设置为， `false` 则可将 `Connection: close` 标头添加到响应标头，这会导致在发送响应后关闭请求套接字。</span><span class="sxs-lookup"><span data-stu-id="1edca-255">Setting this value to `false` enables adding the `Connection: close` header to the response headers, which results in closing the request socket after a response has been sent.</span></span>|<span data-ttu-id="1edca-256">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-256">.NET Framework 4.6</span></span>|
|`Switch.System.ServiceModel.`<br/>`DisableOperationContextAsyncFlow`|<span data-ttu-id="1edca-257">处理因将可重入服务的实例限制为一次执行的单个线程而导致的死锁。</span><span class="sxs-lookup"><span data-stu-id="1edca-257">Handles deadlocks that result from restricting instances of a re-entrant service to a single thread of execution at a time.</span></span>|<span data-ttu-id="1edca-258">.NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="1edca-258">.NET Framework 4.6.2</span></span>|
|`Switch.System.ServiceModel.`<br/>`DisableUsingServicePointManagerSecurityProtocols`|<span data-ttu-id="1edca-259">连同 `Switch.System.Net.DontEnableSchUseStrongCrypto` ，还决定 WCF 消息安全是否使用 tls 1.1 和 tls 1.2。</span><span class="sxs-lookup"><span data-stu-id="1edca-259">Along with `Switch.System.Net.DontEnableSchUseStrongCrypto`, determines whether WCF message security uses TLS 1.1 and TLS 1.2.</span></span>|<span data-ttu-id="1edca-260">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="1edca-260">.NET Framework 4.7</span></span> |
|`Switch.System.ServiceModel.`<br/>`DontEnableSystemDefaultTlsVersions`|<span data-ttu-id="1edca-261">值 `false` 设置为允许操作系统选择协议的默认配置。</span><span class="sxs-lookup"><span data-stu-id="1edca-261">A value of `false` sets the default configuration to allow the operating system to choose the protocol.</span></span> <span data-ttu-id="1edca-262">值为时， `true` 将默认值设置为最高可用协议。</span><span class="sxs-lookup"><span data-stu-id="1edca-262">A value of `true` sets the default to the highest protocol available.</span></span> <span data-ttu-id="1edca-263"> (在以前的 framework 版本的服务分支中也可用) </span><span class="sxs-lookup"><span data-stu-id="1edca-263">(Also available on servicing branch of previous framework versions)</span></span>|<span data-ttu-id="1edca-264">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="1edca-264">.NET Framework 4.7.1</span></span>|
|`Switch.System.ServiceModel.`<br/>`UseSha1InMsmqEncryptionAlgorithm`|<span data-ttu-id="1edca-265">确定 WCF 中 MSMQ 消息的默认消息签名算法是 SHA1 还是 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-265">Determines whether the default message signing algorithm for MSMQ messages in WCF is SHA1 or SHA256.</span></span><br><span data-ttu-id="1edca-266">由于与 SHA1 冲突，Microsoft 建议使用 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-266">Due to collision problems with SHA1, Microsoft recommends SHA256.</span></span>|<span data-ttu-id="1edca-267">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="1edca-267">.NET Framework 4.7.1</span></span>|
|`Switch.System.ServiceModel.`<br/>`UseSha1InPipeConnectionGetHashAlgorithm`|<span data-ttu-id="1edca-268">控制 WCF 是使用 SHA1 还是 SHA256 哈希为命名管道生成随机名称。</span><span class="sxs-lookup"><span data-stu-id="1edca-268">Controls whether WCF uses a SHA1 or a SHA256 hash to generate random names for named pipes.</span></span><br><span data-ttu-id="1edca-269">由于与 SHA1 冲突，Microsoft 建议使用 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-269">Due to collision problems with SHA1, Microsoft recommends SHA256.</span></span>|<span data-ttu-id="1edca-270">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="1edca-270">.NET Framework 4.7.1</span></span>|
|`Switch.System.ServiceModel.Internals`<br/>`IncludeNullExceptionMessageInETWTrace`|<span data-ttu-id="1edca-271">控制在异常消息为 null 时是否引发 [NullReferenceException](xref:System.NullReferenceException) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-271">Controls whether to throw a [NullReferenceException](xref:System.NullReferenceException) when the exception message is null.</span></span>|<span data-ttu-id="1edca-272">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="1edca-272">.NET Framework 4.7</span></span>|
|`Switch.System.ServiceProcess.`<br/>`DontThrowExceptionsOnStart`|<span data-ttu-id="1edca-273">控制是否将在服务启动时引发的异常传播到方法的调用方 <xref:System.ServiceProcess.ServiceBase.Run%2A?displayProperty=nameWithType> 。</span><span class="sxs-lookup"><span data-stu-id="1edca-273">Controls whether exceptions thrown on service startup are propagated to the caller of the <xref:System.ServiceProcess.ServiceBase.Run%2A?displayProperty=nameWithType> method.</span></span>|<span data-ttu-id="1edca-274">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="1edca-274">.NET Framework 4.7.1</span></span>|
|`Switch.System.Threading.UseNetCoreTimer`|<span data-ttu-id="1edca-275">控制 <xref:System.Threading.Timer> 实例是否利用大规模环境的性能改进。</span><span class="sxs-lookup"><span data-stu-id="1edca-275">Controls whether <xref:System.Threading.Timer> instances take advantage of performance improvements for high-scale environments.</span></span> <span data-ttu-id="1edca-276">如果 `true` 为，则启用性能改善; 如果 `false` (默认值) ，则会被禁用。</span><span class="sxs-lookup"><span data-stu-id="1edca-276">If `true`, the performance improvements are enabled; if `false` (the default value), they are disabled.</span></span>|<span data-ttu-id="1edca-277">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-277">.NET Framework 4.8</span></span>|
|`Switch.System.Uri.`<br/>`DontEnableStrictRFC3986ReservedCharacterSets`|<span data-ttu-id="1edca-278">确定某些有时被解码的百分号编码字符现在是否一致地进行了编码。</span><span class="sxs-lookup"><span data-stu-id="1edca-278">Determines whether certain percent-encoded characters that were sometimes decoded are now consistently left encoded.</span></span> <span data-ttu-id="1edca-279">如果 `true` 为，则对其进行解码; 否则为 `false` 。</span><span class="sxs-lookup"><span data-stu-id="1edca-279">If `true`, they are decoded; otherwise, `false`.</span></span>|<span data-ttu-id="1edca-280">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="1edca-280">.NET Framework 4.7.2</span></span>|
|`Switch.System.Uri.`<br/>`DontKeepUnicodeBidiFormattingCharacters`|<span data-ttu-id="1edca-281">确定 Uri 中 Unicode 双向字符的处理。</span><span class="sxs-lookup"><span data-stu-id="1edca-281">Determines the handling of Unicode bidirectional characters in URIs.</span></span> <span data-ttu-id="1edca-282">`true` 从 Uri 中提取它们; `false` 保留并对其进行百分比编码。</span><span class="sxs-lookup"><span data-stu-id="1edca-282">`true` to strip them from URIs; `false` to preserve and percent-encode them.</span></span>|<span data-ttu-id="1edca-283">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="1edca-283">.NET Framework 4.7.2</span></span>|
|`Switch.System.Windows.Controls.Grid.`<br/>`StarDefinitionsCanExceedAvailableSpace` |<span data-ttu-id="1edca-284">确定 Windows Presentation Foundation 将旧算法应用于 (`true`) 或新算法 (`false`) 将空间分配到 \* 列。</span><span class="sxs-lookup"><span data-stu-id="1edca-284">Determines whether Windows Presentation Foundation applies an old algorithm (`true`) or a new algorithm (`false`) in allocating space to \*-columns.</span></span> <span data-ttu-id="1edca-285">有关详细信息，请参阅[缓解：网格控件向 \*-列分配空间](../../../migration-guide/retargeting/4.6.2-4.7.md#wpf-grid-allocation-of-space-to-star-columns)。</span><span class="sxs-lookup"><span data-stu-id="1edca-285">For more information, see [Mitigation: Grid Control's Space Allocation to Star-columns](../../../migration-guide/retargeting/4.6.2-4.7.md#wpf-grid-allocation-of-space-to-star-columns).</span></span> |<span data-ttu-id="1edca-286">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="1edca-286">.NET Framework 4.7</span></span> |
|`Switch.System.Windows.Controls.TabControl.`<br/>`SelectionPropertiesCanLagBehindSelectionChangedEvent`|<span data-ttu-id="1edca-287">控制选择器或选项卡控件是否始终在引发选择更改事件之前更新其选定值属性的值。</span><span class="sxs-lookup"><span data-stu-id="1edca-287">Controls whether a selector or a tab control always updates the value of its selected value property before raising the selection changed event.</span></span>|<span data-ttu-id="1edca-288">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="1edca-288">.NET Framework 4.7.1</span></span>|
|`Switch.System.Windows.Controls.Text.`<br/>`UseAdornerForTextboxSelectionRendering`|<span data-ttu-id="1edca-289">确定基于非装饰器的选择呈现是否可用于 <xref:System.Windows.Controls.TextBox> 和控件， <xref:System.Windows.Controls.PasswordBox> 以防止封闭像素文本 (`false`) ，或者是否仅在装饰器层中呈现文本 (`true`) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-289">Determines whether non-Adorner-based selection rendering is available for the <xref:System.Windows.Controls.TextBox> and <xref:System.Windows.Controls.PasswordBox> controls to prevent occluded text (`false`), or whether text is rendered only in the Adorner layer (`true`).</span></span>|<span data-ttu-id="1edca-290">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="1edca-290">.NET Framework 4.7.2</span></span>|
|`Switch.System.Windows.Data.Binding.`<br/>`IListIndexerHidesCustomIndexer`|<span data-ttu-id="1edca-291">控制是否使用错误地 (自定义 IList 索引器 `true`) 或正确 (`false` <xref:System.Windows.Data.Binding?displayProperty=nameWithType> 类) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-291">Controls whether custom IList indexers are used incorrectly (`true`) or correctly (`false`) by the <xref:System.Windows.Data.Binding?displayProperty=nameWithType> class.</span></span>|<span data-ttu-id="1edca-292">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-292">.NET Framework 4.8</span></span>|
|`Switch.System.Windows.DoNotScaleForDpiChanges`|<span data-ttu-id="1edca-293">确定在每个系统上是否发生了 DPI 更改， (值为 `false`) 或每个监视器 (值 `true`) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-293">Determines whether DPI changes occur on a per-system (a value of `false`) or per-monitor basis (a value of `true`).</span></span>|<span data-ttu-id="1edca-294">.NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="1edca-294">.NET Framework 4.6.2</span></span>|
|`Switch.System.Windows.`<br/>`DoNotUsePresentationDpiCapabilityTier2OrGreater`|<span data-ttu-id="1edca-295">控制在按监视器识别模式下运行 WPF 时，是否对中的控件大小进行了改进 <xref:System.Windows.Interop.HwndHost?displayProperty=nameWithType> ， (`true`) 或启用了 (`false`) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-295">Controls whether improvements in sizing of controls in a <xref:System.Windows.Interop.HwndHost?displayProperty=nameWithType> when WPF is run in per-monitor aware mode are disabled (`true`) or enabled (`false`).</span></span>|<span data-ttu-id="1edca-296">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-296">.NET Framework 4.8</span></span>|
|`Switch.System.Windows.Forms.`<br/>`DomainUpDown.UseLegacyScrolling`|<span data-ttu-id="1edca-297">确定在控件文本存在时开发人员是否需要专门处理 <xref:System.Windows.Forms.DomainUpDown.UpButton?displayProperty=nameWithType> 操作。</span><span class="sxs-lookup"><span data-stu-id="1edca-297">Determines whether the developer needs to specially handle the <xref:System.Windows.Forms.DomainUpDown.UpButton?displayProperty=nameWithType> action when control text is present.</span></span> <span data-ttu-id="1edca-298">`true` 若要处理 <xref:System.Windows.Forms.DomainUpDown.UpButton> 操作，则为; 如果 `false` <xref:System.Windows.Forms.DomainUpDown.UpButton?displayProperty=nameWithType> 和操作正确地同步，则为 <xref:System.Windows.Forms.DomainUpDown.DownButton?displayProperty=nameWithType> 。</span><span class="sxs-lookup"><span data-stu-id="1edca-298">`true` to handle the <xref:System.Windows.Forms.DomainUpDown.UpButton> action; `false` for the <xref:System.Windows.Forms.DomainUpDown.UpButton?displayProperty=nameWithType> and <xref:System.Windows.Forms.DomainUpDown.DownButton?displayProperty=nameWithType> actions to be properly in sync.</span></span>|<span data-ttu-id="1edca-299">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="1edca-299">.NET Framework 4.7.2</span></span>|
|`Switch.System.Windows.Forms.`<br />`DontSupportReentrantFilterMessage`|<span data-ttu-id="1edca-300">在代码中，允许自定义 <xref:System.Windows.Forms.IMessageFilter.PreFilterMessage%2A?displayProperty=nameWithType> 实现安全筛选消息，而不会在调用方法时引发异常 <xref:System.Windows.Forms.Application.FilterMessage%2A?displayProperty=nameWithType> 。</span><span class="sxs-lookup"><span data-stu-id="1edca-300">Opts out of the code that allows a custom <xref:System.Windows.Forms.IMessageFilter.PreFilterMessage%2A?displayProperty=nameWithType> implementation to safely filter messages without throwing an exception when the <xref:System.Windows.Forms.Application.FilterMessage%2A?displayProperty=nameWithType> method is called.</span></span> <span data-ttu-id="1edca-301">有关详细信息，请参阅[缓解：自定义 IMessageFilter.PreFilterMessage 实现](../../../migration-guide/mitigation-custom-imessagefilter-prefiltermessage-implementations.md)。</span><span class="sxs-lookup"><span data-stu-id="1edca-301">For more information, see [Mitigation: Custom IMessageFilter.PreFilterMessage Implementations](../../../migration-guide/mitigation-custom-imessagefilter-prefiltermessage-implementations.md).</span></span>|<span data-ttu-id="1edca-302">.NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="1edca-302">.NET Framework 4.6.1</span></span>|
|`Switch.System.Windows.Forms.`<br/>`UseLegacyContextMenuStripSourceControlValue`|<span data-ttu-id="1edca-303">确定 <xref:System.Windows.Forms.ContextMenuStrip.SourceControl?displayProperty=nameWithType> 当用户通过嵌套控件打开菜单时，属性是否返回源代码管理 <xref:System.Windows.Forms.ToolStripMenuItem> 。</span><span class="sxs-lookup"><span data-stu-id="1edca-303">Determines whether the <xref:System.Windows.Forms.ContextMenuStrip.SourceControl?displayProperty=nameWithType> property returns the source control when the user opens the menu from a nested <xref:System.Windows.Forms.ToolStripMenuItem> control.</span></span> <span data-ttu-id="1edca-304">`true` 若要返回 `null` ，则为旧行为; `false` 返回源控件。</span><span class="sxs-lookup"><span data-stu-id="1edca-304">`true` to return `null`, the legacy behavior; `false` to return the source control.</span></span>|<span data-ttu-id="1edca-305">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="1edca-305">.NET Framework 4.7.2</span></span>|
|`Switch.System.Windows.Forms.UseLegacyToolTipDisplay`|<span data-ttu-id="1edca-306">控制是否禁用工具提示调用支持 (`true`) 或启用 (`false`) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-306">Controls whether tooltip invocation support is disabled (`true`) or enabled (`false`).</span></span> <span data-ttu-id="1edca-307">启用工具提示调用支持还需要由、和定义的旧版辅助功能， `Switch.UseLegacyAccessibilityFeatures` `Switch.UseLegacyAccessibilityFeatures.2` `Switch.UseLegacyAccessibilityFeatures.3` (设置为 `false`) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-307">Enabling tooltip invocation support also requires legacy accessibility features defined by `Switch.UseLegacyAccessibilityFeatures`, `Switch.UseLegacyAccessibilityFeatures.2`, and `Switch.UseLegacyAccessibilityFeatures.3` all be disabled (set to `false`).</span></span>|<span data-ttu-id="1edca-308">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-308">.NET Framework 4.8</span></span>|
|`Switch.System.Windows.Input.Stylus.`<br/>`EnablePointerSupport`|<span data-ttu-id="1edca-309">确定是否 `WM_POINTER` 在 WPF 应用程序中启用了基于可选的触控/触笔堆栈。</span><span class="sxs-lookup"><span data-stu-id="1edca-309">Determines whether an optional `WM_POINTER`-based touch/stylus stack is enabled in WPF applications.</span></span> <span data-ttu-id="1edca-310">有关详细信息，请参阅 [缓解：基于指针的触控和触笔支持](../../../migration-guide/mitigation-pointer-based-touch-and-stylus-support.md)</span><span class="sxs-lookup"><span data-stu-id="1edca-310">For more information, see [Mitigation: Pointer-based Touch and Stylus Support](../../../migration-guide/mitigation-pointer-based-touch-and-stylus-support.md)</span></span>|<span data-ttu-id="1edca-311">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="1edca-311">.NET Framework 4.7</span></span>|
|`Switch.System.Windows.Markup.`<br/>`DoNotUseSha256ForMarkupCompilerChecksumAlgorithm`|<span data-ttu-id="1edca-312">确定用于校验和的默认哈希算法是 SHA256 (`false`) 还是 SHA1 (`true`) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-312">Determines whether the default hash algorithm used for checksums is SHA256 (`false`) or SHA1 (`true`).</span></span><br><span data-ttu-id="1edca-313">由于与 SHA1 冲突，Microsoft 建议使用 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-313">Due to collision problems with SHA1, Microsoft recommends SHA256.</span></span>|<span data-ttu-id="1edca-314">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="1edca-314">.NET Framework 4.7.2</span></span>|
|`Switch.System.Windows.Media.ImageSourceConverter.`<br/>`OverrideExceptionWithNullReferenceException`|<span data-ttu-id="1edca-315">控制是否引发旧的 [NullReferenceException](xref:System.NullReferenceException) 而不是引发异常，更具体地指出异常的原因 (例如 [DirectoryNotFoundException](xref:System.IO.DirectoryNotFoundException) 或 [system.io.filenotfoundexception](xref:System.IO.FileNotFoundException)。</span><span class="sxs-lookup"><span data-stu-id="1edca-315">Controls whether a legacy [NullReferenceException](xref:System.NullReferenceException) is thrown instead of the exception that more specifically indicates the cause of the exception (such as a [DirectoryNotFoundException](xref:System.IO.DirectoryNotFoundException) or a [FileNotFoundException](xref:System.IO.FileNotFoundException).</span></span> <span data-ttu-id="1edca-316">它旨在供依赖于处理 [NullReferenceException](xref:System.NullReferenceException)的代码使用。</span><span class="sxs-lookup"><span data-stu-id="1edca-316">It is intended for use by code that depends on handling the [NullReferenceException](xref:System.NullReferenceException).</span></span> | <span data-ttu-id="1edca-317">.NET Framework 4.7</span><span class="sxs-lookup"><span data-stu-id="1edca-317">.NET Framework 4.7</span></span> |
|`Switch.System.Workflow.ComponentModel.`<br/>`UseLegacyHashForXomlFileChecksum`|<span data-ttu-id="1edca-318">控制工作流项目生成中的 XOML 文件的校验和哈希运算是使用 MD5 算法 (`true`) ，还是使用在 .NET Framework 4.8 中引入为默认值的 SHA256 算法。</span><span class="sxs-lookup"><span data-stu-id="1edca-318">Controls whether checksum hashing of XOML files in workflow project builds use the MD5 algorithm (`true`), or whether they use the SHA256 algorithm introduced as the default in .NET Framework 4.8.</span></span><br><span data-ttu-id="1edca-319">由于与 MD5 冲突，Microsoft 建议使用 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-319">Due to collision problems with MD5, Microsoft recommends SHA256.</span></span>|<span data-ttu-id="1edca-320">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-320">.NET Framework 4.8</span></span>|
|`Switch.System.Workflow.Runtime.`<br/>`UseLegacyHashForSqlTrackingCacheKey`|<span data-ttu-id="1edca-321">控制由 SqlTrackingService 哈希处理是否使用) 缓存字符串的 MD5 (算法 `true` ，或是否使用在 .NET Framework 4.8 中引入默认值的 SHA256 算法。</span><span class="sxs-lookup"><span data-stu-id="1edca-321">Controls whether checksum hashing by the SqlTrackingService uses the MD5 algorithm (`true`) for cached strings, or whether it uses the SHA256 algorithm introduced as the default in .NET Framework 4.8.</span></span><br><span data-ttu-id="1edca-322">由于与 MD5 冲突，Microsoft 建议使用 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-322">Due to collision problems with MD5, Microsoft recommends SHA256.</span></span>|<span data-ttu-id="1edca-323">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-323">.NET Framework 4.8</span></span>|
|`Switch.System.Workflow.Runtime.`<br/>`UseLegacyHashForWorkflowDefinitionDispenserCacheKey`|<span data-ttu-id="1edca-324">控制工作流运行时是否使用 MD5 算法 `true` 为缓存的工作流定义 () ，或者是否使用在 .NET Framework 4.8 中引入默认值的 SHA256 算法。</span><span class="sxs-lookup"><span data-stu-id="1edca-324">Controls whether checksum hashing by the Workflow Runtime uses the MD5 algorithm (`true`) for cached workflow definitions, or whether it uses the SHA256 algorithm introduced as the default in .NET Framework 4.8.</span></span><br><span data-ttu-id="1edca-325">由于与 MD5 冲突，Microsoft 建议使用 SHA256。</span><span class="sxs-lookup"><span data-stu-id="1edca-325">Due to collision problems with MD5, Microsoft recommends SHA256.</span></span>|<span data-ttu-id="1edca-326">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-326">.NET Framework 4.8</span></span>|
|`Switch.UseLegacyAccessibilityFeatures`|<span data-ttu-id="1edca-327">控制是否启用或禁用从 .NET Framework 4.7.1 开始可用的辅助功能。</span><span class="sxs-lookup"><span data-stu-id="1edca-327">Controls whether accessibility features available starting with .NET Framework 4.7.1 are enabled or disabled.</span></span> | <span data-ttu-id="1edca-328">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="1edca-328">.NET Framework 4.7.1</span></span> |
|`Switch.UseLegacyAccessibilityFeatures.2`|<span data-ttu-id="1edca-329">控制是否启用 .NET Framework 4.7.2 中可用的辅助功能， (`false`)  (`true`) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-329">Controls whether accessibility features available in .NET Framework 4.7.2 are enabled (`false`) or disabled (`true`).</span></span> <span data-ttu-id="1edca-330">如果 `true` 为，则 `Switch.UseLegacyAccessibilityFeatures` 必须同时 `true` 启用 .NET Framework 4.7.1 辅助功能。</span><span class="sxs-lookup"><span data-stu-id="1edca-330">If `true`, `Switch.UseLegacyAccessibilityFeatures` must also be `true` to enable .NET Framework 4.7.1 accessibility features.</span></span>|<span data-ttu-id="1edca-331">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="1edca-331">.NET Framework 4.7.2</span></span>|
|`Switch.UseLegacyAccessibilityFeatures.3`|<span data-ttu-id="1edca-332">控制是否 `false`) 或禁用 ()  (启用 .NET Framework 4.8 中引入的辅助功能 `true` 。</span><span class="sxs-lookup"><span data-stu-id="1edca-332">Controls whether accessibility features introduced in .NET Framework 4.8 are enabled (`false`) or disabled (`true`).</span></span> <span data-ttu-id="1edca-333">如果 `true` 、 `Switch.UseLegacyAccessibilityFeatures` 和 `Switch.UseLegacyAccessibilityFeatures.2` 必须也为 `true` 。</span><span class="sxs-lookup"><span data-stu-id="1edca-333">If `true`, `Switch.UseLegacyAccessibilityFeatures` and `Switch.UseLegacyAccessibilityFeatures.2` must also be `true`.</span></span>|<span data-ttu-id="1edca-334">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-334">.NET Framework 4.8</span></span>|
|`Switch.UseLegacyToolTipDisplay`|<span data-ttu-id="1edca-335">控制在用户将鼠标光标悬停在 () 的 WPF 控件上时是否显示工具提示 `true` ，或者是否在键盘焦点上以及通过键盘快捷键 (`false` 的默认行为) 显示工具提示。</span><span class="sxs-lookup"><span data-stu-id="1edca-335">Controls whether tooltips are displayed when a user hovers the mouse cursor over a WPF control (`true`), or whether they are displayed both on keyboard focus and via keyboard shortcut key (`false`, the default behavior).</span></span> <span data-ttu-id="1edca-336">对于在 .NET Framework 4.8 上运行但面向以前版本的 .NET Framework 的应用程序，启用键盘焦点和快捷键支持要求 `Switch.UseLegacyAccessibilityFeatures` 将、 `Switch.UseLegacyAccessibilityFeatures.2` 和 `Switch.UseLegacyAccessibilityFeatures.3` 均设置为 `false` 。</span><span class="sxs-lookup"><span data-stu-id="1edca-336">For applications running on .NET Framework 4.8 but targeting previous versions of the .NET Framework, enabling both keyboard focus and shortcut key support requires that `Switch.UseLegacyAccessibilityFeatures`, `Switch.UseLegacyAccessibilityFeatures.2`, and `Switch.UseLegacyAccessibilityFeatures.3` all be set to `false`.</span></span>|<span data-ttu-id="1edca-337">.NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="1edca-337">.NET Framework 4.8</span></span>|
|`Switch.System.Xml.`<br />`IgnoreEmptyKeySequences`|<span data-ttu-id="1edca-338">控制 XSD 架构验证是否忽略复合键中的空键顺序。</span><span class="sxs-lookup"><span data-stu-id="1edca-338">Controls whether empty key sequences in compound keys are ignored by XSD schema validation.</span></span> <span data-ttu-id="1edca-339">有关详细信息，请参阅 [缓解： XML 架构验证](../../../migration-guide/mitigation-xml-schema-validation.md)。</span><span class="sxs-lookup"><span data-stu-id="1edca-339">For more information, see [Mitigation: XML Schema Validation](../../../migration-guide/mitigation-xml-schema-validation.md).</span></span>|<span data-ttu-id="1edca-340">.NET Framework 4.6</span><span class="sxs-lookup"><span data-stu-id="1edca-340">.NET Framework 4.6</span></span>|

> [!NOTE]
> <span data-ttu-id="1edca-341">`AppContextSwitchOverrides`你还可以通过在 c # 中调用 (，而不是将元素添加到应用程序配置文件 `static` 中 ) 或 `Shared` (Visual Basic) 方法中进行设置 <xref:System.AppContext.SetSwitch%2A?displayProperty=nameWithType> 。</span><span class="sxs-lookup"><span data-stu-id="1edca-341">Instead of adding an `AppContextSwitchOverrides` element to an application configuration file, you can also set the switches programmatically by calling the `static` (in C#) or `Shared` (in Visual Basic) <xref:System.AppContext.SetSwitch%2A?displayProperty=nameWithType> method.</span></span>

 <span data-ttu-id="1edca-342">库开发人员还可以定义自定义开关，使调用方可以选择不更改其库的更高版本中引入的已更改功能。</span><span class="sxs-lookup"><span data-stu-id="1edca-342">Library developers can also define custom switches to allow callers to opt out of changed functionality introduced  in later versions of their libraries.</span></span> <span data-ttu-id="1edca-343">有关更多信息，请参见 <xref:System.AppContext> 类。</span><span class="sxs-lookup"><span data-stu-id="1edca-343">For more information, see the <xref:System.AppContext> class.</span></span>

## <a name="switches-in-aspnet-apps"></a><span data-ttu-id="1edca-344">ASP.NET 应用中的开关</span><span class="sxs-lookup"><span data-stu-id="1edca-344">Switches in ASP.NET apps</span></span>

<span data-ttu-id="1edca-345">可以通过将 [\<Add>](../appsettings/add-element-for-appsettings.md) 元素添加到 web.config 文件的部分，将 ASP.NET 应用程序配置为使用兼容性设置 [\<appSettings>](../appsettings/index.md) 。</span><span class="sxs-lookup"><span data-stu-id="1edca-345">You can configure an ASP.NET application to use compatibility settings by adding an [\<Add>](../appsettings/add-element-for-appsettings.md) element to the [\<appSettings>](../appsettings/index.md) section of the web.config file.</span></span>

<span data-ttu-id="1edca-346">下面的示例使用 `<add>` 元素将两个设置添加到 `<appSettings>` web.config 文件的部分：</span><span class="sxs-lookup"><span data-stu-id="1edca-346">The following example uses the `<add>` element to add two settings to the `<appSettings>` section of a web.config file:</span></span>

```xml
<appSettings>
  <add key="AppContext.SetSwitch:Switch.System.Globalization.NoAsyncCurrentCulture" value="true" />
  <add key="AppContext.SetSwitch:Switch.System.Uri.DontEnableStrictRFC3986ReservedCharacterSets" value="true" />
</appSettings>
```

## <a name="example"></a><span data-ttu-id="1edca-347">示例</span><span class="sxs-lookup"><span data-stu-id="1edca-347">Example</span></span>

 <span data-ttu-id="1edca-348">下面的示例使用 `AppContextSwitchOverrides` 元素定义单个应用程序兼容性开关， `Switch.System.Globalization.NoAsyncCurrentCulture` 该开关阻止区域性在异步方法调用中的线程之间流动。</span><span class="sxs-lookup"><span data-stu-id="1edca-348">The following example uses the `AppContextSwitchOverrides` element to define a single application  compatibility switch, `Switch.System.Globalization.NoAsyncCurrentCulture`, that prevents culture from flowing across threads in asynchronous method calls.</span></span>

```xml
<configuration>
   <runtime>
      <AppContextSwitchOverrides value="Switch.System.Globalization.NoAsyncCurrentCulture=true" />
   </runtime>
</configuration>
```

 <span data-ttu-id="1edca-349">下面的示例使用 `AppContextSwitchOverrides` 元素定义两个应用程序兼容性开关， `Switch.System.Globalization.NoAsyncCurrentCulture` 和 `Switch.System.IO.BlockLongPaths` 。</span><span class="sxs-lookup"><span data-stu-id="1edca-349">The following example uses the `AppContextSwitchOverrides` element to define two application compatibility switches, `Switch.System.Globalization.NoAsyncCurrentCulture` and `Switch.System.IO.BlockLongPaths`.</span></span> <span data-ttu-id="1edca-350">分号将两个名称/值对隔开。</span><span class="sxs-lookup"><span data-stu-id="1edca-350">A semicolon separates the two name/value pairs.</span></span>

```xml
<configuration>
    <runtime>
       <AppContextSwitchOverrides
          value="Switch.System.Globalization.NoAsyncCurrentCulture=true;Switch.System.IO.BlockLongPaths=true" />
    </runtime>
</configuration>
```

## <a name="see-also"></a><span data-ttu-id="1edca-351">请参阅</span><span class="sxs-lookup"><span data-stu-id="1edca-351">See also</span></span>

- [<span data-ttu-id="1edca-352">在 .NET Framework 4.6 和更高版本中缓解新行为</span><span class="sxs-lookup"><span data-stu-id="1edca-352">Mitigate new behaviors in .NET Framework 4.6 and later</span></span>](../../../migration-guide/mitigations.md)
- <xref:System.AppContext?displayProperty=nameWithType>
- [<span data-ttu-id="1edca-353">\<runtime> 元素</span><span class="sxs-lookup"><span data-stu-id="1edca-353">\<runtime> Element</span></span>](runtime-element.md)
- [<span data-ttu-id="1edca-354">\<configuration> 元素</span><span class="sxs-lookup"><span data-stu-id="1edca-354">\<configuration> Element</span></span>](../configuration-element.md)

---
description: 了解详细信息：日期和时间规范函数
title: 日期和时间规范函数
ms.date: 03/30/2017
ms.assetid: 9628b74f-1585-436a-b385-8b02ed0cdd63
ms.openlocfilehash: 3c57edc613e5ef871aa3359ef7609e6c0892efc4
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/06/2021
ms.locfileid: "99724786"
---
# <a name="date-and-time-canonical-functions"></a><span data-ttu-id="277f0-103">日期和时间规范函数</span><span class="sxs-lookup"><span data-stu-id="277f0-103">Date and Time Canonical Functions</span></span>

[!INCLUDE[esql](../../../../../../includes/esql-md.md)] <span data-ttu-id="277f0-104">提供日期和时间规范函数。</span><span class="sxs-lookup"><span data-stu-id="277f0-104">includes date and time canonical functions.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="277f0-105">备注</span><span class="sxs-lookup"><span data-stu-id="277f0-105">Remarks</span></span>  

 <span data-ttu-id="277f0-106">下表显示了日期和时间 [!INCLUDE[esql](../../../../../../includes/esql-md.md)] 规范函数。</span><span class="sxs-lookup"><span data-stu-id="277f0-106">The following table shows the date and time [!INCLUDE[esql](../../../../../../includes/esql-md.md)] canonical functions.</span></span> <span data-ttu-id="277f0-107">`datetime` 是一个 <xref:System.DateTime> 值。</span><span class="sxs-lookup"><span data-stu-id="277f0-107">`datetime` is a <xref:System.DateTime> value.</span></span>  
  
|<span data-ttu-id="277f0-108">函数</span><span class="sxs-lookup"><span data-stu-id="277f0-108">Function</span></span>|<span data-ttu-id="277f0-109">说明</span><span class="sxs-lookup"><span data-stu-id="277f0-109">Description</span></span>|  
|--------------|-----------------|  
|`AddNanoseconds(expression,number)`|<span data-ttu-id="277f0-110">将指定的毫微秒 `number` 添加到 `expression`。</span><span class="sxs-lookup"><span data-stu-id="277f0-110">Adds the specified `number` of nanoseconds to the `expression`.</span></span><br /><br /> <span data-ttu-id="277f0-111">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-111">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-112">`expression`：`DateTime`、`DateTimeOffset` 或 `Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-112">`expression`: `DateTime`, `DateTimeOffset`, or `Time`.</span></span><br /><br /> <span data-ttu-id="277f0-113">`number`: `Int32`.</span><span class="sxs-lookup"><span data-stu-id="277f0-113">`number`: `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-114">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-114">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-115">`expression` 的类型。</span><span class="sxs-lookup"><span data-stu-id="277f0-115">The type of `expression`.</span></span>|  
|`AddMicroseconds(expression,number)`|<span data-ttu-id="277f0-116">将指定的微秒 `number` 添加到 `expression`。</span><span class="sxs-lookup"><span data-stu-id="277f0-116">Adds the specified `number` of microseconds to the `expression`.</span></span><br /><br /> <span data-ttu-id="277f0-117">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-117">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-118">`expression`：`DateTime`、`DateTimeOffset` 或 `Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-118">`expression`: `DateTime`, `DateTimeOffset`, or `Time`.</span></span><br /><br /> <span data-ttu-id="277f0-119">`number`: `Int32`.</span><span class="sxs-lookup"><span data-stu-id="277f0-119">`number`: `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-120">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-120">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-121">`expression` 的类型。</span><span class="sxs-lookup"><span data-stu-id="277f0-121">The type of `expression`.</span></span>|  
|`AddMilliseconds(expression,number)`|<span data-ttu-id="277f0-122">将指定的毫秒 `number` 添加到 `expression`。</span><span class="sxs-lookup"><span data-stu-id="277f0-122">Adds the specified `number` of milliseconds to the `expression`.</span></span><br /><br /> <span data-ttu-id="277f0-123">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-123">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-124">`expression`：`DateTime`、`DateTimeOffset` 或 `Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-124">`expression`: `DateTime`, `DateTimeOffset`, or `Time`.</span></span><br /><br /> <span data-ttu-id="277f0-125">`number`: `Int32`.</span><span class="sxs-lookup"><span data-stu-id="277f0-125">`number`: `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-126">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-126">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-127">`expression` 的类型。</span><span class="sxs-lookup"><span data-stu-id="277f0-127">The type of `expression`.</span></span>|  
|`AddSeconds(expression,number)`|<span data-ttu-id="277f0-128">将指定的秒 `number` 添加到 `expression`。</span><span class="sxs-lookup"><span data-stu-id="277f0-128">Adds the specified `number` of seconds to the `expression`.</span></span><br /><br /> <span data-ttu-id="277f0-129">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-129">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-130">`expression`：`DateTime`、`DateTimeOffset` 或 `Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-130">`expression`: `DateTime`, `DateTimeOffset`, or `Time`.</span></span><br /><br /> <span data-ttu-id="277f0-131">`number`: `Int32`.</span><span class="sxs-lookup"><span data-stu-id="277f0-131">`number`: `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-132">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-132">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-133">`expression` 的类型。</span><span class="sxs-lookup"><span data-stu-id="277f0-133">The type of `expression`.</span></span>|  
|`AddMinutes(expression,number)`|<span data-ttu-id="277f0-134">将指定的分钟 `number` 添加到 `expression`。</span><span class="sxs-lookup"><span data-stu-id="277f0-134">Adds the specified `number` of minutes to the `expression`.</span></span><br /><br /> <span data-ttu-id="277f0-135">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-135">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-136">`expression`：`DateTime`、`DateTimeOffset` 或 `Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-136">`expression`: `DateTime`, `DateTimeOffset`, or `Time`.</span></span><br /><br /> <span data-ttu-id="277f0-137">`number`: `Int32`.</span><span class="sxs-lookup"><span data-stu-id="277f0-137">`number`: `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-138">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-138">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-139">`expression` 的类型。</span><span class="sxs-lookup"><span data-stu-id="277f0-139">The type of `expression`.</span></span>|  
|`AddHours(expression,number)`|<span data-ttu-id="277f0-140">将指定的小时 `number` 添加到 `expression`。</span><span class="sxs-lookup"><span data-stu-id="277f0-140">Adds the specified `number` of hours to the `expression`.</span></span><br /><br /> <span data-ttu-id="277f0-141">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-141">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-142">`expression`：`DateTime`、`DateTimeOffset` 或 `Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-142">`expression`: `DateTime`, `DateTimeOffset`, or `Time`.</span></span><br /><br /> <span data-ttu-id="277f0-143">`number`: `Int32`.</span><span class="sxs-lookup"><span data-stu-id="277f0-143">`number`: `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-144">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-144">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-145">`expression` 的类型。</span><span class="sxs-lookup"><span data-stu-id="277f0-145">The type of `expression`.</span></span>|  
|`AddDays(expression,number)`|<span data-ttu-id="277f0-146">将指定的天 `number` 添加到 `expression`。</span><span class="sxs-lookup"><span data-stu-id="277f0-146">Adds the specified `number` of days to the `expression`.</span></span><br /><br /> <span data-ttu-id="277f0-147">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-147">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-148">`expression`：`DateTime` 或 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-148">`expression`: `DateTime` or `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-149">`number`: `Int32`.</span><span class="sxs-lookup"><span data-stu-id="277f0-149">`number`: `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-150">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-150">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-151">`expression` 的类型。</span><span class="sxs-lookup"><span data-stu-id="277f0-151">The type of `expression`.</span></span>|  
|`AddMonths(expression,number)`|<span data-ttu-id="277f0-152">将指定的月份 `number` 添加到 `expression`。</span><span class="sxs-lookup"><span data-stu-id="277f0-152">Adds the specified `number` of months to the `expression`.</span></span><br /><br /> <span data-ttu-id="277f0-153">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-153">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-154">`expression`：`DateTime` 或 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-154">`expression`: `DateTime` or `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-155">`number`: `Int32`.</span><span class="sxs-lookup"><span data-stu-id="277f0-155">`number`: `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-156">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-156">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-157">`expression` 的类型。</span><span class="sxs-lookup"><span data-stu-id="277f0-157">The type of `expression`.</span></span>|  
|`AddYears(expression,number)`|<span data-ttu-id="277f0-158">将指定的年份 `number` 添加到 `expression`。</span><span class="sxs-lookup"><span data-stu-id="277f0-158">Adds the specified `number` of years to the `expression`.</span></span><br /><br /> <span data-ttu-id="277f0-159">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-159">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-160">`expression`：`DateTime` 或 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-160">`expression`: `DateTime` or `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-161">`number`: `Int32`.</span><span class="sxs-lookup"><span data-stu-id="277f0-161">`number`: `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-162">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-162">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-163">`expression` 的类型。</span><span class="sxs-lookup"><span data-stu-id="277f0-163">The type of `expression`.</span></span>|  
|`CreateDateTime(year,month,day,hour,minute,second)`|<span data-ttu-id="277f0-164">返回一个新的 `DateTime` 值作为服务器在自己的时区中的当前日期和时间。</span><span class="sxs-lookup"><span data-stu-id="277f0-164">Returns a new `DateTime` value as the current date and time of the server in the server's time zone.</span></span><br /><br /> <span data-ttu-id="277f0-165">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-165">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-166">`year`、`month`、`day`、`hour`、`minute`：`Int16` 和 `Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-166">`year`, `month`, `day`, `hour`, `minute`: `Int16` and `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-167">`second`: `Double`.</span><span class="sxs-lookup"><span data-stu-id="277f0-167">`second`: `Double`.</span></span><br /><br /> <span data-ttu-id="277f0-168">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-168">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-169">`DateTime`。</span><span class="sxs-lookup"><span data-stu-id="277f0-169">A `DateTime`.</span></span>|  
|`CreateDateTimeOffset(year,month,day,hour,minute,second,tzoffset)`|<span data-ttu-id="277f0-170">返回一个新的 `DateTimeOffset` 值作为服务器相对于协调世界时 (UTC) 的当前日期和时间。</span><span class="sxs-lookup"><span data-stu-id="277f0-170">Returns a new `DateTimeOffset` value as the current date and time of the server relative to the Coordinated Universal Time (UTC).</span></span><br /><br /> <span data-ttu-id="277f0-171">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-171">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-172">`year`, `month`, `day`, `hour`, `minute`, `tzoffset`: `Int32`.</span><span class="sxs-lookup"><span data-stu-id="277f0-172">`year`, `month`, `day`, `hour`, `minute`, `tzoffset`: `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-173">`second`: `Double`.</span><span class="sxs-lookup"><span data-stu-id="277f0-173">`second`: `Double`.</span></span><br /><br /> <span data-ttu-id="277f0-174">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-174">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-175">`DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-175">A `DateTimeOffset`.</span></span>|  
|`CreateTime(hour,minute,second)`|<span data-ttu-id="277f0-176">返回一个新的 `Time` 值作为当前时间。</span><span class="sxs-lookup"><span data-stu-id="277f0-176">Returns a new `Time` value as the current time.</span></span><br /><br /> <span data-ttu-id="277f0-177">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-177">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-178">`hour` 和 `minute`：`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-178">`hour` and `minute`: `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-179">`second`: `Double`.</span><span class="sxs-lookup"><span data-stu-id="277f0-179">`second`: `Double`.</span></span><br /><br /> <span data-ttu-id="277f0-180">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-180">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-181">`Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-181">A `Time`.</span></span>|  
|`CurrentDateTime()`|<span data-ttu-id="277f0-182">返回一个 `DateTime` 值作为服务器所在时区中的当前日期和时间。</span><span class="sxs-lookup"><span data-stu-id="277f0-182">Returns a `DateTime` value as the current date and time of the server in the server's time zone.</span></span><br /><br /> <span data-ttu-id="277f0-183">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-183">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-184">`DateTime`。</span><span class="sxs-lookup"><span data-stu-id="277f0-184">A `DateTime`.</span></span>|  
|`CurrentDateTimeOffset()`|<span data-ttu-id="277f0-185">将当前日期、时间和偏移量作为 `DateTimeOffset` 返回。</span><span class="sxs-lookup"><span data-stu-id="277f0-185">Returns the current date, time and offset as a `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-186">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-186">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-187">`DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-187">A `DateTimeOffset`.</span></span>|  
|`CurrentUtcDateTime()`|<span data-ttu-id="277f0-188">返回一个 <xref:System.DateTime> 值，该值作为服务器在 UTS 时区中的当前日期和时间。</span><span class="sxs-lookup"><span data-stu-id="277f0-188">Returns a <xref:System.DateTime> value as the current date and time of the server in the UTS time zone.</span></span><br /><br /> <span data-ttu-id="277f0-189">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-189">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-190">`DateTime`。</span><span class="sxs-lookup"><span data-stu-id="277f0-190">A `DateTime`.</span></span>|  
|`Day(expression)`|<span data-ttu-id="277f0-191">将 `expression` 的日部分作为一个介于 1 到 31 之间的 `Int32` 返回。</span><span class="sxs-lookup"><span data-stu-id="277f0-191">Returns the day portion of `expression` as an `Int32` between 1 and 31.</span></span><br /><br /> <span data-ttu-id="277f0-192">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-192">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-193">`DateTime` 和 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-193">A `DateTime` and `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-194">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-194">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-195">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-195">An `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-196">**示例**</span><span class="sxs-lookup"><span data-stu-id="277f0-196">**Example**</span></span><br /><br /> `-- The following example returns 12.`<br /><br /> `Day(cast('03/12/1998' as DateTime))`|  
|`DayOfYear(expression)`|<span data-ttu-id="277f0-197">将 `expression` 的日部分作为一个介于 1 到 366 之间的 `Int32` 返回，对于闰年的最后一天将返回 366。</span><span class="sxs-lookup"><span data-stu-id="277f0-197">Returns the day portion of `expression` as an `Int32` between 1 and 366, where 366 is returned for the last day of a leap year.</span></span><br /><br /> <span data-ttu-id="277f0-198">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-198">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-199">`DateTime` 或 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-199">A `DateTime` or `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-200">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-200">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-201">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-201">An `Int32`.</span></span>|  
|`DiffNanoseconds(startExpression,endExpression)`|<span data-ttu-id="277f0-202">返回 `startExpression` 和 `endExpression` 之间的差（毫微秒）。</span><span class="sxs-lookup"><span data-stu-id="277f0-202">Returns the difference, in nanoseconds, between `startExpression` and `endExpression`.</span></span><br /><br /> <span data-ttu-id="277f0-203">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-203">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-204">`startExpression`、`endExpression`：`DateTime`、`DateTimeOffset` 或 `Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-204">`startExpression`, `endExpression`: `DateTime`, `DateTimeOffset`, or `Time`.</span></span> <span data-ttu-id="277f0-205">**注意：** `startExpression`和 `endExpression` 必须属于同一类型。  </span><span class="sxs-lookup"><span data-stu-id="277f0-205">**Note:**  `startExpression` and `endExpression` must be of the same type.</span></span> <br /><br /> <span data-ttu-id="277f0-206">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-206">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-207">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-207">An `Int32`.</span></span>|  
|`DiffMilliseconds(startExpression,endExpression)`|<span data-ttu-id="277f0-208">返回 `startExpression` 和 `endExpression` 之间的差（毫秒）。</span><span class="sxs-lookup"><span data-stu-id="277f0-208">Returns the difference, in milliseconds, between `startExpression` and `endExpression`.</span></span><br /><br /> <span data-ttu-id="277f0-209">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-209">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-210">`startExpression`、`endExpression`：`DateTime`、`DateTimeOffset` 或 `Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-210">`startExpression`, `endExpression`: `DateTime`, `DateTimeOffset`, or `Time`.</span></span> <span data-ttu-id="277f0-211">**注意：** `startExpression`和 `endExpression` 必须属于同一类型。  </span><span class="sxs-lookup"><span data-stu-id="277f0-211">**Note:**  `startExpression` and `endExpression` must be of the same type.</span></span> <br /><br /> <span data-ttu-id="277f0-212">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-212">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-213">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-213">An `Int32`.</span></span>|  
|`DiffMicroseconds(startExpression,endExpression)`|<span data-ttu-id="277f0-214">返回 `startExpression` 和 `endExpression` 之间的差（微秒）。</span><span class="sxs-lookup"><span data-stu-id="277f0-214">Returns the difference, in microseconds, between `startExpression` and `endExpression`.</span></span><br /><br /> <span data-ttu-id="277f0-215">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-215">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-216">`startExpression`、`endExpression`：`DateTime`、`DateTimeOffset` 或 `Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-216">`startExpression`, `endExpression`: `DateTime`, `DateTimeOffset`, or `Time`.</span></span> <span data-ttu-id="277f0-217">**注意：** `startExpression`和 `endExpression` 必须属于同一类型。  </span><span class="sxs-lookup"><span data-stu-id="277f0-217">**Note:**  `startExpression` and `endExpression` must be of the same type.</span></span> <br /><br /> <span data-ttu-id="277f0-218">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-218">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-219">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-219">An `Int32`.</span></span>|  
|`DiffSeconds(startExpression,endExpression)`|<span data-ttu-id="277f0-220">返回 `startExpression` 和 `endExpression` 之间的差（秒）。</span><span class="sxs-lookup"><span data-stu-id="277f0-220">Returns the difference, in seconds, between `startExpression` and `endExpression`.</span></span><br /><br /> <span data-ttu-id="277f0-221">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-221">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-222">`startExpression`、`endExpression`：`DateTime`、`DateTimeOffset` 或 `Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-222">`startExpression`, `endExpression`: `DateTime`, `DateTimeOffset`, or `Time`.</span></span> <span data-ttu-id="277f0-223">**注意：** `startExpression`和 `endExpression` 必须属于同一类型。  </span><span class="sxs-lookup"><span data-stu-id="277f0-223">**Note:**  `startExpression` and `endExpression` must be of the same type.</span></span> <br /><br /> <span data-ttu-id="277f0-224">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-224">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-225">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-225">An `Int32`.</span></span>|  
|`DiffMinutes(startExpression,endExpression)`|<span data-ttu-id="277f0-226">返回 `startExpression` 和 `endExpression` 之间的差（分钟）。</span><span class="sxs-lookup"><span data-stu-id="277f0-226">Returns the difference, in minutes, between `startExpression` and `endExpression`.</span></span><br /><br /> <span data-ttu-id="277f0-227">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-227">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-228">`startExpression`、`endExpression`：`DateTime`、`DateTimeOffset` 或 `Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-228">`startExpression`, `endExpression`: `DateTime`, `DateTimeOffset`, or `Time`.</span></span> <span data-ttu-id="277f0-229">**注意：** `startExpression`和 `endExpression` 必须属于同一类型。  </span><span class="sxs-lookup"><span data-stu-id="277f0-229">**Note:**  `startExpression` and `endExpression` must be of the same type.</span></span> <br /><br /> <span data-ttu-id="277f0-230">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-230">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-231">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-231">An `Int32`.</span></span>|  
|`DiffHours(startExpression,endExpression)`|<span data-ttu-id="277f0-232">返回 `startExpression` 和 `endExpression` 之间的差（小时）。</span><span class="sxs-lookup"><span data-stu-id="277f0-232">Returns the difference, in hours, between `startExpression` and `endExpression`.</span></span><br /><br /> <span data-ttu-id="277f0-233">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-233">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-234">`startExpression`、`endExpression`：`DateTime`、`DateTimeOffset` 或 `Time`。</span><span class="sxs-lookup"><span data-stu-id="277f0-234">`startExpression`, `endExpression`: `DateTime`, `DateTimeOffset`, or `Time`.</span></span> <span data-ttu-id="277f0-235">**注意：** `startExpression`和 `endExpression` 必须属于同一类型。  </span><span class="sxs-lookup"><span data-stu-id="277f0-235">**Note:**  `startExpression` and `endExpression` must be of the same type.</span></span> <br /><br /> <span data-ttu-id="277f0-236">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-236">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-237">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-237">An `Int32`.</span></span>|  
|`DiffDays(startExpression,endExpression)`|<span data-ttu-id="277f0-238">返回 `startExpression` 和 `endExpression` 之间的差（天）。</span><span class="sxs-lookup"><span data-stu-id="277f0-238">Returns the difference, in days, between `startExpression` and `endExpression`.</span></span><br /><br /> <span data-ttu-id="277f0-239">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-239">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-240">`startExpression`、`endExpression`：`DateTime` 或 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-240">`startExpression`, `endExpression`: `DateTime` or `DateTimeOffset`.</span></span> <span data-ttu-id="277f0-241">**注意：** `startExpression`和 `endExpression` 必须属于同一类型。  </span><span class="sxs-lookup"><span data-stu-id="277f0-241">**Note:**  `startExpression` and `endExpression` must be of the same type.</span></span> <br /><br /> <span data-ttu-id="277f0-242">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-242">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-243">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-243">An `Int32`.</span></span>|  
|`DiffMonths(startExpression,endExpression)`|<span data-ttu-id="277f0-244">返回 `startExpression` 和 `endExpression` 之间的差（月）。</span><span class="sxs-lookup"><span data-stu-id="277f0-244">Returns the difference, in months, between `startExpression` and `endExpression`.</span></span><br /><br /> <span data-ttu-id="277f0-245">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-245">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-246">`startExpression`、`endExpression`：`DateTime` 或 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-246">`startExpression`, `endExpression`: `DateTime` or `DateTimeOffset`.</span></span> <span data-ttu-id="277f0-247">**注意：** `startExpression`和 `endExpression` 必须属于同一类型。  </span><span class="sxs-lookup"><span data-stu-id="277f0-247">**Note:**  `startExpression` and `endExpression` must be of the same type.</span></span> <br /><br /> <span data-ttu-id="277f0-248">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-248">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-249">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-249">An `Int32`.</span></span>|  
|`DiffYears(startExpression,endExpression)`|<span data-ttu-id="277f0-250">返回 `startExpression` 和 `endExpression` 之间的差（年）。</span><span class="sxs-lookup"><span data-stu-id="277f0-250">Returns the difference, in years, between `startExpression` and `endExpression`.</span></span><br /><br /> <span data-ttu-id="277f0-251">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-251">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-252">`startExpression`、`endExpression`：`DateTime` 或 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-252">`startExpression`, `endExpression`: `DateTime` or `DateTimeOffset`.</span></span> <span data-ttu-id="277f0-253">**注意：** `startExpression`和 `endExpression` 必须属于同一类型。  </span><span class="sxs-lookup"><span data-stu-id="277f0-253">**Note:**  `startExpression` and `endExpression` must be of the same type.</span></span> <br /><br /> <span data-ttu-id="277f0-254">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-254">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-255">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-255">An `Int32`.</span></span>|  
|`GetTotalOffsetMinutes(datetimeoffset)`|<span data-ttu-id="277f0-256">返回 `datetimeoffset` 相对于 GMT 偏移的分钟数。</span><span class="sxs-lookup"><span data-stu-id="277f0-256">Returns the number of minutes that the `datetimeoffset` is offset from GMT.</span></span> <span data-ttu-id="277f0-257">此值通常介于 +780 到 -780 之间（+ 或 - 13 小时）。</span><span class="sxs-lookup"><span data-stu-id="277f0-257">This is generally between +780 and -780 (+ or - 13 hrs).</span></span> <span data-ttu-id="277f0-258">**注意：**  仅 SQL Server 2008 支持此函数。</span><span class="sxs-lookup"><span data-stu-id="277f0-258">**Note:**  This function is supported in SQL Server 2008 only.</span></span> <br /><br /> <span data-ttu-id="277f0-259">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-259">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-260">`DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-260">A `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-261">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-261">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-262">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-262">An `Int32`.</span></span>|  
|`Hour(expression)`|<span data-ttu-id="277f0-263">将 `expression` 的小时部分作为一个介于 0 到 23 之间的 `Int32` 返回。</span><span class="sxs-lookup"><span data-stu-id="277f0-263">Returns the hour portion of `expression` as an `Int32` between 0 and 23.</span></span><br /><br /> <span data-ttu-id="277f0-264">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-264">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-265">`DateTime, Time` 和 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-265">A `DateTime, Time` and `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-266">**示例**</span><span class="sxs-lookup"><span data-stu-id="277f0-266">**Example**</span></span><br /><br /> `-- The following example returns 22.`<br /><br /> `Hour(cast('22:35:5' as DateTime))`|  
|`Millisecond(expression)`|<span data-ttu-id="277f0-267">将 `expression` 的毫秒部分作为一个介于 0 到 999 之间的 `Int32` 返回。</span><span class="sxs-lookup"><span data-stu-id="277f0-267">Returns the milliseconds portion of `expression` as an `Int32` between 0 and 999.</span></span><br /><br /> <span data-ttu-id="277f0-268">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-268">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-269">`DateTime, Time` 和 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-269">A `DateTime, Time` and `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-270">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-270">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-271">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-271">An `Int32`.</span></span>|  
|`Minute(expression)`|<span data-ttu-id="277f0-272">将 `expression` 的分钟部分作为一个介于 0 到 59 之间的 `Int32` 返回。</span><span class="sxs-lookup"><span data-stu-id="277f0-272">Returns the minute portion of `expression` as an `Int32` between 0 and 59.</span></span><br /><br /> <span data-ttu-id="277f0-273">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-273">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-274">`DateTime, Time` 或 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-274">A `DateTime, Time` or `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-275">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-275">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-276">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-276">An `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-277">**示例**</span><span class="sxs-lookup"><span data-stu-id="277f0-277">**Example**</span></span><br /><br /> `-- The following example returns 35`<br /><br /> `Minute(cast('22:35:5' as DateTime))`|  
|`Month(expression)`|<span data-ttu-id="277f0-278">将 `expression` 的月份部分作为一个介于 1 到 12 之间的 `Int32` 返回。</span><span class="sxs-lookup"><span data-stu-id="277f0-278">Returns the month portion of `expression` as an `Int32` between 1 and 12.</span></span><br /><br /> <span data-ttu-id="277f0-279">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-279">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-280">`DateTime` 或 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-280">A `DateTime` or `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-281">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-281">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-282">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-282">An `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-283">**示例**</span><span class="sxs-lookup"><span data-stu-id="277f0-283">**Example**</span></span><br /><br /> `-- The following example returns 3.`<br /><br /> `Month(cast('03/12/1998' as DateTime))`|  
|`Second(expression)`|<span data-ttu-id="277f0-284">将 `expression` 的秒部分作为一个介于 0 到 59 之间的 `Int32` 返回。</span><span class="sxs-lookup"><span data-stu-id="277f0-284">Returns the seconds portion of `expression` as an `Int32` between 0 and 59.</span></span><br /><br /> <span data-ttu-id="277f0-285">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-285">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-286">`DateTime, Time` 和 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-286">A `DateTime, Time` and `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-287">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-287">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-288">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-288">An `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-289">**示例**</span><span class="sxs-lookup"><span data-stu-id="277f0-289">**Example**</span></span><br /><br /> `-- The following example returns 5`<br /><br /> `Second(cast('22:35:5' as DateTime))`|  
|`TruncateTime(expression)`|<span data-ttu-id="277f0-290">返回截断了时间值的 `expression`。</span><span class="sxs-lookup"><span data-stu-id="277f0-290">Returns the `expression`, with the time values truncated.</span></span><br /><br /> <span data-ttu-id="277f0-291">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-291">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-292">`DateTime` 或 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-292">A `DateTime` or `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-293">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-293">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-294">`expression` 的类型。</span><span class="sxs-lookup"><span data-stu-id="277f0-294">The type of `expression`.</span></span>|  
|`Year(expression)`|<span data-ttu-id="277f0-295">返回的年份部分 `expression` `Int32` `YYYY` 。</span><span class="sxs-lookup"><span data-stu-id="277f0-295">Returns the year portion of `expression` as an `Int32` `YYYY`.</span></span><br /><br /> <span data-ttu-id="277f0-296">**参数**</span><span class="sxs-lookup"><span data-stu-id="277f0-296">**Arguments**</span></span><br /><br /> <span data-ttu-id="277f0-297">`DateTime` 和 `DateTimeOffset`。</span><span class="sxs-lookup"><span data-stu-id="277f0-297">A `DateTime` and `DateTimeOffset`.</span></span><br /><br /> <span data-ttu-id="277f0-298">**返回值**</span><span class="sxs-lookup"><span data-stu-id="277f0-298">**Return Value**</span></span><br /><br /> <span data-ttu-id="277f0-299">`Int32`。</span><span class="sxs-lookup"><span data-stu-id="277f0-299">An `Int32`.</span></span><br /><br /> <span data-ttu-id="277f0-300">**示例**</span><span class="sxs-lookup"><span data-stu-id="277f0-300">**Example**</span></span><br /><br /> `-- The following example returns 1998.`<br /><br /> `Year(cast('03/12/1998' as DateTime))`|  
  
 <span data-ttu-id="277f0-301">如果提供 `null` 输入，则这些函数返回 `null`。</span><span class="sxs-lookup"><span data-stu-id="277f0-301">These functions will return `null` if given `null` input.</span></span>  
  
 <span data-ttu-id="277f0-302">Microsoft SQL 客户端托管提供程序中提供了等效功能。</span><span class="sxs-lookup"><span data-stu-id="277f0-302">Equivalent functionality is available in the Microsoft SQL Client Managed Provider.</span></span> <span data-ttu-id="277f0-303">有关详细信息，请参阅 [SqlClient for 实体框架函数](../sqlclient-for-ef-functions.md)。</span><span class="sxs-lookup"><span data-stu-id="277f0-303">For more information, see [SqlClient for Entity Framework Functions](../sqlclient-for-ef-functions.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="277f0-304">请参阅</span><span class="sxs-lookup"><span data-stu-id="277f0-304">See also</span></span>

- [<span data-ttu-id="277f0-305">规范函数</span><span class="sxs-lookup"><span data-stu-id="277f0-305">Canonical Functions</span></span>](canonical-functions.md)

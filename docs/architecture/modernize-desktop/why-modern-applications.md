---
title: 为什么使用新式桌面应用程序
description: 了解当今世界 Windows 窗体、WPF 和 UWP 等桌面技术。
ms.date: 12/29/2020
ms.openlocfilehash: 8489e41c973bb472a23bca38e9374c36e4cdd366
ms.sourcegitcommit: 632818f4b527e5bf3c48fc04e0c7f3b4bdb8a248
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 01/20/2021
ms.locfileid: "98615888"
---
# <a name="why-modern-desktop-applications"></a><span data-ttu-id="1082d-103">为什么使用新式桌面应用程序</span><span class="sxs-lookup"><span data-stu-id="1082d-103">Why modern desktop applications</span></span>

## <a name="introduction"></a><span data-ttu-id="1082d-104">介绍</span><span class="sxs-lookup"><span data-stu-id="1082d-104">Introduction</span></span>

### <a name="a-story-of-one-company"></a><span data-ttu-id="1082d-105">一家公司的故事</span><span class="sxs-lookup"><span data-stu-id="1082d-105">A story of one company</span></span>

<span data-ttu-id="1082d-106">在早期的2000s 中，一家跨国公司开始开发一个分布式桌面解决方案，以在公司的不同分支之间交换信息，并对集中单元执行优化的操作。</span><span class="sxs-lookup"><span data-stu-id="1082d-106">Back in the early 2000s, one multinational company started developing a distributed desktop solution to exchange information between different branches of the company and execute optimized operations on centralized units.</span></span> <span data-ttu-id="1082d-107">他们选择了一个名为 Windows 窗体的全新框架， (其应用程序开发也称为 WinForms) 。</span><span class="sxs-lookup"><span data-stu-id="1082d-107">They have chosen a brand-new framework called Windows Forms (also known as WinForms) for their application development.</span></span> <span data-ttu-id="1082d-108">多年来，项目发展为具有数百行代码的成熟、经过充分测试且经过时间考验的应用程序。</span><span class="sxs-lookup"><span data-stu-id="1082d-108">Over the years, the project evolved into a mature, well tested, and time-proven application with hundreds of thousands of lines of code.</span></span> <span data-ttu-id="1082d-109">经过的时间和 .NET Framework 2.0 不再是热新技术。</span><span class="sxs-lookup"><span data-stu-id="1082d-109">Time passed and .NET Framework 2.0 is no longer the hot new technology.</span></span> <span data-ttu-id="1082d-110">正在处理此应用程序的开发人员面临着困境。</span><span class="sxs-lookup"><span data-stu-id="1082d-110">The developers who are working on this application are facing a dilemma.</span></span> <span data-ttu-id="1082d-111">他们希望在开发中使用最新的技术堆栈，并使其应用程序的外观和 "感受"。</span><span class="sxs-lookup"><span data-stu-id="1082d-111">They'd like to use the latest stack of technologies in their development and have their application look and "feel" modern.</span></span> <span data-ttu-id="1082d-112">同时，他们不想放弃在15年内生成的优秀产品，并从头开始重写整个应用程序。</span><span class="sxs-lookup"><span data-stu-id="1082d-112">At the same time, they don't want to throw away the great product they have built over 15 years and rewrite the entire application from scratch.</span></span>

### <a name="your-story"></a><span data-ttu-id="1082d-113">故事</span><span class="sxs-lookup"><span data-stu-id="1082d-113">Your story</span></span>

<span data-ttu-id="1082d-114">你可能会发现自己在同一船上，在这种情况下，你可以在很成熟的 Windows 窗体或 Windows Presentation Foundation (WPF) 应用程序，这些应用程序已证明了他们的可靠性。</span><span class="sxs-lookup"><span data-stu-id="1082d-114">You might find yourself in the same boat, where you have mature Windows Forms or Windows Presentation Foundation (WPF) applications that have proved their reliability over the years.</span></span> <span data-ttu-id="1082d-115">您可能想要继续使用这些应用程序。</span><span class="sxs-lookup"><span data-stu-id="1082d-115">You probably want to keep using these applications for many more years.</span></span> <span data-ttu-id="1082d-116">同时，由于这些应用程序是在一段时间之前编写的，因此它们可能缺少各种功能，如新式外观、性能、与新设备和平台功能的集成等，这为他们提供了 "老式技术"。</span><span class="sxs-lookup"><span data-stu-id="1082d-116">At the same time, since those applications were written some time ago, they might be missing capabilities like modern look, performance, integration with new devices and platform features, and so on, which gives them a feel of "old tech".</span></span> <span data-ttu-id="1082d-117">还有另一个问题需要您作为开发人员。</span><span class="sxs-lookup"><span data-stu-id="1082d-117">There's another problem that might concern you as a developer.</span></span> <span data-ttu-id="1082d-118">在处理旧的 .NET Framework 版本并维护一段时间之前编写的应用程序时，可能会觉得你不会学习新的技术，也不会缺少构建现代技术技能的知识。</span><span class="sxs-lookup"><span data-stu-id="1082d-118">While working on the older .NET Framework versions and maintaining applications that were written a while ago, you might feel like you aren't learning new technologies and missing on building modern technical skills.</span></span> <span data-ttu-id="1082d-119">如果这是你的故事，这本书非常适合你！</span><span class="sxs-lookup"><span data-stu-id="1082d-119">If that is your story – this book is for you!</span></span>

## <a name="desktop-applications-nowadays"></a><span data-ttu-id="1082d-120">桌面应用程序如今</span><span class="sxs-lookup"><span data-stu-id="1082d-120">Desktop applications nowadays</span></span>

<span data-ttu-id="1082d-121">在 Internet 引发之前，桌面应用程序是构建软件系统的主要方法。</span><span class="sxs-lookup"><span data-stu-id="1082d-121">Before the raise of the Internet, desktop applications were the main approach to build software systems.</span></span> <span data-ttu-id="1082d-122">开发人员可以选择任何编程语言，如 COBOL、Fortran、VB6 或 c + +。</span><span class="sxs-lookup"><span data-stu-id="1082d-122">Developers could choose any programming language, such as COBOL, Fortran, VB6, or C++.</span></span> <span data-ttu-id="1082d-123">但在开发小工具或复杂的分布式体系结构的位置上，它们都是桌面应用程序。</span><span class="sxs-lookup"><span data-stu-id="1082d-123">But where they developed small tools or complex distributed architectures, they were all desktop applications.</span></span>

<span data-ttu-id="1082d-124">然后，Internet 技术开始骇人听闻开发世界，并获得更多具有优点的工程师，如简单的部署和简化的分发过程。</span><span class="sxs-lookup"><span data-stu-id="1082d-124">Then, Internet technologies started shocking the development world and winning over more engineers with advantages like easy deployment and simplified distribution processes.</span></span> <span data-ttu-id="1082d-125">在将 web 应用程序部署到生产环境中时，所有用户都获得了自动更新，这对软件灵活性产生了巨大影响。</span><span class="sxs-lookup"><span data-stu-id="1082d-125">The fact that once a web application was deployed to production all users got automatic updates made a huge impact on the software agility.</span></span>

<span data-ttu-id="1082d-126">不过，Internet 基础结构、基础协议和 HTTP 和 HTML 等标准并非专门用于构建复杂的应用程序。</span><span class="sxs-lookup"><span data-stu-id="1082d-126">However, the Internet infrastructure, underlying protocols, and standards like HTTP and HTML weren't designed for building complex applications.</span></span> <span data-ttu-id="1082d-127">事实上，我们的主要开发工作就是这样一个目标：为 web 应用程序指定桌面应用程序所具有的相同功能，如快速数据输入和状态管理。</span><span class="sxs-lookup"><span data-stu-id="1082d-127">In fact, the major development effort back then was aiming just one goal: to give web applications the same capabilities that desktop applications have, such as fast data input and state management.</span></span>

<span data-ttu-id="1082d-128">尽管 web 和移动应用程序的发展速度令人难以置信，但对于某些任务，桌面应用程序在效率和性能方面仍保留了这一位置。</span><span class="sxs-lookup"><span data-stu-id="1082d-128">Even though web and mobile applications have grown at an incredible pace, for certain tasks desktop applications still hold the number one place in terms of efficiency and performance.</span></span> <span data-ttu-id="1082d-129">这说明了有数百万个开发人员正在用 WPF 和 WinForms 生成项目，并且这些应用程序的数量不断增长。</span><span class="sxs-lookup"><span data-stu-id="1082d-129">That explains why there are millions of developers who are building their projects with WPF and WinForms and the amount of those applications is constantly growing.</span></span>

<span data-ttu-id="1082d-130">下面是在开发中选择桌面应用程序的一些原因：</span><span class="sxs-lookup"><span data-stu-id="1082d-130">Here are some reasons for choosing desktop applications in your development:</span></span>

- <span data-ttu-id="1082d-131">桌面应用程序能够更好地与用户的 PC 交互。</span><span class="sxs-lookup"><span data-stu-id="1082d-131">Desktop apps have better interaction with the user's PC.</span></span>
- <span data-ttu-id="1082d-132">用于复杂计算的桌面应用程序的性能远远高于 web 应用程序的性能。</span><span class="sxs-lookup"><span data-stu-id="1082d-132">The performance of desktop applications for complex calculations is much higher than the performance of web applications.</span></span>
- <span data-ttu-id="1082d-133">使用 web 应用程序可以在客户端上运行自定义逻辑。</span><span class="sxs-lookup"><span data-stu-id="1082d-133">Running custom logic on the client-side is possible but much harder with a web application.</span></span>
- <span data-ttu-id="1082d-134">在桌面应用程序中使用多线程处理更为简单且更有效。</span><span class="sxs-lookup"><span data-stu-id="1082d-134">Using multithreading is easier and more efficient in a desktop application.</span></span>
- <span data-ttu-id="1082d-135">用于设计用户界面 (Ui) 的学习曲线并不不足。</span><span class="sxs-lookup"><span data-stu-id="1082d-135">The learning curve for designing user interfaces (UIs) isn't steep.</span></span> <span data-ttu-id="1082d-136">对于 WinForms，与 Windows 窗体设计器的拖放体验相比，这一点很直观。</span><span class="sxs-lookup"><span data-stu-id="1082d-136">And for WinForms, it's intuitive with the drag-and-drop experience of the Windows Forms designer.</span></span>
- <span data-ttu-id="1082d-137">无需设置服务器基础结构，也无需关心连接性问题、防火墙和浏览器兼容性，就可以轻松地开始编写和测试算法。</span><span class="sxs-lookup"><span data-stu-id="1082d-137">It's easy to start coding and testing your algorithms without the need to set up a server infrastructure or to care about connectivity problems, firewalls, and browser compatibility.</span></span>
- <span data-ttu-id="1082d-138">与 web 调试相比，调试功能更强大。</span><span class="sxs-lookup"><span data-stu-id="1082d-138">Debugging is powerful as compared to web debugging.</span></span>
- <span data-ttu-id="1082d-139">可以轻松访问硬件设备，如相机、蓝牙或卡读取器。</span><span class="sxs-lookup"><span data-stu-id="1082d-139">Access to hardware devices, such as camera, Bluetooth, or card readers, is easy.</span></span>
- <span data-ttu-id="1082d-140">由于该技术已有一段时间了，因此有很多专家和知识库可用于开发桌面应用程序。</span><span class="sxs-lookup"><span data-stu-id="1082d-140">Since the technology has been around for a while, there are many experts and a knowledge base available to develop desktop applications.</span></span>

<span data-ttu-id="1082d-141">正如您所看到的，出于许多原因，桌面开发非常有用。</span><span class="sxs-lookup"><span data-stu-id="1082d-141">So, as you can see, developing for desktop is great for many reasons.</span></span> <span data-ttu-id="1082d-142">这项技术经过了成熟和时间的测试，开发周期速度很快，调试功能功能强大，而且可以更轻松地开始使用桌面应用程序。</span><span class="sxs-lookup"><span data-stu-id="1082d-142">The technology is mature and time tested, the development cycle is fast, the debugging is powerful and arguably, desktop apps have less complexity and easier to get started with.</span></span>

<span data-ttu-id="1082d-143">Microsoft 在过去的几年中引入了许多 UI 桌面技术，从1995到通用 Windows 平台在2016发布的 (UWP) 。</span><span class="sxs-lookup"><span data-stu-id="1082d-143">Microsoft offered many UI desktop technologies throughout the years from Win32 introduced in 1995 to Universal Windows Platform (UWP) released in 2016.</span></span>

![Microsoft 桌面技术](./media/why-modern-applications/microsoft-desktop-technologies.png)

<span data-ttu-id="1082d-145">根据2016年4月发布的 Telerik 发布的调查，生成 Windows 桌面应用程序的最常用技术是 Windows 窗体、WPF 和 UWP。</span><span class="sxs-lookup"><span data-stu-id="1082d-145">According to a survey published by Telerik on April 2016, the most popular technologies for building Windows desktop apps are Windows Forms, WPF, and UWP.</span></span>

![显示 Windows 窗体、WPF 和 UWP 作为最常用桌面技术的 Telerik 调查](./media/why-modern-applications/telerik-survey.png)

<span data-ttu-id="1082d-147">您可以使用 c # 和 Visual Basic 在其中任意进行开发，但我们将更深入地探讨。</span><span class="sxs-lookup"><span data-stu-id="1082d-147">You can develop in any of them using C# and Visual Basic, but let's take a closer look.</span></span>

### <a name="windows-forms"></a><span data-ttu-id="1082d-148">Windows 窗体</span><span class="sxs-lookup"><span data-stu-id="1082d-148">Windows Forms</span></span>

<span data-ttu-id="1082d-149">第一次发布于2002，Windows 窗体是一种托管框架，是在 Windows 图形设备接口 (GDI) 引擎上构建的最早、最常用的桌面技术。</span><span class="sxs-lookup"><span data-stu-id="1082d-149">First released in 2002, Windows Forms is a managed framework and is the oldest, most used, desktop technology built on the Windows graphics device interface (GDI) engine.</span></span> <span data-ttu-id="1082d-150">它为在 Visual Studio 中开发用户界面提供了一个流畅的拖放体验。</span><span class="sxs-lookup"><span data-stu-id="1082d-150">It offers a smooth drag-and-drop experience for developing user interfaces in Visual Studio.</span></span>  <span data-ttu-id="1082d-151">同时，Windows 窗体依赖 Visual Studio 设计器作为你开发用户界面的主要方式，因此，从代码创建可视化组件并不简单。</span><span class="sxs-lookup"><span data-stu-id="1082d-151">At the same time, Windows Forms relies on the Visual Studio Designer as the main way you develop your UI, so creating visual components from code isn't trivial.</span></span>

<span data-ttu-id="1082d-152">下面的列表总结了 Windows 窗体的主要特征：</span><span class="sxs-lookup"><span data-stu-id="1082d-152">The following list summarizes the main characteristics of Windows Forms:</span></span>

- <span data-ttu-id="1082d-153">具有大量代码示例和文档的成熟技术。</span><span class="sxs-lookup"><span data-stu-id="1082d-153">Mature technology with lots of code samples and documentation.</span></span>
- <span data-ttu-id="1082d-154">功能强大且高效的设计器。</span><span class="sxs-lookup"><span data-stu-id="1082d-154">Powerful and productive designer.</span></span> <span data-ttu-id="1082d-155">设计 UI "代码" 不是很方便。</span><span class="sxs-lookup"><span data-stu-id="1082d-155">Not so convenient to design UI "from code".</span></span>
- <span data-ttu-id="1082d-156">由于设计器的拖放体验，学习起来简单直观。</span><span class="sxs-lookup"><span data-stu-id="1082d-156">Easy and intuitive to learn, thanks to the designer's drag-and-drop experience.</span></span>
- <span data-ttu-id="1082d-157">在任何 Windows 版本上受支持。</span><span class="sxs-lookup"><span data-stu-id="1082d-157">Supported on any Windows version.</span></span>
- <span data-ttu-id="1082d-158">在 .NET Core 3.0 及更高版本上受支持。</span><span class="sxs-lookup"><span data-stu-id="1082d-158">Supported on .NET Core 3.0 and later versions.</span></span>

### <a name="wpf"></a><span data-ttu-id="1082d-159">WPF</span><span class="sxs-lookup"><span data-stu-id="1082d-159">WPF</span></span>

<span data-ttu-id="1082d-160">WPF 根据 XAML 语言规范，区分 UI 与代码之间的清晰分离。</span><span class="sxs-lookup"><span data-stu-id="1082d-160">Based on the XAML language specification, WPF favors a clear separation between UI and code.</span></span> <span data-ttu-id="1082d-161">XAML 提供了类似于构建大型应用程序的模板、样式和绑定等功能。</span><span class="sxs-lookup"><span data-stu-id="1082d-161">XAML offers such capabilities like templating, styling, and binding, which is suited for building large applications.</span></span> <span data-ttu-id="1082d-162">与 Windows 窗体一样，它是一个托管框架，但设计是模块化且可重用。</span><span class="sxs-lookup"><span data-stu-id="1082d-162">Like Windows Forms, it's a managed framework, but the design is modular and reusable.</span></span>

<span data-ttu-id="1082d-163">下面是 WPF 的主要功能：</span><span class="sxs-lookup"><span data-stu-id="1082d-163">Here are the main features of WPF:</span></span>

- <span data-ttu-id="1082d-164">成熟的技术。</span><span class="sxs-lookup"><span data-stu-id="1082d-164">Mature technology.</span></span>
- <span data-ttu-id="1082d-165">设计器可用，但开发人员通常更倾向于使用声明性 XAML 通过代码创建设计。</span><span class="sxs-lookup"><span data-stu-id="1082d-165">Designer is available, but developers usually prefer to create the design from code using declarative XAML.</span></span>
- <span data-ttu-id="1082d-166">学习曲线的陡峭不是 Windows 窗体。</span><span class="sxs-lookup"><span data-stu-id="1082d-166">The learning curve is steeper than Windows Forms.</span></span>
- <span data-ttu-id="1082d-167">在任何 Windows 版本上受支持。</span><span class="sxs-lookup"><span data-stu-id="1082d-167">Supported on any Windows version.</span></span>
- <span data-ttu-id="1082d-168">在 .NET Core 3.0 及更高版本上受支持。</span><span class="sxs-lookup"><span data-stu-id="1082d-168">Supported on .NET Core 3.0 and later versions.</span></span>

### <a name="uwp"></a><span data-ttu-id="1082d-169">UWP</span><span class="sxs-lookup"><span data-stu-id="1082d-169">UWP</span></span>

<span data-ttu-id="1082d-170">UWP 并不只是一个显示框架（如 WPF 和 Windows 窗体），但它也是一个平台本身。</span><span class="sxs-lookup"><span data-stu-id="1082d-170">UWP isn't only a presentation framework like WPF and Windows Forms, but it's also a platform itself.</span></span> <span data-ttu-id="1082d-171">此平台有：</span><span class="sxs-lookup"><span data-stu-id="1082d-171">This platform has:</span></span>

- <span data-ttu-id="1082d-172">它自己的 API 集 (Windows 运行时 API) 。</span><span class="sxs-lookup"><span data-stu-id="1082d-172">Its own API set (the Windows Runtime API).</span></span>
- <span data-ttu-id="1082d-173">新的部署系统 (.MSIX) </span><span class="sxs-lookup"><span data-stu-id="1082d-173">A new deployment system (MSIX)</span></span>
- <span data-ttu-id="1082d-174">一种新式应用程序生命周期模型， (降低电池消耗) 。</span><span class="sxs-lookup"><span data-stu-id="1082d-174">A modern application lifecycle model (for low battery consumption).</span></span>
- <span data-ttu-id="1082d-175">新的资源管理系统 (基于 PRI 文件) 。</span><span class="sxs-lookup"><span data-stu-id="1082d-175">A new Resource Management System (based on PRI files).</span></span>

<span data-ttu-id="1082d-176">创建该平台是为了支持各种类型的输入系统 (如墨迹、触摸、游戏板、鼠标、键盘、注视等) ，在性能和电池使用不足的情况下，所有形式因素都是如此。</span><span class="sxs-lookup"><span data-stu-id="1082d-176">The platform was created to support all kind of input systems (like ink, touch, gamepad, mouse, keyboard, gaze, and so on) in all form-factors with performance and low battery consumption in mind.</span></span> <span data-ttu-id="1082d-177">由于这些原因，Windows 10 操作系统的 shell 使用了 UWP 平台的组成部分。</span><span class="sxs-lookup"><span data-stu-id="1082d-177">For these reasons, the shell of the Windows 10 OS uses parts of the UWP platform.</span></span>

![UWP 结构](./media/why-modern-applications/uwp-structure.png)

<span data-ttu-id="1082d-179">UWP 包含基于 XAML 的表示框架（如 WPF），但它有一些重要的差异，例如：</span><span class="sxs-lookup"><span data-stu-id="1082d-179">UWP contains a presentation framework that is XAML-based, like WPF, but it has some important differences such as:</span></span>

- <span data-ttu-id="1082d-180">应用程序是在应用容器中执行的。</span><span class="sxs-lookup"><span data-stu-id="1082d-180">Applications are executed in app containers.</span></span> <span data-ttu-id="1082d-181">应用容器控制 UWP 应用可访问的资源。</span><span class="sxs-lookup"><span data-stu-id="1082d-181">App containers control what resources a UWP app can access.</span></span>
- <span data-ttu-id="1082d-182">仅在 Windows 10 上受支持。</span><span class="sxs-lookup"><span data-stu-id="1082d-182">Supported only on Windows 10.</span></span>
- <span data-ttu-id="1082d-183">可以通过 Microsoft Store 部署应用，以便更轻松地进行部署。</span><span class="sxs-lookup"><span data-stu-id="1082d-183">Apps can be deployed through Microsoft Store for easier deployment.</span></span>
- <span data-ttu-id="1082d-184">作为 Windows 运行时 API 的一部分设计。</span><span class="sxs-lookup"><span data-stu-id="1082d-184">Designed as part of the Windows Runtime API.</span></span>
- <span data-ttu-id="1082d-185">包含一组丰富的丰富内置控件以及通过 Microsoft UI 库 NuGet 包提供的其他控件 (WinUI 库) 每隔几个月更新一次。</span><span class="sxs-lookup"><span data-stu-id="1082d-185">Contains an extensive set of rich built-in controls and additional controls available through the Microsoft UI Library NuGet packages (WinUI library) updated every few months.</span></span>

## <a name="a-tale-of-two-platforms"></a><span data-ttu-id="1082d-186">两个平台的 tale</span><span class="sxs-lookup"><span data-stu-id="1082d-186">A tale of two platforms</span></span>

<span data-ttu-id="1082d-187">在过去的20年中，虽然 UI 桌面技术不断增长并遵循从 Windows 窗体到 UWP 的路径，但该硬件还会从具有小型 CRT 监视器的重型 PC 单元不断发展到高 DPI 监视器，并具有触控和墨迹等不同的数据输入技术。</span><span class="sxs-lookup"><span data-stu-id="1082d-187">In the last 20 years, while UI desktop technologies were growing and following the path from Windows Forms to UWP, the hardware was also evolving from heavy weight PC units with small CRT monitors to high-DPI monitors and lightweight tablets and phones with different data input techniques like Touch and Ink.</span></span> <span data-ttu-id="1082d-188">这些更改导致创建了两个不同的概念：桌面应用程序和新式应用程序。</span><span class="sxs-lookup"><span data-stu-id="1082d-188">These changes resulted in creating two different concepts: a Desktop Application and a Modern Application.</span></span> <span data-ttu-id="1082d-189">现代应用程序是一种考虑不同设备外形规格、各种输入和输出方法并利用新式桌面功能的应用程序。</span><span class="sxs-lookup"><span data-stu-id="1082d-189">A Modern Application is one that considers different device form factors, various input and output methods, and leverages modern desktop features while running on a sandboxed execution model.</span></span> <span data-ttu-id="1082d-190">另一方面， (传统) 桌面应用程序是一种应用程序，该应用程序需要具有最适合鼠标和键盘的控件密度的实体 UI。</span><span class="sxs-lookup"><span data-stu-id="1082d-190">The (traditional) Desktop Application, on the other hand, is an application that needs a solid UI with a high density of controls that is best operated with a mouse and a keyboard.</span></span>

<span data-ttu-id="1082d-191">下表描述了这两个概念之间的差异：</span><span class="sxs-lookup"><span data-stu-id="1082d-191">The following table describes the differences between the two concepts:</span></span>

|   | <span data-ttu-id="1082d-192">新式应用程序</span><span class="sxs-lookup"><span data-stu-id="1082d-192">Modern Application</span></span> | <span data-ttu-id="1082d-193">桌面应用程序</span><span class="sxs-lookup"><span data-stu-id="1082d-193">Desktop Application</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1082d-194">安全性</span><span class="sxs-lookup"><span data-stu-id="1082d-194">Security</span></span> | <span data-ttu-id="1082d-195">包含执行 &amp; 的重要基础知识。</span><span class="sxs-lookup"><span data-stu-id="1082d-195">Contained execution &amp; Great Fundamentals.</span></span> <span data-ttu-id="1082d-196">旨在确保用户的隐私性、管理电池寿命，并专注于保护设备安全。</span><span class="sxs-lookup"><span data-stu-id="1082d-196">Designed from the ground up to respect user's privacy, manage battery life, and focus to keep the device safe.</span></span>  | <span data-ttu-id="1082d-197">用户 &amp; 管理员安全级别。</span><span class="sxs-lookup"><span data-stu-id="1082d-197">User &amp; Admin level of security.</span></span> <span data-ttu-id="1082d-198">你具有对注册表和硬盘驱动器文件夹的本机访问权限。</span><span class="sxs-lookup"><span data-stu-id="1082d-198">You have native access to the registry and hard drive folders.</span></span> |
| <span data-ttu-id="1082d-199">部署</span><span class="sxs-lookup"><span data-stu-id="1082d-199">Deployment</span></span> | <span data-ttu-id="1082d-200">安装和更新由平台进行管理。</span><span class="sxs-lookup"><span data-stu-id="1082d-200">Installation and updates are managed by the platform.</span></span>   | <span data-ttu-id="1082d-201">MSI、自定义安装 &amp; 程序更新。</span><span class="sxs-lookup"><span data-stu-id="1082d-201">MSI, Custom installers &amp; Updates.</span></span> <span data-ttu-id="1082d-202">传统上，开发人员和 IT 经理非常头痛。</span><span class="sxs-lookup"><span data-stu-id="1082d-202">Traditionally a source of headaches for developers and IT managers.</span></span>  |
| <span data-ttu-id="1082d-203">分布</span><span class="sxs-lookup"><span data-stu-id="1082d-203">Distribution</span></span> | <span data-ttu-id="1082d-204">受信任 &amp; 的分发签名包。</span><span class="sxs-lookup"><span data-stu-id="1082d-204">Trusted Distribution &amp; Signed Packages.</span></span> <span data-ttu-id="1082d-205">分发是从受信任的源执行的，从不从 web 进行。</span><span class="sxs-lookup"><span data-stu-id="1082d-205">Distribution is performed from a trusted source and never from the web.</span></span>  | <span data-ttu-id="1082d-206">Web，SCCM &amp; 自定义分发。</span><span class="sxs-lookup"><span data-stu-id="1082d-206">Web, SCCM &amp; Custom distribution.</span></span> <span data-ttu-id="1082d-207">不控制已安装的内容，会影响整个计算机。</span><span class="sxs-lookup"><span data-stu-id="1082d-207">No control over what is installed, affects the whole machine.</span></span>   |
| <span data-ttu-id="1082d-208">UI</span><span class="sxs-lookup"><span data-stu-id="1082d-208">UI</span></span> | <span data-ttu-id="1082d-209">新式 UI。</span><span class="sxs-lookup"><span data-stu-id="1082d-209">Modern UI.</span></span> <span data-ttu-id="1082d-210">不同的输入机制、墨迹、触摸、游戏板、键盘、鼠标等。</span><span class="sxs-lookup"><span data-stu-id="1082d-210">Different input mechanisms, ink, touch, gamepad, keyboard, mouse, etc.</span></span>  | <span data-ttu-id="1082d-211">Windows 窗体、WPF、MFC。</span><span class="sxs-lookup"><span data-stu-id="1082d-211">Windows Forms, WPF, MFC.</span></span> <span data-ttu-id="1082d-212">设计用于密集 UI 的鼠标和键盘，并可充分利用桌面的工作效率。</span><span class="sxs-lookup"><span data-stu-id="1082d-212">Designed for the mouse and keyboard for a dense UI and to get the most productivity from the desktop.</span></span>  |
| <span data-ttu-id="1082d-213">数据</span><span class="sxs-lookup"><span data-stu-id="1082d-213">Data</span></span> | <span data-ttu-id="1082d-214">具有见解的云优先数据。</span><span class="sxs-lookup"><span data-stu-id="1082d-214">Cloud First Data with Insights.</span></span> <span data-ttu-id="1082d-215">云中的真实来源。</span><span class="sxs-lookup"><span data-stu-id="1082d-215">Source of truth in the cloud.</span></span> <span data-ttu-id="1082d-216">了解应用会发生什么情况以及如何执行。</span><span class="sxs-lookup"><span data-stu-id="1082d-216">Insights to know what happens with your app and how it's performing.</span></span>  | <span data-ttu-id="1082d-217">本地数据。</span><span class="sxs-lookup"><span data-stu-id="1082d-217">Local Data.</span></span> <span data-ttu-id="1082d-218">传统桌面应用程序通常需要一些本地数据。</span><span class="sxs-lookup"><span data-stu-id="1082d-218">Traditional desktop applications usually need some local data.</span></span>  |
| <span data-ttu-id="1082d-219">设计</span><span class="sxs-lookup"><span data-stu-id="1082d-219">Design</span></span> | <span data-ttu-id="1082d-220">旨在重复使用。</span><span class="sxs-lookup"><span data-stu-id="1082d-220">Designed for reuse.</span></span> <span data-ttu-id="1082d-221">在不同的平台、前端和后端之间重复使用，在很多位置运行资产。</span><span class="sxs-lookup"><span data-stu-id="1082d-221">Reuse in mind between different platforms, front end, and back end, running assets in many places as possible.</span></span>  | <span data-ttu-id="1082d-222">仅适用于 Windows 桌面</span><span class="sxs-lookup"><span data-stu-id="1082d-222">Designed for Windows Desktop only</span></span>  |

<span data-ttu-id="1082d-223">作为向开发人员提供生成应用程序的最佳工具的承诺的一部分，Microsoft 投入了大量精力来实现这些概念，我们甚至可以更深入地介绍平台，使开发人员能够获得两全其美。</span><span class="sxs-lookup"><span data-stu-id="1082d-223">As a part of the commitment to provide developers with the best tools to build applications, Microsoft put a great effort to bring these concepts, or we can even say platforms, closer together to empower developers with the best of both worlds.</span></span> <span data-ttu-id="1082d-224">为此，Microsoft 在两个平台之间执行了双向操作。</span><span class="sxs-lookup"><span data-stu-id="1082d-224">To do that, Microsoft has performed a bidirectional effort between the two platforms.</span></span>

![新式应用程序与桌面应用程序之间的双向工作量](./media/why-modern-applications/bidirectional-effort.png)

1. <span data-ttu-id="1082d-226">将桌面应用程序方案移动到新式应用程序平台。</span><span class="sxs-lookup"><span data-stu-id="1082d-226">Move Desktop Application scenarios into Modern Application platform.</span></span> <span data-ttu-id="1082d-227">传统的桌面开发仍然很常见，因为它能很好地解决某些情况。</span><span class="sxs-lookup"><span data-stu-id="1082d-227">The traditional desktop development is still popular because it addresses certain scenarios well.</span></span> <span data-ttu-id="1082d-228">使用这些常见桌面方案并将其引入新式桌面平台，使平台完全可用是有意义的。</span><span class="sxs-lookup"><span data-stu-id="1082d-228">It makes sense to take these common desktop scenarios and bring them into the modern desktop platform to make the platform fully capable.</span></span>

    ![将桌面应用程序方案移动到新式应用程序平台](./media/why-modern-applications/desktop-to-modern.png)

1. <span data-ttu-id="1082d-230">将新式应用程序功能移到桌面应用程序中。</span><span class="sxs-lookup"><span data-stu-id="1082d-230">Move Modern Application features into Desktop Applications.</span></span> <span data-ttu-id="1082d-231">对于需要一种方法来利用新式功能而不是从头开始进行重写的现有桌面应用程序，将新式应用程序平台中的功能推送到桌面应用程序中。</span><span class="sxs-lookup"><span data-stu-id="1082d-231">For existing desktop apps that need a way to leverage modern capabilities without rewriting from scratch, features from the Modern Application platform are pushed into the Desktop Application.</span></span>

    ![将新式应用程序功能移到桌面应用程序中](./media/why-modern-applications/modern-to-desktop.png)

<span data-ttu-id="1082d-233">在本书中，我们将重点介绍第二部分，并展示如何实现现有桌面应用程序的现代化。</span><span class="sxs-lookup"><span data-stu-id="1082d-233">In this book, we'll focus on the second part and show how you can modernize your existing desktop applications.</span></span>

## <a name="paths-to-modernization"></a><span data-ttu-id="1082d-234">现代化的路径</span><span class="sxs-lookup"><span data-stu-id="1082d-234">Paths to modernization</span></span>

<span data-ttu-id="1082d-235">本指南的结构反映了三个不同的轴来完成现代化：新式功能、部署和安装。</span><span class="sxs-lookup"><span data-stu-id="1082d-235">The structure of this guide reflects three different axes to accomplish modernization: Modern Features, Deployment, and Installation.</span></span>

### <a name="modern-features"></a><span data-ttu-id="1082d-236">新式功能</span><span class="sxs-lookup"><span data-stu-id="1082d-236">Modern features</span></span>

<span data-ttu-id="1082d-237">假设你有一个有效的 Windows 窗体应用程序，你的公司的销售代表将使用该应用程序来填写客户订单。</span><span class="sxs-lookup"><span data-stu-id="1082d-237">Say you have a working Windows Forms application that a sales representative of your company uses to fill in a customer order.</span></span> <span data-ttu-id="1082d-238">新的要求是为了使客户能够使用 tablet 笔对订单进行签名。</span><span class="sxs-lookup"><span data-stu-id="1082d-238">A new requirement comes in to enable the customer to sign the order using a tablet pen.</span></span> <span data-ttu-id="1082d-239">墨迹在当前的操作系统和技术中是本机的，但它在开发应用程序时不可用。</span><span class="sxs-lookup"><span data-stu-id="1082d-239">Inking is native in today's operating systems and technologies, but it wasn't available when the app was developed.</span></span>

<span data-ttu-id="1082d-240">此路径将向你展示如何在现有桌面开发中利用新式桌面功能。</span><span class="sxs-lookup"><span data-stu-id="1082d-240">This path will show you how you can leverage modern desktop features into your existing desktop development.</span></span>

### <a name="deployment"></a><span data-ttu-id="1082d-241">部署</span><span class="sxs-lookup"><span data-stu-id="1082d-241">Deployment</span></span>

<span data-ttu-id="1082d-242">新式开发周期旨在为每个用户部署新版本的应用程序提供灵活性。</span><span class="sxs-lookup"><span data-stu-id="1082d-242">Modern development cycles have stressed out to provide agility on how new versions of applications are deployed to every single user.</span></span> <span data-ttu-id="1082d-243">由于 Windows 窗体和 WPF 应用程序基于必须存在于计算机上的 .NET Framework 的特定版本，因此它们不能利用新的 .NET Framework 版本功能，而无需 IT 人员干预就会对同一台计算机上运行的其他应用产生副作用。</span><span class="sxs-lookup"><span data-stu-id="1082d-243">Since Windows Forms and WPF applications are based on a particular version of the .NET Framework that must be present on the machine, they can't take advantage of new .NET Framework version features without the intervention of the IT people with the risk of having side effects for other apps running on the same machine.</span></span> <span data-ttu-id="1082d-244">它限制了开发人员的创新步调，使其保持在过时版本的 .NET Framework 上。</span><span class="sxs-lookup"><span data-stu-id="1082d-244">It has limited the innovation pace for developers forcing them to stay on outdated versions of the .NET Framework.</span></span>

<span data-ttu-id="1082d-245">自 .NET Core 3.0 的启动以来，你可以利用一种新的方法来并行部署 .NET 的多个版本，并指定每个应用程序应面向的 .NET 版本。</span><span class="sxs-lookup"><span data-stu-id="1082d-245">Since the launch of .NET Core 3.0, you can leverage a new approach of deploying multiple versions of .NET side by side and specifying which version of .NET each application should target.</span></span> <span data-ttu-id="1082d-246">这样，你就可以在一个应用程序中使用最新功能，同时相信你不会中断任何其他应用程序。</span><span class="sxs-lookup"><span data-stu-id="1082d-246">This way, you can use the newest features in one application while being confident you aren't going to break any other applications.</span></span>

### <a name="installation"></a><span data-ttu-id="1082d-247">安装</span><span class="sxs-lookup"><span data-stu-id="1082d-247">Installation</span></span>

<span data-ttu-id="1082d-248">桌面应用程序始终依赖于某种安装过程，然后用户才能开始使用它们。</span><span class="sxs-lookup"><span data-stu-id="1082d-248">Desktop applications always rely on some sort of installation process before the user can start using them.</span></span> <span data-ttu-id="1082d-249">从 MSI 和 ClickOnce 到自定义安装程序甚至是 XCOPY 部署，这一事实进入了游戏一系列技术。</span><span class="sxs-lookup"><span data-stu-id="1082d-249">This fact brought into the game a set of technologies, from MSI and ClickOnce to custom installers or even XCOPY deployment.</span></span> <span data-ttu-id="1082d-250">这些方法中的任何一种都涉及微妙的问题，因为应用程序需要一种方法来访问计算机上的共享资源。</span><span class="sxs-lookup"><span data-stu-id="1082d-250">Any of these methods deals with delicate problems because applications need a way to access shared resources on the machine.</span></span> <span data-ttu-id="1082d-251">有时，安装需要访问注册表以插入或更新新键值，有时会更新主应用程序所引用的共享 Dll。</span><span class="sxs-lookup"><span data-stu-id="1082d-251">Sometimes installation needs to access the Registry to insert or update new Key Values, sometimes to update shared DLLs referenced by the main application.</span></span> <span data-ttu-id="1082d-252">这种行为会使用户出现一种持续的麻烦，这就意味着，一旦您安装了某个应用程序，您的计算机将永远不会相同，即使以后卸载也是如此。</span><span class="sxs-lookup"><span data-stu-id="1082d-252">This behavior causes a continuous headache for users, creating this perception that once you install some application, your computer will never be the same, even if you uninstall it afterwards.</span></span>

<span data-ttu-id="1082d-253">本书介绍了如何使用 .MSIX 安装应用程序的新方法，以解决前面所述的问题。</span><span class="sxs-lookup"><span data-stu-id="1082d-253">In this book, we'll introduce a new way of installing applications with MSIX that solves the problem described earlier.</span></span> <span data-ttu-id="1082d-254">你将了解如何轻松地设置应用程序的打包、安装和更新。</span><span class="sxs-lookup"><span data-stu-id="1082d-254">You'll learn how you can easily set up packaging, installation, and updates for your application.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="1082d-255">[上一页](index.md)
>[下一页](whats-new-dotnet.md)</span><span class="sxs-lookup"><span data-stu-id="1082d-255">[Previous](index.md)
[Next](whats-new-dotnet.md)</span></span>

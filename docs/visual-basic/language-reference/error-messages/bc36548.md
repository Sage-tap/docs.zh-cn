---
description: 了解有关以下内容的详细信息： BC36548：无法将匿名类型转换为表达式树，因为该类型的属性用于初始化另一个属性
title: 无法将匿名类型转换为表达式树，因为此类型的属性用于初始化其他属性
ms.date: 07/20/2015
f1_keywords:
- bc36548
- vbc36548
helpviewer_keywords:
- BC36548
ms.assetid: 27de068f-080e-4160-86bf-1ec23fd1925a
ms.openlocfilehash: 68141cbe0da09fda9a3c227f2ec8bb74b393199b
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/06/2021
ms.locfileid: "99796894"
---
# <a name="bc36548-cannot-convert-anonymous-type-to-an-expression-tree-because-a-property-of-the-type-is-used-to-initialize-another-property"></a><span data-ttu-id="9b070-103">BC36548：无法将匿名类型转换为表达式树，因为该类型的属性用于初始化另一个属性</span><span class="sxs-lookup"><span data-stu-id="9b070-103">BC36548: Cannot convert anonymous type to an expression tree because a property of the type is used to initialize another property</span></span>

<span data-ttu-id="9b070-104">当使用匿名类型的一个属性来初始化匿名类型的其他属性时，编译器不接受将匿名类型转换为表达式树。</span><span class="sxs-lookup"><span data-stu-id="9b070-104">The compiler does not accept conversion of an anonymous type to an expression tree when one property of the anonymous type is used to initialize another property of the anonymous type.</span></span> <span data-ttu-id="9b070-105">例如，在下面的代码中，在 `Prop1` 初始化列表中声明，然后用作的初始值 `Prop2` 。</span><span class="sxs-lookup"><span data-stu-id="9b070-105">For example, in the following code, `Prop1` is declared in the initialization list and then used as the initial value for `Prop2`.</span></span>

<span data-ttu-id="9b070-106">**错误 ID：** BC36548</span><span class="sxs-lookup"><span data-stu-id="9b070-106">**Error ID:** BC36548</span></span>

## <a name="example"></a><span data-ttu-id="9b070-107">示例</span><span class="sxs-lookup"><span data-stu-id="9b070-107">Example</span></span>

```vb
Module M2

    Sub ExpressionExample(Of T)(x As Expressions.Expression(Of Func(Of T)))
    End Sub

    Sub Main()
        ' The following line causes the error.
        ExpressionExample(Function() New With {.Prop1 = 2, .Prop2 = .Prop1})
    End Sub
End Module
```

## <a name="to-correct-this-error"></a><span data-ttu-id="9b070-108">更正此错误</span><span class="sxs-lookup"><span data-stu-id="9b070-108">To correct this error</span></span>

<span data-ttu-id="9b070-109">将的初始值分配 `Prop1` 给本地变量。</span><span class="sxs-lookup"><span data-stu-id="9b070-109">Assign the initial value for `Prop1` to a local variable.</span></span> <span data-ttu-id="9b070-110">将该变量分配给 `Prop1` 和 `Prop2` ，如下面的代码所示：</span><span class="sxs-lookup"><span data-stu-id="9b070-110">Assign that variable to both `Prop1` and `Prop2`, as shown in the following code:</span></span>

```vb
Sub Main()
    Dim temp = 2
    ExpressionExample(Function() New With {.Prop1 = temp, .Prop2 = temp})
End Sub
```

## <a name="see-also"></a><span data-ttu-id="9b070-111">请参阅</span><span class="sxs-lookup"><span data-stu-id="9b070-111">See also</span></span>

- [<span data-ttu-id="9b070-112">匿名类型 (Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="9b070-112">Anonymous Types (Visual Basic)</span></span>](../../programming-guide/language-features/objects-and-classes/anonymous-types.md)
- [<span data-ttu-id="9b070-113">表达式树 (Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="9b070-113">Expression Trees (Visual Basic)</span></span>](../../programming-guide/concepts/expression-trees/index.md)
- [<span data-ttu-id="9b070-114">如何：使用表达式树生成动态查询 (Visual Basic) </span><span class="sxs-lookup"><span data-stu-id="9b070-114">How to: Use Expression Trees to Build Dynamic Queries (Visual Basic)</span></span>](../../programming-guide/concepts/expression-trees/how-to-use-expression-trees-to-build-dynamic-queries.md)

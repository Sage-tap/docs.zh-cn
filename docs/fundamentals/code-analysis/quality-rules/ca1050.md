---
title: CA1050：在命名空间中声明类型（代码分析）
description: 了解代码分析规则 CA1050：在命名空间中声明类型
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- CA1050
- DeclareTypesInNamespaces
helpviewer_keywords:
- DeclareTypesInNamespaces
- CA1050
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 6395a0e0501577f70652d86d1663a3a18dea2d84
ms.sourcegitcommit: 05d0087dfca85aac9ca2960f86c5efd218bf833f
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/30/2021
ms.locfileid: "99546915"
---
# <a name="ca1050-declare-types-in-namespaces"></a><span data-ttu-id="0d4db-103">CA1050:在命名空间中声明类型</span><span class="sxs-lookup"><span data-stu-id="0d4db-103">CA1050: Declare types in namespaces</span></span>

| | <span data-ttu-id="0d4db-104">值</span><span class="sxs-lookup"><span data-stu-id="0d4db-104">Value</span></span> |
|-|-|
| <span data-ttu-id="0d4db-105">**规则 ID**</span><span class="sxs-lookup"><span data-stu-id="0d4db-105">**Rule ID**</span></span> |<span data-ttu-id="0d4db-106">CA1050</span><span class="sxs-lookup"><span data-stu-id="0d4db-106">CA1050</span></span>|
| <span data-ttu-id="0d4db-107">**类别**</span><span class="sxs-lookup"><span data-stu-id="0d4db-107">**Category**</span></span> |[<span data-ttu-id="0d4db-108">Microsoft.Design</span><span class="sxs-lookup"><span data-stu-id="0d4db-108">Microsoft.Design</span></span>](design-warnings.md)|
| <span data-ttu-id="0d4db-109">修复是中断修复还是非中断修复</span><span class="sxs-lookup"><span data-stu-id="0d4db-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="0d4db-110">重大</span><span class="sxs-lookup"><span data-stu-id="0d4db-110">Breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="0d4db-111">原因</span><span class="sxs-lookup"><span data-stu-id="0d4db-111">Cause</span></span>

<span data-ttu-id="0d4db-112">在命名的命名称空间范围之外定义公共类型或受保护类型。</span><span class="sxs-lookup"><span data-stu-id="0d4db-112">A public or protected type is defined outside the scope of a named namespace.</span></span>

## <a name="rule-description"></a><span data-ttu-id="0d4db-113">规则说明</span><span class="sxs-lookup"><span data-stu-id="0d4db-113">Rule description</span></span>

<span data-ttu-id="0d4db-114">应在命名空间内声明类型以避免名称冲突，并作为一种在对象层次结构中组织相关类型的方式。</span><span class="sxs-lookup"><span data-stu-id="0d4db-114">Types are declared in namespaces to prevent name collisions, and as a way to organize related types in an object hierarchy.</span></span> <span data-ttu-id="0d4db-115">任何命名的命名称空间之外的类型均位于无法在代码中引用的全局命名空间中。</span><span class="sxs-lookup"><span data-stu-id="0d4db-115">Types that are outside any named namespace are in a global namespace that cannot be referenced in code.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="0d4db-116">如何解决冲突</span><span class="sxs-lookup"><span data-stu-id="0d4db-116">How to fix violations</span></span>

<span data-ttu-id="0d4db-117">若要修复与此规则的冲突，请将类型置于命名空间中。</span><span class="sxs-lookup"><span data-stu-id="0d4db-117">To fix a violation of this rule, place the type in a namespace.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="0d4db-118">何时禁止显示警告</span><span class="sxs-lookup"><span data-stu-id="0d4db-118">When to suppress warnings</span></span>

<span data-ttu-id="0d4db-119">虽然根本不必禁止显示此规则中的警告，但当程序集绝不会与其他组件一起使用时，可以禁止显示。</span><span class="sxs-lookup"><span data-stu-id="0d4db-119">Although you never have to suppress a warning from this rule, it is safe to do this when the assembly will never be used together with other assemblies.</span></span>

[!INCLUDE [suppress-warning](../../../../includes/code-analysis/suppress-warning.md)]

## <a name="example-1"></a><span data-ttu-id="0d4db-120">示例 1</span><span class="sxs-lookup"><span data-stu-id="0d4db-120">Example 1</span></span>

<span data-ttu-id="0d4db-121">以下示例显示在命名空间外错误声明类型的库，以及在名称空间中声明同一名称的类型。</span><span class="sxs-lookup"><span data-stu-id="0d4db-121">The following example shows a library that has a type incorrectly declared outside a namespace, and a type that has the same name declared in a namespace.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1050.cs" id="snippet1":::

:::code language="vb" source="snippets/vb/all-rules/ca1050-declare-types-in-namespaces_1.vb" id="snippet1":::

## <a name="example-2"></a><span data-ttu-id="0d4db-122">示例 2</span><span class="sxs-lookup"><span data-stu-id="0d4db-122">Example 2</span></span>

<span data-ttu-id="0d4db-123">以下应用程序使用之前定义的库。</span><span class="sxs-lookup"><span data-stu-id="0d4db-123">The following application uses the library that was defined previously.</span></span> <span data-ttu-id="0d4db-124">当命名空间未限定名称 `Test` 时，将创建命名空间之外声明的类型。</span><span class="sxs-lookup"><span data-stu-id="0d4db-124">The type that's declared outside a namespace is created when the name `Test` is not qualified by a namespace.</span></span> <span data-ttu-id="0d4db-125">若要访问在命名空间内声明的 `Test` 类型，需要命名空间名称。</span><span class="sxs-lookup"><span data-stu-id="0d4db-125">To access the `Test` type that's declared inside a namespace, the namespace name is required.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1050.cs" id="snippet2":::

:::code language="vb" source="snippets/vb/all-rules/ca1050-declare-types-in-namespaces_1.vb" id="snippet2":::

---
description: 了解详细信息： FS0001：添加类型公式时出错
title: 编译器错误 FS0001
ms.date: 12/21/2019
f1_keywords:
- FS0001
helpviewer_keywords:
- FS0001
ms.openlocfilehash: a561ee846d59ea6391762cc46ab25c660cc062b5
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/06/2021
ms.locfileid: "99631068"
---
# <a name="fs0001-error-from-adding-type-equation"></a><span data-ttu-id="f5734-103">FS0001：添加类型公式时出错</span><span class="sxs-lookup"><span data-stu-id="f5734-103">FS0001: Error from adding type equation</span></span>

<span data-ttu-id="f5734-104">当确定值的类型与所需类型不统一时，将提供此消息。</span><span class="sxs-lookup"><span data-stu-id="f5734-104">This message is given when a value is determined to have a type that doesn't unify with a type that has been expected.</span></span>

<span data-ttu-id="f5734-105">下面的代码演示错误的简单版本：</span><span class="sxs-lookup"><span data-stu-id="f5734-105">The following code demonstrates a simple version of the error:</span></span>

[!code-fsharp[FS0001-simple](~/samples/snippets/fsharp/compiler-messages/fs0001.fsx#L2)]

<span data-ttu-id="f5734-106">此代码生成以下输出：</span><span class="sxs-lookup"><span data-stu-id="f5734-106">This code results in the following output:</span></span>

```text
error FS0001: This expression was expected to have type
    'bool'
but here has type
    'int'
```

<span data-ttu-id="f5734-107">此处的类型必须 `booleanBinding` `bool` 由类型批注所使用。</span><span class="sxs-lookup"><span data-stu-id="f5734-107">Here, the type of the `booleanBinding` is required to be `bool` by the type annotation.</span></span> <span data-ttu-id="f5734-108">但是，将值 `10` 推断为 `int` 。</span><span class="sxs-lookup"><span data-stu-id="f5734-108">However the value `10` is inferred to be `int`.</span></span> <span data-ttu-id="f5734-109">由于与 `int` 不相同，因此 `bool` 会报告此消息。</span><span class="sxs-lookup"><span data-stu-id="f5734-109">Because `int` is not the same as `bool`, this message is reported.</span></span>

<span data-ttu-id="f5734-110">此消息可在许多不同的情况下发出，它们都遵循相同的模式。</span><span class="sxs-lookup"><span data-stu-id="f5734-110">This message can be issued in many different circumstances, and they all follow this same pattern.</span></span> <span data-ttu-id="f5734-111">类型推理 (或程序员提供的类型批注) ' fix ' 函数或值到特定类型的类型，然后使用该类型，就像它的类型与 "fixed" 类型不同。</span><span class="sxs-lookup"><span data-stu-id="f5734-111">Type inference (or programmer-given type annotations) 'fixes' the type of a function or value to a certain type, and then later that type is used as if it were of a different type than the 'fixed' type.</span></span>  <span data-ttu-id="f5734-112">下面的代码演示一个更复杂的错误版本，其中跨函数的推理导致错误出现在远离你预期的位置：</span><span class="sxs-lookup"><span data-stu-id="f5734-112">The following code demonstrates a more complex version of the error, where inference across functions causes the error to appear far away from where you might expect:</span></span>

[!code-fsharp[FS0001-complex](~/samples/snippets/fsharp/compiler-messages/fs0001.fsx#L5-L26)]

<span data-ttu-id="f5734-113">若要解决此消息，必须更改绑定的两个部分中的一个：类型批注或值绑定。</span><span class="sxs-lookup"><span data-stu-id="f5734-113">To solve this message, you must change one of the two parts of the binding: the type annotation or the value binding.</span></span>

- <span data-ttu-id="f5734-114">如果值正确，请更改或删除类型批注。</span><span class="sxs-lookup"><span data-stu-id="f5734-114">If the value is correct, change or remove the type annotation.</span></span>

- <span data-ttu-id="f5734-115">如果类型批注是正确的，请检查该值是否已绑定，并确保未发生任何逻辑错误。</span><span class="sxs-lookup"><span data-stu-id="f5734-115">If the type annotation is correct, check the value bound and ensure that no logic errors have been made.</span></span>

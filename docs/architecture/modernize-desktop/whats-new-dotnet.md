---
title: 适用于桌面的 .NET 有哪些新功能？
description: 了解 .NET、.NET 和 .NET Framework 之间的区别以及添加的新功能。
ms.date: 12/29/2020
ms.openlocfilehash: 03dea849ad8a797b917dca953d93be6878d7ec72
ms.sourcegitcommit: 05d0087dfca85aac9ca2960f86c5efd218bf833f
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/30/2021
ms.locfileid: "102106176"
---
# <a name="whats-new-with-net-for-desktop"></a><span data-ttu-id="10d8f-103">适用于桌面的 .NET 有哪些新功能？</span><span class="sxs-lookup"><span data-stu-id="10d8f-103">What's new with .NET for Desktop?</span></span>

<span data-ttu-id="10d8f-104">从 .NET Core 3.0 开始，.NET 支持 Windows 窗体和 WPF。</span><span class="sxs-lookup"><span data-stu-id="10d8f-104">Starting with .NET Core 3.0, .NET supports Windows Forms and WPF.</span></span> <span data-ttu-id="10d8f-105">因此，对于桌面应用程序，现在可以在 .NET Framework 和 .NET 之间进行选择。</span><span class="sxs-lookup"><span data-stu-id="10d8f-105">So, now you have a choice between .NET Framework and .NET for your desktop applications.</span></span> <span data-ttu-id="10d8f-106">本章节将介绍什么是 .NET 及其对桌面应用程序有哪些好处。</span><span class="sxs-lookup"><span data-stu-id="10d8f-106">This chapter will describe what is .NET and what are its benefits for desktop applications.</span></span>

## <a name="the-motivation-behind-net-core"></a><span data-ttu-id="10d8f-107">.NET Core 背后的动机</span><span class="sxs-lookup"><span data-stu-id="10d8f-107">The motivation behind .NET Core</span></span>

<span data-ttu-id="10d8f-108">自 2002 年推出以来，.NET Framework 经过多年演变，可支持 Windows 窗体、ASP.NET、实体框架、Windows 应用商店等许多技术。</span><span class="sxs-lookup"><span data-stu-id="10d8f-108">Since its launch in 2002, .NET Framework has evolved through the years to support many technologies like Windows Forms, ASP.NET, Entity Framework, Windows Store, and many others.</span></span> <span data-ttu-id="10d8f-109">它们在本质上各不相同。</span><span class="sxs-lookup"><span data-stu-id="10d8f-109">All of them are different in nature.</span></span> <span data-ttu-id="10d8f-110">因此，Microsoft 通过采用 .NET Framework 的一部分并为每种技术创建不同的应用程序堆栈来实现这一演变。</span><span class="sxs-lookup"><span data-stu-id="10d8f-110">Therefore, Microsoft was approaching this evolution by taking parts of the .NET Framework and creating a different application stack for each technology.</span></span> <span data-ttu-id="10d8f-111">这样便可以针对特定堆栈的需求自定义开发功能，从而最大程度地发挥每个平台的潜力。</span><span class="sxs-lookup"><span data-stu-id="10d8f-111">That way, development capabilities could be customized for the needs of the specific stack, which maximized the potential of every platform.</span></span> <span data-ttu-id="10d8f-112">这导致由不同的独立团队维护的 .NET Framework 版本呈碎片化趋势。</span><span class="sxs-lookup"><span data-stu-id="10d8f-112">That lead to fragmentation on the versions of the .NET Framework maintained by different independent teams.</span></span> <span data-ttu-id="10d8f-113">所有这些堆栈都有一个通用结构，其中包含一个应用模型、一个框架以及一个运行时，但它们在各个部分的实现上有所不同。</span><span class="sxs-lookup"><span data-stu-id="10d8f-113">All these stacks have a common structure, containing an App Model, a Framework, and a Runtime, but they differ in the implementation of each of these parts.</span></span>

<span data-ttu-id="10d8f-114">如果仅针对其中一个平台，则可以使用此模型。</span><span class="sxs-lookup"><span data-stu-id="10d8f-114">If you're targeting only one of these platforms, you can use this model.</span></span> <span data-ttu-id="10d8f-115">但是，在许多情况下，同一解决方案可能需要针对多个目标平台。</span><span class="sxs-lookup"><span data-stu-id="10d8f-115">However, in many cases you might need more than one target platform in the same solution.</span></span> <span data-ttu-id="10d8f-116">例如，应用程序可能会有一个桌面管理部件，一个面向客户的网站（共享在服务器上运行的后端逻辑），甚至一个移动客户端。</span><span class="sxs-lookup"><span data-stu-id="10d8f-116">For example, your application may have a desktop admin part, a customer-facing web site that shares the back-end logic running on a server, and even a mobile client.</span></span> <span data-ttu-id="10d8f-117">在这种情况下，你需要能够跨越所有这些 .NET 垂直领域的统一编码体验。</span><span class="sxs-lookup"><span data-stu-id="10d8f-117">In this case, you need a unified coding experience that can span all this .NET verticals.</span></span>

<span data-ttu-id="10d8f-118">在 Windows 8 发布时，可移植类库 (PCL) 的概念便应运而生。</span><span class="sxs-lookup"><span data-stu-id="10d8f-118">By the time Windows 8 was released, the concept of Portable Class Libraries (PCLs) was born.</span></span> <span data-ttu-id="10d8f-119">最初，.NET Framework 根据其始终作为单个单元部署的假设进行设计，因此无需考虑[分解](https://wikipedia.org/wiki/Decomposition_(computer_science))的问题。</span><span class="sxs-lookup"><span data-stu-id="10d8f-119">Originally, the .NET Framework was designed around the assumption that it would always be deployed as a single unit, so [factoring](https://wikipedia.org/wiki/Decomposition_(computer_science)) wasn't a concern.</span></span> <span data-ttu-id="10d8f-120">若要解决垂直领域之间的代码共享问题，驱动力在于如何重构框架。</span><span class="sxs-lookup"><span data-stu-id="10d8f-120">To face the problem of code sharing between verticals, the driving force was on how to refactor the framework.</span></span> <span data-ttu-id="10d8f-121">协定的理念旨在提供构造良好的 API 外围应用。</span><span class="sxs-lookup"><span data-stu-id="10d8f-121">The idea of contracts is to provide a well-factored API surface area.</span></span> <span data-ttu-id="10d8f-122">协定是用作编译依据的程序集，并在设计时考虑了用于处理它们之间的依赖关系的适当分解技术。</span><span class="sxs-lookup"><span data-stu-id="10d8f-122">Contracts are simply assemblies that you compile against and are designed with proper factoring in mind taking care of the dependencies between them.</span></span>

<span data-ttu-id="10d8f-123">这将导致在程序集级别（与之前的单个 API 级别相反）对垂直领域之间的 API 差异进行推理。</span><span class="sxs-lookup"><span data-stu-id="10d8f-123">This leads to reasoning about the API differences between verticals at the assembly level, as opposed to the individual API level that we had before.</span></span> <span data-ttu-id="10d8f-124">这一点实现了面向多个垂直领域的类库体验，也称为可移植类库。</span><span class="sxs-lookup"><span data-stu-id="10d8f-124">This aspect enabled a class library experience that can target multiple verticals, also known as portable class libraries.</span></span>

![.NET Framework 版本历史记录](./media/whats-new-dotnet-core/release-history.png)

<span data-ttu-id="10d8f-126">借助 PCL，可以根据 API 形状跨垂直领域统一开发体验。</span><span class="sxs-lookup"><span data-stu-id="10d8f-126">With PCL, the experience of development is unified across verticals based on the API shape.</span></span> <span data-ttu-id="10d8f-127">还解决了创建在不同垂直领域运行的库的最迫切需求。</span><span class="sxs-lookup"><span data-stu-id="10d8f-127">And the most pressing need to create libraries running on different verticals is also addressed.</span></span> <span data-ttu-id="10d8f-128">但是，存在一个巨大挑战，即仅当实现跨所有垂直领域向前移动时，API 才是可移植的。</span><span class="sxs-lookup"><span data-stu-id="10d8f-128">But there's a great challenge: APIs are only portable when the implementation is moved forward across all the verticals.</span></span>

<span data-ttu-id="10d8f-129">更好的方法是通过提供构造良好的实现（而不是构造良好的视图）来统一跨垂直领域的实现。</span><span class="sxs-lookup"><span data-stu-id="10d8f-129">A better approach is to unify the implementations across verticals by providing a well-factored implementation instead of a well-factored view.</span></span> <span data-ttu-id="10d8f-130">让每个拥有特定组件的团队考虑自己的 API 如何跨所有垂直领域工作要比尝试在顶层以追溯方式提供一致的 API 堆栈要简单得多。</span><span class="sxs-lookup"><span data-stu-id="10d8f-130">It's a lot simpler to ask each team that owns a specific component to think about how their APIs work across all verticals than trying to retroactively provide a consistent API stack on top.</span></span> <span data-ttu-id="10d8f-131">.NET Standard 可在此时派上用场。</span><span class="sxs-lookup"><span data-stu-id="10d8f-131">This is where .NET Standard comes in.</span></span> <span data-ttu-id="10d8f-132">有关详细信息，请参阅下一部分。</span><span class="sxs-lookup"><span data-stu-id="10d8f-132">See details on the next section.</span></span>

<span data-ttu-id="10d8f-133">另一个重大挑战与 .NET Framework 的部署方式有关。</span><span class="sxs-lookup"><span data-stu-id="10d8f-133">Another large challenge has to do with how the .NET Framework is deployed.</span></span> <span data-ttu-id="10d8f-134">.NET Framework 是计算机范围的框架。</span><span class="sxs-lookup"><span data-stu-id="10d8f-134">The .NET Framework is a machine-wide framework.</span></span> <span data-ttu-id="10d8f-135">对其所做的任何更改都会影响依赖它的所有应用程序。</span><span class="sxs-lookup"><span data-stu-id="10d8f-135">Any changes made to it affect all applications taking a dependency on it.</span></span> <span data-ttu-id="10d8f-136">尽管此部署模型具有许多优点（例如减少占用的磁盘空间和集中访问服务），但也存在一些缺陷。</span><span class="sxs-lookup"><span data-stu-id="10d8f-136">Although this deployment model has many advantages, such as reducing disk space and centralized access to services, it presents some pitfalls.</span></span>

<span data-ttu-id="10d8f-137">首先，应用程序开发人员很难依赖于最近发布的框架。</span><span class="sxs-lookup"><span data-stu-id="10d8f-137">To start with, it's difficult for application developers to take a dependency on a recently released framework.</span></span> <span data-ttu-id="10d8f-138">他们要么必须依赖于最新的操作系统，要么必须提供随应用程序安装 .NET Framework 的应用程序安装程序。</span><span class="sxs-lookup"><span data-stu-id="10d8f-138">They either have to take a dependency on the latest OS or provide an application installer that installs the .NET Framework along with the application.</span></span> <span data-ttu-id="10d8f-139">如果你是 Web 开发人员，随着 IT 部门确立服务器支持的版本，你甚至可能没有这个选项。</span><span class="sxs-lookup"><span data-stu-id="10d8f-139">If you are a web developer, you might not even have this option as the IT department establishes the server supported version.</span></span>

<span data-ttu-id="10d8f-140">即使你愿意花费心思在 .NET Framework 安装中提供用于链接的安装程序，也可能会发现升级 .NET Framework 可能中断其他应用程序。</span><span class="sxs-lookup"><span data-stu-id="10d8f-140">Even if you're willing to go through the trouble of providing an installer to chain in the .NET Framework setup, you may find that upgrading the .NET Framework can break other applications.</span></span>

<span data-ttu-id="10d8f-141">尽管已努力提供该框架的后向兼容版本，但仍有一些兼容性更改可能中断应用程序。</span><span class="sxs-lookup"><span data-stu-id="10d8f-141">Despite the efforts to provide backward compatible versions of the framework, there are compatible changes that can break applications.</span></span> <span data-ttu-id="10d8f-142">例如，将接口添加到现有类型可能更改此类型的序列化方式，并导致基于现有代码的中断问题。</span><span class="sxs-lookup"><span data-stu-id="10d8f-142">For example, adding an interface to an existing type can change how this type is serialized and cause breaking problems depending on the existing code.</span></span> <span data-ttu-id="10d8f-143">因为 .NET Framework 的安装基础庞大，所以应对这些中断情况会减慢 .NET Framework 内部的创新步伐。</span><span class="sxs-lookup"><span data-stu-id="10d8f-143">Because the NET Framework installed base is huge, fighting against these breaking scenarios slows down the pace of innovations inside the .NET Framework.</span></span>

<span data-ttu-id="10d8f-144">为了解决所有这些问题，Microsoft 开发了 .NET Core 来应对 .NET 平台的演变。</span><span class="sxs-lookup"><span data-stu-id="10d8f-144">To solve all these issues, Microsoft has developed .NET Core to approach the evolution of the .NET Platform.</span></span>

## <a name="introduction-to-net-core"></a><span data-ttu-id="10d8f-145">.NET Core 简介</span><span class="sxs-lookup"><span data-stu-id="10d8f-145">Introduction to .NET Core</span></span>

<span data-ttu-id="10d8f-146">.NET Core 是 Microsoft .NET 技术向模块化、跨平台、开源和云就绪平台的演变。</span><span class="sxs-lookup"><span data-stu-id="10d8f-146">The .NET Core is the evolution of Microsoft's .NET technology into a modular, cross-platform, open source, and cloud-ready platform.</span></span> <span data-ttu-id="10d8f-147">它可在 Windows、macOS 和 Linux 上运行，并且还计划在基于 ARM 的体系结构（如 Android 和 IoT）上运行。</span><span class="sxs-lookup"><span data-stu-id="10d8f-147">It runs on Windows, macOS, and Linux with plans to also run on ARM-based architectures like Android and IoT.</span></span>

<span data-ttu-id="10d8f-148">.NET Core 旨在为所有类型的应用程序（包括 Windows、跨平台和移动应用程序）提供统一的平台。</span><span class="sxs-lookup"><span data-stu-id="10d8f-148">The purpose of .NET Core is to provide a unified platform for all types of applications, which includes Windows, cross-platform, and mobile applications.</span></span> <span data-ttu-id="10d8f-149">[.NET Standard](../../standard/net-standard.md) 通过提供每个应用程序模型都需要的共享基础 API，并排除所有应用程序模型特定的 API 来实现此目的。</span><span class="sxs-lookup"><span data-stu-id="10d8f-149">[.NET Standard](../../standard/net-standard.md) enables this by providing shared base APIs, which every application model needs, and excluding any application model-specific API.</span></span>

<span data-ttu-id="10d8f-150">此框架在效率和性能方面为应用程序带来了很多好处，并简化了在不同受支持平台中的打包和部署。</span><span class="sxs-lookup"><span data-stu-id="10d8f-150">This framework gives applications many benefits in terms of efficiency and performance, simplifying the packaging and deployment in the different supported platforms.</span></span>

<span data-ttu-id="10d8f-151">.NET Core 带来的好处来自以下三个特征：</span><span class="sxs-lookup"><span data-stu-id="10d8f-151">The benefits of .NET Core come from these three characteristics:</span></span>

- <span data-ttu-id="10d8f-152">**跨平台：** 它允许在不同平台（Windows、macOS 和 Linux）上执行应用程序。</span><span class="sxs-lookup"><span data-stu-id="10d8f-152">**Cross-platform:** It allows application execution on different platforms (Windows, macOS, and Linux).</span></span>
- <span data-ttu-id="10d8f-153">**开源：** .NET Core 平台为开源平台，可通过 GitHub 获取，促进了透明度提升和社区贡献。</span><span class="sxs-lookup"><span data-stu-id="10d8f-153">**Open source:** .NET Core platform is open source and available through GitHub, fostering transparency and community contributions.</span></span>
- <span data-ttu-id="10d8f-154">**受支持：** Microsoft 正式支持 .NET Core。</span><span class="sxs-lookup"><span data-stu-id="10d8f-154">**Supported:** Microsoft officially supports .NET Core.</span></span>

<span data-ttu-id="10d8f-155">从 .NET Core 3.0 开始，除了对 Web 和云的现有支持之外，还支持桌面、IoT 和 AI 域。</span><span class="sxs-lookup"><span data-stu-id="10d8f-155">Starting with .NET Core 3.0, besides the existing support for web and cloud, there's also support for desktop, IoT, and AI domains.</span></span> <span data-ttu-id="10d8f-156">此框架的目标令人印象深刻：面向现在和将来的所有类型的 .NET 开发。</span><span class="sxs-lookup"><span data-stu-id="10d8f-156">The goal for this framework is impressive: to target every type of .NET development present and future.</span></span> <span data-ttu-id="10d8f-157">Microsoft 计划在 2020 年底通过 .NET 5 完成这一愿景。</span><span class="sxs-lookup"><span data-stu-id="10d8f-157">Microsoft plans to complete this vision with .NET 5 at the end of 2020.</span></span> <span data-ttu-id="10d8f-158">移除了名称中的“Core”，以加强其在 .NET 世界中的唯一性。</span><span class="sxs-lookup"><span data-stu-id="10d8f-158">The "Core" name was removed to reinforce its uniqueness in the .NET world.</span></span>

## <a name="net-5-is-net-core-vnext"></a><span data-ttu-id="10d8f-159">.NET 5 是 .NET Core vNext</span><span class="sxs-lookup"><span data-stu-id="10d8f-159">.NET 5 is .NET Core vNext</span></span>

<span data-ttu-id="10d8f-160">.NET 5 是 .NET Core 要迈出的下一步。</span><span class="sxs-lookup"><span data-stu-id="10d8f-160">.NET 5 is the next step forward with .NET Core.</span></span> <span data-ttu-id="10d8f-161">.NET 5.0 旨在通过一些关键方法来改进 .NET：</span><span class="sxs-lookup"><span data-stu-id="10d8f-161">The .NET 5.0 aims to improve .NET in a few key ways:</span></span>

- <span data-ttu-id="10d8f-162">生成可随处使用且提供统一运行时行为和开发人员体验的单一 .NET 运行时和框架。</span><span class="sxs-lookup"><span data-stu-id="10d8f-162">Produce a single .NET runtime and framework that can be used everywhere and that has uniform runtime behaviors and developer experiences.</span></span>
- <span data-ttu-id="10d8f-163">通过充分利用 .NET Core、.NET Framework、Xamarin 和 Mono 来扩展 .NET 的功能。</span><span class="sxs-lookup"><span data-stu-id="10d8f-163">Expand the capabilities of .NET by taking the best of .NET Core, .NET Framework, Xamarin and Mono.</span></span>
- <span data-ttu-id="10d8f-164">根据单个基本代码构建开发人员（Microsoft 和社区）可处理且协同扩展，同时可改善所有方案的产品。</span><span class="sxs-lookup"><span data-stu-id="10d8f-164">Build that product out of a single code-base that developers (Microsoft and the community) can work on and expand together and that improves all scenarios.</span></span>

<span data-ttu-id="10d8f-165">这一新版本和发展方向对 .NET 而言改变了游戏规则。</span><span class="sxs-lookup"><span data-stu-id="10d8f-165">This new release and direction are a game-changer for .NET.</span></span> <span data-ttu-id="10d8f-166">借助 .NET 5，无论你正在生成哪种类型的应用，代码和项目文件看起来都一样。</span><span class="sxs-lookup"><span data-stu-id="10d8f-166">With .NET 5, your code and project files will look and feel the same no matter which type of app you're building.</span></span> <span data-ttu-id="10d8f-167">你将能够访问每个应用的相同运行时、API 和语言功能。</span><span class="sxs-lookup"><span data-stu-id="10d8f-167">You’ll have access to the same runtime, APIs, and language capabilities with each app.</span></span> <span data-ttu-id="10d8f-168">这包括几乎每天都会提交到运行时的新[性能改进](https://devblogs.microsoft.com/dotnet/performance-improvements-in-net-5/)。</span><span class="sxs-lookup"><span data-stu-id="10d8f-168">This includes new [performance improvements](https://devblogs.microsoft.com/dotnet/performance-improvements-in-net-5/) that get committed to the runtime, practically daily.</span></span> <span data-ttu-id="10d8f-169">有关更多详细信息，请参阅 [.NET 5 中的新增功能](../../core/dotnet-five.md)。</span><span class="sxs-lookup"><span data-stu-id="10d8f-169">For more details refer [What's new in .NET 5](../../core/dotnet-five.md).</span></span>

![.NET 5 的所有域](./media/whats-new-dotnet-core/all-domains-of-dotnet5.png)

## <a name="net-framework-vs-net-5"></a><span data-ttu-id="10d8f-171">.NET Framework 与 .NET 5</span><span class="sxs-lookup"><span data-stu-id="10d8f-171">.NET Framework vs. .NET 5</span></span>

<span data-ttu-id="10d8f-172">你现在已了解 .NET 的相关性，接下来可能会想知道 .NET Framework 会发生什么情况。</span><span class="sxs-lookup"><span data-stu-id="10d8f-172">So now that you understand the relevance of .NET, you might be wondering what happens with .NET Framework.</span></span> <span data-ttu-id="10d8f-173">你可能会问以下问题：必须放弃吗？</span><span class="sxs-lookup"><span data-stu-id="10d8f-173">You could be asking questions like: do you have to abandon it?</span></span> <span data-ttu-id="10d8f-174">它会消失吗？</span><span class="sxs-lookup"><span data-stu-id="10d8f-174">Is it going to disappear?</span></span> <span data-ttu-id="10d8f-175">在现代化 .NET Framework 上的应用程序时，我有哪些选择？</span><span class="sxs-lookup"><span data-stu-id="10d8f-175">What are my choices to modernize the applications I have on .NET Framework?</span></span>

<span data-ttu-id="10d8f-176">2019 年，发布了最新版本的 .NET Framework，即版本 4.8。</span><span class="sxs-lookup"><span data-stu-id="10d8f-176">In 2019 the last version of the **.NET Framework - 4.8** was released.</span></span> <span data-ttu-id="10d8f-177">它包括针对桌面应用程序的三项重大改进：</span><span class="sxs-lookup"><span data-stu-id="10d8f-177">It included three major improvements for desktop applications:</span></span>

- <span data-ttu-id="10d8f-178">**新式浏览器和媒体控件**：现今，.NET 桌面应用程序使用 Internet Explorer 和 Windows Media Player 来显示 HTML 及播放媒体文件。</span><span class="sxs-lookup"><span data-stu-id="10d8f-178">**Modern browser and media controls**: Today, .NET desktop applications use Internet Explorer and Windows Media Player for showing HTML and playing media files.</span></span> <span data-ttu-id="10d8f-179">由于这些旧控件不显示最新的 HTML，也不播放最新的媒体文件，因此添加了新控件，以利用 Microsoft Edge 和支持最新标准的较新媒体播放器。</span><span class="sxs-lookup"><span data-stu-id="10d8f-179">Since these legacy controls don't show the latest HTML or play the latest media files, new controls were added that take advantage of Microsoft Edge and newer media players that support the latest standards.</span></span>
- <span data-ttu-id="10d8f-180">**UWP 控件访问权限**：UWP 包含可利用最新 Windows 功能和触摸屏的新控件。</span><span class="sxs-lookup"><span data-stu-id="10d8f-180">**Access to UWP controls**: UWP contains new controls that take advantage of the latest Windows features and touch displays.</span></span> <span data-ttu-id="10d8f-181">无需重写应用程序即可使用这些新功能和控件，因此可以在现有的 WPF 或 Windows 窗体代码中使用这些新功能。</span><span class="sxs-lookup"><span data-stu-id="10d8f-181">You don't have to rewrite your applications to use these new features and controls, so you can use these new features in your existing WPF or Windows Forms code.</span></span>
- <span data-ttu-id="10d8f-182">**高 DPI 改进**：显示器的分辨率提高到 4K 和 8K 分辨率。</span><span class="sxs-lookup"><span data-stu-id="10d8f-182">**High-DPI improvements**: The resolution of displays is increasing to 4K and 8K resolutions.</span></span> <span data-ttu-id="10d8f-183">因此，.NET Framework 4.8 添加了新的 HDPI 改进，以确保现有 Windows 窗体和 WPF 应用程序在这些新显示器中看起来很棒。</span><span class="sxs-lookup"><span data-stu-id="10d8f-183">So, .NET Framework 4.8 adds new HDPI improvements to make sure your existing Windows Forms and WPF applications can look great on these new displays.</span></span>

<span data-ttu-id="10d8f-184">由于 .NET Framework 已在数百万台计算机上安装，因此 Microsoft 将继续支持它，但不会添加新功能。</span><span class="sxs-lookup"><span data-stu-id="10d8f-184">Since .NET Framework is installed on millions of machines, Microsoft will continue to support it but won't add new features.</span></span>

<span data-ttu-id="10d8f-185">.NET 5 是 .NET 系列的开源、跨平台且快速演变的版本。</span><span class="sxs-lookup"><span data-stu-id="10d8f-185">.NET 5 is the open-source, cross-platform, and fast-moving version of .NET family.</span></span> <span data-ttu-id="10d8f-186">由于其并行性质，可以进行更改而不必担心中断任何应用程序。</span><span class="sxs-lookup"><span data-stu-id="10d8f-186">Because of its side-by-side nature, it can take changes without the fear of breaking any application.</span></span> <span data-ttu-id="10d8f-187">这意味着，随着时间的推移，.NET 将获得新的 API 和语言功能，而 .NET Framework 不会。</span><span class="sxs-lookup"><span data-stu-id="10d8f-187">This means that .NET will get new APIs and language features over time that .NET Framework won't.</span></span> <span data-ttu-id="10d8f-188">此外，.NET 已经具有 .NET Framework 无法实现的功能，例如：</span><span class="sxs-lookup"><span data-stu-id="10d8f-188">Also, **.NET** already has features that were impossible for .NET Framework, such as:</span></span>

- <span data-ttu-id="10d8f-189">**支持 Windows 窗体和 WPF 的 .NET 的并行版本**：这解决了更新计算机的框架版本的副作用问题。</span><span class="sxs-lookup"><span data-stu-id="10d8f-189">**Side-by-side versions of .NET supporting Windows Forms and WPF**: This solves the problem of side effects when updating the machine's framework version.</span></span> <span data-ttu-id="10d8f-190">可以在同一台计算机上安装多个 .NET 版本，并且每个应用程序都指定应使用的 .NET 版本。</span><span class="sxs-lookup"><span data-stu-id="10d8f-190">Multiple versions of .NET can be installed on the same machine and each application specifies which version of .NET it should use.</span></span> <span data-ttu-id="10d8f-191">现在甚至还可以在 .NET 之上开发和运行 Windows 窗体及 WPF。</span><span class="sxs-lookup"><span data-stu-id="10d8f-191">Even more, now you can develop and run Windows Forms and WPF on top of .NET.</span></span>
- <span data-ttu-id="10d8f-192">**将 .NET 直接嵌入应用程序**：可以将 .NET 作为应用程序包的一部分部署。</span><span class="sxs-lookup"><span data-stu-id="10d8f-192">**Embed .NET directly into an application**: You can deploy .NET as part of your application package.</span></span> <span data-ttu-id="10d8f-193">这使你可以利用最新版本、功能和 API，而不必等待在计算机上安装特定版本。</span><span class="sxs-lookup"><span data-stu-id="10d8f-193">This enables you to take advantage of the latest version, features, and APIs without having to wait for a specific version to be installed on the machine.</span></span>
- <span data-ttu-id="10d8f-194">**利用 .NET 功能**：.NET Core 是 .NET 的快速演变的开源版本。</span><span class="sxs-lookup"><span data-stu-id="10d8f-194">**Take advantage of .NET features**: .NET Core is the fast-moving, open-source version of .NET.</span></span> <span data-ttu-id="10d8f-195">其并行特性使得可以快速引入新的创新 API 和基类库 (BCL) 改进，而不会有破坏兼容性的风险。</span><span class="sxs-lookup"><span data-stu-id="10d8f-195">Its side-by-side nature enables fast introduction of new innovative APIs and Base Class Libraries (BCL) improvements without the risk of breaking compatibility.</span></span> <span data-ttu-id="10d8f-196">现在，Windows 窗体和 WPF 应用程序可以利用最新的 .NET 功能，其还包括针对运行时性能、高 DPI 支持等的更多基本修补程序。</span><span class="sxs-lookup"><span data-stu-id="10d8f-196">Now Windows Forms and WPF applications can take advantage of the latest .NET features, which also includes more fundamental fixes for runtime performance, high-DPI support, and so on.</span></span>

<span data-ttu-id="10d8f-197">Microsoft 路线图的一个重要部分是简化开发人员将应用程序迁移到 .NET Core 以及稍后迁移到 .NET 5 的过程。</span><span class="sxs-lookup"><span data-stu-id="10d8f-197">An essential part of the roadmap for Microsoft was to ease developers to move applications to .NET Core and in later to .NET 5.</span></span> <span data-ttu-id="10d8f-198">但是，如果已有现有的 .NET Framework 应用程序，则对于迁移到 .NET 5 不应感觉有压力。</span><span class="sxs-lookup"><span data-stu-id="10d8f-198">But if you have existing .NET Framework applications, you shouldn't feel pressured to move to .NET 5.</span></span> <span data-ttu-id="10d8f-199">.NET Framework 将完全受支持，并将始终是 Windows 的一部分。</span><span class="sxs-lookup"><span data-stu-id="10d8f-199">.NET Framework will be fully supported and will always be a part of Windows.</span></span> <span data-ttu-id="10d8f-200">但是，如果将来要使用最新的语言功能和 API，则需要将应用程序迁移到 .NET。</span><span class="sxs-lookup"><span data-stu-id="10d8f-200">However, if you want to use the newest language features and APIs in the future, you'll need to move your applications to .NET.</span></span>

<span data-ttu-id="10d8f-201">对于全新的桌面应用程序，我们建议直接从 .NET 5 入手。</span><span class="sxs-lookup"><span data-stu-id="10d8f-201">For your brand-new desktop applications, we recommend starting directly on .NET 5.</span></span> <span data-ttu-id="10d8f-202">它是轻量级的并且跨平台，可以并行运行，具有高性能，并且非常适合容器和微服务体系结构。</span><span class="sxs-lookup"><span data-stu-id="10d8f-202">It's lightweight and cross platform, runs side by side, has high performance, and fits perfectly on containers and microservices architectures.</span></span>

![可以使用最新的 .NET Framework 版本更新 .NET Framework 应用程序，也可以将应用程序移植到 .NET Core](./media/whats-new-dotnet-core/framework-vs-core.png)

## <a name="net-standard-vs-pcl"></a><span data-ttu-id="10d8f-204">.NET Standard 与 PCL</span><span class="sxs-lookup"><span data-stu-id="10d8f-204">.NET Standard vs. PCL</span></span>

<span data-ttu-id="10d8f-205">[.NET Standard](../../standard/net-standard.md) 是一套正式的 .NET API 规范，有望在所有 .NET 实现中推出。</span><span class="sxs-lookup"><span data-stu-id="10d8f-205">[.NET Standard](../../standard/net-standard.md) is a formal specification of .NET APIs that are intended to be available on all .NET implementations.</span></span> <span data-ttu-id="10d8f-206">推出 .NET Standard 的背后动机是要提高 .NET 生态系统中的一致性。</span><span class="sxs-lookup"><span data-stu-id="10d8f-206">The motivation behind .NET Standard is establishing greater uniformity in the .NET ecosystem.</span></span> <span data-ttu-id="10d8f-207">.NET Standard 是构成协定统一集（这些协定是编写代码的依据）的 .NET API 规范。</span><span class="sxs-lookup"><span data-stu-id="10d8f-207">.NET Standard is a specification of .NET APIs that make up a uniform set of contracts to compile your code against.</span></span> <span data-ttu-id="10d8f-208">这些协定在每种 .NET 风格中实现，因此可实现跨不同 .NET 实现的可移植性。</span><span class="sxs-lookup"><span data-stu-id="10d8f-208">These contracts are implemented in each .NET flavor, thus enabling portability across different .NET implementations.</span></span>

<span data-ttu-id="10d8f-209">.NET Standard 可实现以下重要情境：</span><span class="sxs-lookup"><span data-stu-id="10d8f-209">.NET Standard enables the following key scenarios:</span></span>

- <span data-ttu-id="10d8f-210">为要实现的所有 .NET 实现定义与工作负载无关的基类库 API 统一集。</span><span class="sxs-lookup"><span data-stu-id="10d8f-210">Defines uniform set of base class libraries APIs for all .NET implementations to implement, independent of the workload.</span></span>
- <span data-ttu-id="10d8f-211">使开发人员能够通过同一组 API 生成可在各种 .NET 实现中使用的可移植库。</span><span class="sxs-lookup"><span data-stu-id="10d8f-211">Enables developers to produce portable libraries that are usable across .NET implementations, using this same set of APIs.</span></span>

<span data-ttu-id="10d8f-212">.NET Standard 是 PCL 的发展，下面的列表显示 .NET Standard 和 PCL 之间的基本区别：</span><span class="sxs-lookup"><span data-stu-id="10d8f-212">.NET Standard is the evolution of PCLs and the following list shows the fundamental differences between .NET Standard and PCLs:</span></span>

- <span data-ttu-id="10d8f-213">.NET Standard 是 Microsoft 挑选的一组特选 API。</span><span class="sxs-lookup"><span data-stu-id="10d8f-213">.NET Standard is a set of curated APIs, picked by Microsoft.</span></span> <span data-ttu-id="10d8f-214">PCL 不是。</span><span class="sxs-lookup"><span data-stu-id="10d8f-214">PCLs aren't.</span></span>
- <span data-ttu-id="10d8f-215">PCL 包含的 API 取决于创建时选择的目标平台。</span><span class="sxs-lookup"><span data-stu-id="10d8f-215">The APIs that a PCL contains are dependent on the platforms that you choose to target when you create it.</span></span> <span data-ttu-id="10d8f-216">这使得 PCL 仅可共享给选择的特定目标。</span><span class="sxs-lookup"><span data-stu-id="10d8f-216">This makes a PCL only sharable for the specific targets that you choose.</span></span>
- <span data-ttu-id="10d8f-217">.NET Standard 与平台无关，它可以在 Windows、macOS、Linux 等任何位置运行。</span><span class="sxs-lookup"><span data-stu-id="10d8f-217">.NET Standard is platform-agnostic, it can run anywhere, on Windows, macOS, Linux, and so on.</span></span>
- <span data-ttu-id="10d8f-218">PCL 也可以跨平台运行，但是范围受到更多限制。</span><span class="sxs-lookup"><span data-stu-id="10d8f-218">PCLs can also run cross-platform, but they have a more limited reach.</span></span> <span data-ttu-id="10d8f-219">PCL 只能面向一组有限的平台。</span><span class="sxs-lookup"><span data-stu-id="10d8f-219">PCLs can only target a limited set of platforms.</span></span>

## <a name="new-desktop-features-in-net-core"></a><span data-ttu-id="10d8f-220">.NET Core 中的新桌面功能</span><span class="sxs-lookup"><span data-stu-id="10d8f-220">New Desktop features in .NET Core</span></span>

### <a name="support-for-windows-forms-and-wpf"></a><span data-ttu-id="10d8f-221">Windows 窗体和 WPF 支持</span><span class="sxs-lookup"><span data-stu-id="10d8f-221">Support for Windows Forms and WPF</span></span>

<span data-ttu-id="10d8f-222">自版本 3.0 以来，Windows 窗体和 WPF 成为 .NET Core 的一部分。</span><span class="sxs-lookup"><span data-stu-id="10d8f-222">Windows Forms and WPF are part of .NET Core since version 3.0.</span></span> <span data-ttu-id="10d8f-223">两种表示框架均仅适用于 Windows，因此它们不可跨平台。</span><span class="sxs-lookup"><span data-stu-id="10d8f-223">Both presentation frameworks are for Windows only, so they aren't cross platform.</span></span> <span data-ttu-id="10d8f-224">你可以将 WPF 视为 DirectX 上的富层，将 Windows 窗体视为 GDI+ 上的瘦层。</span><span class="sxs-lookup"><span data-stu-id="10d8f-224">You can think of WPF as a rich layer over DirectX and Windows Forms as a thinner layer over GDI+.</span></span> <span data-ttu-id="10d8f-225">WPF 和 Windows 窗体在公开和执行 Windows 中的许多桌面应用程序功能方面做得很好。</span><span class="sxs-lookup"><span data-stu-id="10d8f-225">WPF and Windows Forms do a great job of exposing and exercising much of the desktop application functionality in Windows.</span></span> <span data-ttu-id="10d8f-226">因此，Windows 窗体和 WPF 可用于 .NET Core 和 .NET Framework。</span><span class="sxs-lookup"><span data-stu-id="10d8f-226">So Windows Forms and WPF are available for .NET Core and .NET Framework.</span></span> <span data-ttu-id="10d8f-227">现在，你可以启动面向 .NET Core 的新桌面应用程序，并将现有桌面应用程序从 .NET Framework 迁移到 .NET Core。</span><span class="sxs-lookup"><span data-stu-id="10d8f-227">Now you can start your new desktop applications targeting .NET Core and migrate your existing ones from .NET Framework to .NET Core.</span></span>

<span data-ttu-id="10d8f-228">.NET Standard 的新版本 2.1 版与 .NET Core 3.0 同时发布。</span><span class="sxs-lookup"><span data-stu-id="10d8f-228">A new version of .NET Standard, version 2.1, was released at the same time as .NET Core 3.0.</span></span> <span data-ttu-id="10d8f-229">与预期一样，.NET Core 3.x 版本支持 .NET Standard 2.1 和更早版本。</span><span class="sxs-lookup"><span data-stu-id="10d8f-229">As expected, .NET Core 3.x versions support .NET Standard 2.1 and earlier versions.</span></span>

<span data-ttu-id="10d8f-230">另外，请务必注意，.NET Core 的 Windows 窗体和 WPF 实现都是开源的。</span><span class="sxs-lookup"><span data-stu-id="10d8f-230">Also, it's important to notice that both Windows Forms and WPF implementations for .NET Core are open source.</span></span>

### <a name="xaml-islands"></a><span data-ttu-id="10d8f-231">XAML 岛</span><span class="sxs-lookup"><span data-stu-id="10d8f-231">XAML Islands</span></span>

<span data-ttu-id="10d8f-232">[XAML 岛](/windows/apps/desktop/modernize/xaml-islands)是一组组件，供开发人员在其当前的 WPF、Windows 窗体和本机 Win32 应用（如 MFC）中使用新的 Windows 10 控件（UWP XAML 控件）。</span><span class="sxs-lookup"><span data-stu-id="10d8f-232">[XAML Islands](/windows/apps/desktop/modernize/xaml-islands) is a set of components for developers to use the new Windows 10 controls (UWP XAML controls) in their current WPF, Windows Forms, and native Win32 apps (like MFC).</span></span> <span data-ttu-id="10d8f-233">可以在 Win32 应用中的任何位置拥有 UWP XAML 控件“岛”。</span><span class="sxs-lookup"><span data-stu-id="10d8f-233">You can have your "islands" of UWP XAML controls wherever you want inside your Win32 apps.</span></span>

<span data-ttu-id="10d8f-234">可实现这些 XAML 岛是因为 Windows 10 版本 1903 引入了一组 API，这些 API 允许使用窗口处理程序 (HWnd) 在 Win32 窗口中托管 UWP XAML 内容。</span><span class="sxs-lookup"><span data-stu-id="10d8f-234">These XAML Islands are possible because Windows 10, version 1903 introduces a set of APIs that allows hosting UWP XAML content in Win32 windows using windows handlers (HWnds).</span></span> <span data-ttu-id="10d8f-235">请注意，仅在 Windows 10 1903 及更高版本上运行的应用才能使用 XAML 岛。</span><span class="sxs-lookup"><span data-stu-id="10d8f-235">Notice that only apps running on Windows 10 1903 and above can use XAML Islands.</span></span>

<span data-ttu-id="10d8f-236">为了 Windows 窗体和 WPF 开发人员能够更轻松地创建 XAML 岛，Windows 社区工具包在多个 NuGet 包中引入了一组 .NET 包装器。</span><span class="sxs-lookup"><span data-stu-id="10d8f-236">To make it easier to create XAML Islands for Windows Forms and WPF developers, the Windows Community Toolkit introduces a set of .NET wrappers in several NuGet packages.</span></span> <span data-ttu-id="10d8f-237">这些包装器是包装和托管控件：</span><span class="sxs-lookup"><span data-stu-id="10d8f-237">Those wrappers are the wrapped and hosting controls:</span></span>

- <span data-ttu-id="10d8f-238">[WebView](/windows/communitytoolkit/controls/wpf-winforms/webview)、[WebViewCompatible](/windows/communitytoolkit/controls/wpf-winforms/webviewcompatible)、[InkCanvas](/windows/communitytoolkit/controls/wpf-winforms/inkcanvas)、[MediaPlayerElement](/windows/communitytoolkit/controls/wpf-winforms/mediaplayerelement) 和 [MapControl](/windows/communitytoolkit/controls/wpf-winforms/mapcontrol) 包装控件将一些 UWP XAML 控件包装到 Windows 窗体或 WPF 控件中，为这些开发人员隐藏 UWP 概念。</span><span class="sxs-lookup"><span data-stu-id="10d8f-238">The [WebView](/windows/communitytoolkit/controls/wpf-winforms/webview), [WebViewCompatible](/windows/communitytoolkit/controls/wpf-winforms/webviewcompatible), [InkCanvas](/windows/communitytoolkit/controls/wpf-winforms/inkcanvas), [MediaPlayerElement](/windows/communitytoolkit/controls/wpf-winforms/mediaplayerelement), and [MapControl](/windows/communitytoolkit/controls/wpf-winforms/mapcontrol) wrapped controls wrap some UWP XAML controls into Windows Forms or WPF controls, hiding UWP concepts for those developers.</span></span>
- <span data-ttu-id="10d8f-239">Windows 窗体和 WPF 的 [WindowsXamlHost](/windows/communitytoolkit/controls/wpf-winforms/windowsxamlhost) 控件允许其他未经包装的 UWP XAML 控件和自定义控件加载到 XAML 岛中。</span><span class="sxs-lookup"><span data-stu-id="10d8f-239">The [WindowsXamlHost](/windows/communitytoolkit/controls/wpf-winforms/windowsxamlhost) control for Windows Forms and WPF allows others not-wrapped UWP XAML controls and custom controls can be loaded into a XAML Island.</span></span>

### <a name="access-to-all-windows-10-apis"></a><span data-ttu-id="10d8f-240">所有 Windows 10 API 的访问权限</span><span class="sxs-lookup"><span data-stu-id="10d8f-240">Access to all Windows 10 APIs</span></span>

<span data-ttu-id="10d8f-241">Windows 10 具有大量可供开发人员使用的 API。</span><span class="sxs-lookup"><span data-stu-id="10d8f-241">Windows 10 has a great amount of API available for developers to work with.</span></span> <span data-ttu-id="10d8f-242">借助这些 API 可以访问各种功能，如身份验证、蓝牙、约会和联系人。</span><span class="sxs-lookup"><span data-stu-id="10d8f-242">These APIs give access to a wide variety of functionality like Authentication, Bluetooth, Appointments, and Contacts.</span></span> <span data-ttu-id="10d8f-243">现在，这些 API 通过 .NET Core 公开，并为 Windows 开发人员提供利用 Windows 10 上的功能创建功能强大的桌面应用的机会。</span><span class="sxs-lookup"><span data-stu-id="10d8f-243">Now these APIs are exposed through .NET Core and give Windows developers the chance to create powerful desktops apps leveraging the capabilities present on Windows 10.</span></span>

### <a name="side-by-side-support-and-self-contained-exes"></a><span data-ttu-id="10d8f-244">并行支持和自包含 EXE</span><span class="sxs-lookup"><span data-stu-id="10d8f-244">Side-by-side support and self-contained EXEs</span></span>

<span data-ttu-id="10d8f-245">.NET Core 部署模型是 Windows 桌面开发人员将通过 .NET Core 享有的最大好处之一。</span><span class="sxs-lookup"><span data-stu-id="10d8f-245">The .NET Core deployment model is one of the biggest benefits that Windows desktop developers will experience with .NET Core.</span></span> <span data-ttu-id="10d8f-246">全局安装 .NET Core 的能力提供与 .NET Framework 的集中安装和服务优势相同的好处，且无需就地更新。</span><span class="sxs-lookup"><span data-stu-id="10d8f-246">The ability to globally install .NET Core provides much of the same central installation and servicing benefits of .NET Framework, while not requiring in-place updates.</span></span>

<span data-ttu-id="10d8f-247">发布新的 .NET Core 版本时，可以根据需要更新计算机上的每个应用，而不必担心会影响其他应用程序。</span><span class="sxs-lookup"><span data-stu-id="10d8f-247">When a new .NET Core version is released, you can update each app on a machine as needed without any concern of affecting other applications.</span></span> <span data-ttu-id="10d8f-248">新的 .NET Core 版本安装在其自己的目录中，并且彼此“并行”存在。</span><span class="sxs-lookup"><span data-stu-id="10d8f-248">New .NET Core versions are installed in their own directories and exist "side-by-side" with each other.</span></span>

<span data-ttu-id="10d8f-249">如果需要隔离部署，则可以随应用程序一起部署 .NET Core。</span><span class="sxs-lookup"><span data-stu-id="10d8f-249">If you need to deploy with isolation, you can deploy .NET Core with your application.</span></span> <span data-ttu-id="10d8f-250">.NET Core 会将应用与 .NET Core 运行时捆绑，就像在单个可执行文件中一样。</span><span class="sxs-lookup"><span data-stu-id="10d8f-250">.NET Core will bundle your app with the .NET Core runtime as in a single executable.</span></span>

<span data-ttu-id="10d8f-251">很长时间以来，开发人员一直在请求提供这些部署选项，但使用 .NET Framework 难以实现。</span><span class="sxs-lookup"><span data-stu-id="10d8f-251">These deployment options were requested by developers for quite a long time but were difficult to achieve using .NET Framework.</span></span> <span data-ttu-id="10d8f-252">.NET Core 使用的模块化体系结构使这些灵活部署选项成为可能。</span><span class="sxs-lookup"><span data-stu-id="10d8f-252">The modular architecture used by .NET Core makes these flexible deployment options possible.</span></span>

### <a name="performance"></a><span data-ttu-id="10d8f-253">性能</span><span class="sxs-lookup"><span data-stu-id="10d8f-253">Performance</span></span>

<span data-ttu-id="10d8f-254">自发布以来，.NET Core 就面向 Web 和云工作负载，性能已刻入其 DNA 中。</span><span class="sxs-lookup"><span data-stu-id="10d8f-254">Since its start, targeting the web and cloud workloads, .NET Core has had performance plugged into its DNA.</span></span> <span data-ttu-id="10d8f-255">服务器端代码必须具有足够的性能才能满足高并发方案的要求，.NET Core 如今已成为市面上性能优异的 Web 平台。</span><span class="sxs-lookup"><span data-stu-id="10d8f-255">Server-side code must be performant enough to fulfill high-concurrency scenarios and .NET Core scores today as the best performance web platform in the market.</span></span>

<span data-ttu-id="10d8f-256">使用 .NET Core 生成下一代桌面应用程序时，可以利用这些性能改进。</span><span class="sxs-lookup"><span data-stu-id="10d8f-256">You can take advantage of these performance improvements when you use .NET Core to build your next generation of desktop applications.</span></span>

## <a name="benefits-of-open-source"></a><span data-ttu-id="10d8f-257">开源的好处</span><span class="sxs-lookup"><span data-stu-id="10d8f-257">Benefits of open source</span></span>

<span data-ttu-id="10d8f-258">再说说开源 .NET Core。</span><span class="sxs-lookup"><span data-stu-id="10d8f-258">Just a few words about .NET Core being open source.</span></span> <span data-ttu-id="10d8f-259">生成跨平台堆栈很复杂，需要每个目标平台上的专业团队进行交互。</span><span class="sxs-lookup"><span data-stu-id="10d8f-259">Building a cross-platform stack is something complex that needs the interaction of specialized teams on each of the targeted platforms.</span></span> <span data-ttu-id="10d8f-260">这项工作需要 Microsoft 内部和外部进行大量协作。</span><span class="sxs-lookup"><span data-stu-id="10d8f-260">This effort needs much collaboration from inside and outside of Microsoft.</span></span> <span data-ttu-id="10d8f-261">通过使其开源并面向公共协作开放，你将获得最敏捷的开发风格，从而提高质量标准，因为问题将被庞大且活跃的开发人员社区发现。</span><span class="sxs-lookup"><span data-stu-id="10d8f-261">By making it open source and thus open to public collaboration, you get the ultimate agile development style in place, raising the quality bar since issues are detected by a huge and active community of developers.</span></span>

<span data-ttu-id="10d8f-262">这是 .NET Core 取得成功的关键因素，并将继续加快之前提到的路线图：成为任何开发人员生成任何应用程序将需要用到的单一 .NET 平台。</span><span class="sxs-lookup"><span data-stu-id="10d8f-262">This is a key success factor of .NET Core that will continue to speed up the roadmap previously mentioned: To be the single .NET platform that any developer will ever need to build any application.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="10d8f-263">[上一页](why-modern-applications.md)
>[下一页](migrate-modern-applications.md)</span><span class="sxs-lookup"><span data-stu-id="10d8f-263">[Previous](why-modern-applications.md)
[Next](migrate-modern-applications.md)</span></span>

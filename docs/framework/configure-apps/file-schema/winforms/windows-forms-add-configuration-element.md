---
description: 了解详细信息： Windows 窗体添加配置元素
title: Windows 窗体添加配置元素
ms.date: 04/07/2017
helpviewer_keywords:
- Windows Forms Add configuration element
- configuring Windows Forms applications
ms.assetid: 3e3e04de-99d1-4658-b716-44cb669d9589
ms.openlocfilehash: a0db81e0dd86f9ee6f2a47183100645ece78280c
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/06/2021
ms.locfileid: "99773252"
---
# <a name="windows-forms-add-configuration-element"></a><span data-ttu-id="0e48f-103">Windows 窗体添加配置元素</span><span class="sxs-lookup"><span data-stu-id="0e48f-103">Windows Forms Add Configuration Element</span></span>

<span data-ttu-id="0e48f-104">`<add>`元素添加一个预定义的密钥，该密钥指定 Windows 窗体应用是否支持添加到 .NET Framework 4.7 或更高版本中 Windows 窗体应用程序的功能。</span><span class="sxs-lookup"><span data-stu-id="0e48f-104">The `<add>` element adds a predefined key that specifies whether your Windows Form app supports features added to Windows Forms apps in the .NET Framework 4.7 or later.</span></span>

## <a name="syntax"></a><span data-ttu-id="0e48f-105">语法</span><span class="sxs-lookup"><span data-stu-id="0e48f-105">Syntax</span></span>

```xml
<System.Windows.Forms.ApplicationConfigurationSection>
  <add key="key-name" value="key-value" />
</System.Windows.Forms.ApplicationConfigurationSection>
```

## <a name="attributes-and-elements"></a><span data-ttu-id="0e48f-106">特性和元素</span><span class="sxs-lookup"><span data-stu-id="0e48f-106">Attributes and elements</span></span>

<span data-ttu-id="0e48f-107">下列各节描述了特性、子元素和父元素。</span><span class="sxs-lookup"><span data-stu-id="0e48f-107">The following sections describe attributes, child elements, and parent elements.</span></span>

### <a name="attributes"></a><span data-ttu-id="0e48f-108">特性</span><span class="sxs-lookup"><span data-stu-id="0e48f-108">Attributes</span></span>

| <span data-ttu-id="0e48f-109">属性</span><span class="sxs-lookup"><span data-stu-id="0e48f-109">Attribute</span></span> | <span data-ttu-id="0e48f-110">描述</span><span class="sxs-lookup"><span data-stu-id="0e48f-110">Description</span></span> |
| --------- | ----------- |
| `key`     | <span data-ttu-id="0e48f-111">必需的特性。</span><span class="sxs-lookup"><span data-stu-id="0e48f-111">Required attribute.</span></span> <span data-ttu-id="0e48f-112">与特定 Windows 窗体自定义功能对应的预定义密钥名称。</span><span class="sxs-lookup"><span data-stu-id="0e48f-112">A predefined key name that corresponds to a particular Windows Forms customizable feature.</span></span> |
| `value`   | <span data-ttu-id="0e48f-113">必需的特性。</span><span class="sxs-lookup"><span data-stu-id="0e48f-113">Required attribute.</span></span> <span data-ttu-id="0e48f-114">要赋给 `key` 的值。</span><span class="sxs-lookup"><span data-stu-id="0e48f-114">The value to assign to `key`.</span></span> |

### <a name="key-attribute-names-and-associated-values"></a><span data-ttu-id="0e48f-115">`key` 属性名称和关联值</span><span class="sxs-lookup"><span data-stu-id="0e48f-115">`key` attribute names and associated values</span></span>

| <span data-ttu-id="0e48f-116">`key` 名称</span><span class="sxs-lookup"><span data-stu-id="0e48f-116">`key` name</span></span> | <span data-ttu-id="0e48f-117">值</span><span class="sxs-lookup"><span data-stu-id="0e48f-117">Values</span></span> | <span data-ttu-id="0e48f-118">说明</span><span class="sxs-lookup"><span data-stu-id="0e48f-118">Description</span></span> |
| ---------- | ------ | ----------- |
| <span data-ttu-id="0e48f-119">"AnchorLayout.DisableSinglePassControlScaling"</span><span class="sxs-lookup"><span data-stu-id="0e48f-119">"AnchorLayout.DisableSinglePassControlScaling"</span></span> | <span data-ttu-id="0e48f-120">"true" &#124; "false"</span><span class="sxs-lookup"><span data-stu-id="0e48f-120">"true"&#124;"false"</span></span> | <span data-ttu-id="0e48f-121">指示是否在单个传递中缩放定位控件。</span><span class="sxs-lookup"><span data-stu-id="0e48f-121">Indicates whether anchored controls are scaled in a single pass.</span></span> <span data-ttu-id="0e48f-122">若要禁用单一传递缩放，则为 "true";否则为 false。</span><span class="sxs-lookup"><span data-stu-id="0e48f-122">"true" to disable single pass scaling; otherwise, false.</span></span> <span data-ttu-id="0e48f-123">有关详细信息，请参阅 " [备注](#remarks) " 中的 "单一传递缩放" 部分。</span><span class="sxs-lookup"><span data-stu-id="0e48f-123">See the "Single pass scaling" section in the [Remarks](#remarks) for more information.</span></span> |
| <span data-ttu-id="0e48f-124">"DpiAwareness"</span><span class="sxs-lookup"><span data-stu-id="0e48f-124">"DpiAwareness"</span></span> | <span data-ttu-id="0e48f-125">"PerMonitorV2" &#124; "false"</span><span class="sxs-lookup"><span data-stu-id="0e48f-125">"PerMonitorV2"&#124;"false"</span></span> | <span data-ttu-id="0e48f-126">指示应用程序是否可感知 DPI。</span><span class="sxs-lookup"><span data-stu-id="0e48f-126">Indicates whether an application is DPI-aware.</span></span> <span data-ttu-id="0e48f-127">将 "密钥" 设置为 "PerMonitorV2" 以支持 Dpi 识别;否则，请将其设置为 "false"。</span><span class="sxs-lookup"><span data-stu-id="0e48f-127">Set the key to "PerMonitorV2" to support Dpi awareness; otherwise, set it to "false".</span></span> <span data-ttu-id="0e48f-128">DPI 感知是一项选择功能;若要利用 Windows 窗体的高 DPI 支持，应将其值设置为 "PerMonitorV2"。</span><span class="sxs-lookup"><span data-stu-id="0e48f-128">DPI awareness is an opt-in feature; to take advantage of Windows Forms' high DPI support, you should set its value to "PerMonitorV2".</span></span> <span data-ttu-id="0e48f-129">有关详细信息，请参阅 " [备注](#remarks) " 部分。</span><span class="sxs-lookup"><span data-stu-id="0e48f-129">See the [Remarks](#remarks) section for more information.</span></span> |
| <span data-ttu-id="0e48f-130">"CheckedListBox. DisableHighDpiImprovements"</span><span class="sxs-lookup"><span data-stu-id="0e48f-130">"CheckedListBox.DisableHighDpiImprovements"</span></span> | <span data-ttu-id="0e48f-131">"true" &#124; "false"</span><span class="sxs-lookup"><span data-stu-id="0e48f-131">"true"&#124;"false"</span></span> | <span data-ttu-id="0e48f-132">指示控件是否 <xref:System.Windows.Forms.CheckedListBox> 利用 .NET Framework 4.7 中引入的缩放和布局改进功能。</span><span class="sxs-lookup"><span data-stu-id="0e48f-132">Indicates whether the <xref:System.Windows.Forms.CheckedListBox> control takes advantage of scaling and layout improvements introduced in the .NET Framework 4.7.</span></span> <span data-ttu-id="0e48f-133">如果选择不进行缩放和布局改进，则为 "true";否则为 "false"。</span><span class="sxs-lookup"><span data-stu-id="0e48f-133">"true" to opt out of scaling and layout improvements; otherwise, "false".</span></span> |
| <span data-ttu-id="0e48f-134">"DisableHighDpiImprovements"</span><span class="sxs-lookup"><span data-stu-id="0e48f-134">"DataGridView.DisableHighDpiImprovements"</span></span> | <span data-ttu-id="0e48f-135">"true" &#124; "false"</span><span class="sxs-lookup"><span data-stu-id="0e48f-135">"true"&#124;"false"</span></span> | <span data-ttu-id="0e48f-136">指示是否在 <xref:System.Windows.Forms.DataGridView> .NET Framework 4.7 中引入了控件缩放和布局改进。</span><span class="sxs-lookup"><span data-stu-id="0e48f-136">Indicates whether the <xref:System.Windows.Forms.DataGridView> control scaling and layout improvements introduced in the .NET Framework 4.7.</span></span> <span data-ttu-id="0e48f-137">如果选择退出 DPI 感知，则为 "true";否则为 "false"。</span><span class="sxs-lookup"><span data-stu-id="0e48f-137">"true" to opt out of DPI awareness; "false" otherwise.</span></span> |
| <span data-ttu-id="0e48f-138">"DisableDpiChangedMessageHandling"</span><span class="sxs-lookup"><span data-stu-id="0e48f-138">"DisableDpiChangedMessageHandling"</span></span> | <span data-ttu-id="0e48f-139">"true" &#124; "false"</span><span class="sxs-lookup"><span data-stu-id="0e48f-139">"true"&#124;"false"</span></span> | <span data-ttu-id="0e48f-140">如果选择不接收与 DPI 缩放更改相关的消息，则为 "true";否则为 "false"。</span><span class="sxs-lookup"><span data-stu-id="0e48f-140">"true" to opt out of receiving messages related to DPI scaling changes; "false" otherwise.</span></span> <span data-ttu-id="0e48f-141">有关详细信息，请参阅 " [备注](#remarks) " 部分。</span><span class="sxs-lookup"><span data-stu-id="0e48f-141">See the [Remarks](#remarks) section for more information.</span></span> |
| <span data-ttu-id="0e48f-142">EnableWindowsFormsHighDpiAutoResizing</span><span class="sxs-lookup"><span data-stu-id="0e48f-142">"EnableWindowsFormsHighDpiAutoResizing"</span></span> | <span data-ttu-id="0e48f-143">"true" &#124; "false"</span><span class="sxs-lookup"><span data-stu-id="0e48f-143">"true"&#124;"false"</span></span> | <span data-ttu-id="0e48f-144">指示是否由于 DPI 缩放变化而自动调整 Windows 窗体应用程序的大小。</span><span class="sxs-lookup"><span data-stu-id="0e48f-144">Indicates whether a Windows Forms application is automatically resized due to DPI scaling changes.</span></span> <span data-ttu-id="0e48f-145">若要启用自动调整大小，则为 "true";否则为 false。</span><span class="sxs-lookup"><span data-stu-id="0e48f-145">"true" to enable automatic resizing; otherwise, false.</span></span> |
| <span data-ttu-id="0e48f-146">"DisableSinglePassControlScaling"</span><span class="sxs-lookup"><span data-stu-id="0e48f-146">"Form.DisableSinglePassControlScaling"</span></span> | <span data-ttu-id="0e48f-147">"true" &#124; "false"</span><span class="sxs-lookup"><span data-stu-id="0e48f-147">"true"&#124;"false"</span></span> | <span data-ttu-id="0e48f-148">指示是否 <xref:System.Windows.Forms.Form> 在单个传递中进行缩放。</span><span class="sxs-lookup"><span data-stu-id="0e48f-148">Indicates whether the <xref:System.Windows.Forms.Form> is scaled in a single pass.</span></span> <span data-ttu-id="0e48f-149">若要禁用单步缩放，则为 "true";否则为 false。</span><span class="sxs-lookup"><span data-stu-id="0e48f-149">"true" to disable single-pass scaling; otherwise, false.</span></span> <span data-ttu-id="0e48f-150">有关详细信息，请参阅 " [备注](#remarks) " 中的 "单一传递缩放" 部分。</span><span class="sxs-lookup"><span data-stu-id="0e48f-150">See the "Single pass scaling" section in the [Remarks](#remarks) for more information.</span></span> |
| <span data-ttu-id="0e48f-151">"MonthCalendar. DisableSinglePassControlScaling"</span><span class="sxs-lookup"><span data-stu-id="0e48f-151">"MonthCalendar.DisableSinglePassControlScaling"</span></span> | <span data-ttu-id="0e48f-152">"true" &#124; "false"</span><span class="sxs-lookup"><span data-stu-id="0e48f-152">"true"&#124;"false"</span></span> | <span data-ttu-id="0e48f-153">指示是否 <xref:System.Windows.Forms.MonthCalendar> 在单个传递中缩放控件。</span><span class="sxs-lookup"><span data-stu-id="0e48f-153">Indicates whether the <xref:System.Windows.Forms.MonthCalendar> control is scaled in a single pass.</span></span> <span data-ttu-id="0e48f-154">若要禁用单步缩放，则为 "true";否则为 false。</span><span class="sxs-lookup"><span data-stu-id="0e48f-154">"true" to disable single-pass scaling; otherwise, false.</span></span> <span data-ttu-id="0e48f-155">有关详细信息，请参阅 " [备注](#remarks) " 中的 "单一传递缩放" 部分。</span><span class="sxs-lookup"><span data-stu-id="0e48f-155">See the "Single pass scaling" section in the [Remarks](#remarks) for more information.</span></span> |
| <span data-ttu-id="0e48f-156">"DisableHighDpiImprovements"</span><span class="sxs-lookup"><span data-stu-id="0e48f-156">"Toolstrip.DisableHighDpiImprovements"</span></span> | <span data-ttu-id="0e48f-157">"true" &#124; "false"</span><span class="sxs-lookup"><span data-stu-id="0e48f-157">"true"&#124;"false"</span></span> | <span data-ttu-id="0e48f-158">指示控件是否 <xref:System.Windows.Forms.ToolStrip> 利用 .NET Framework 4.7 中引入的缩放和布局改进功能。</span><span class="sxs-lookup"><span data-stu-id="0e48f-158">Indicates whether the <xref:System.Windows.Forms.ToolStrip> control takes advantage of scaling and layout improvements introduced in the .NET Framework 4.7.</span></span> <span data-ttu-id="0e48f-159">如果选择退出 DPI 感知，则为 "true";否则为 "false"。</span><span class="sxs-lookup"><span data-stu-id="0e48f-159">"true" to opt out of DPI awareness; "false" otherwise.</span></span> |

### <a name="child-elements"></a><span data-ttu-id="0e48f-160">子元素</span><span class="sxs-lookup"><span data-stu-id="0e48f-160">Child elements</span></span>

<span data-ttu-id="0e48f-161">无。</span><span class="sxs-lookup"><span data-stu-id="0e48f-161">None.</span></span>

### <a name="parent-elements"></a><span data-ttu-id="0e48f-162">父元素</span><span class="sxs-lookup"><span data-stu-id="0e48f-162">Parent elements</span></span>

| <span data-ttu-id="0e48f-163">元素</span><span class="sxs-lookup"><span data-stu-id="0e48f-163">Element</span></span> | <span data-ttu-id="0e48f-164">说明</span><span class="sxs-lookup"><span data-stu-id="0e48f-164">Description</span></span> |
| ------- | ----------- |
| [`<System.Windows.Forms.ApplicationConfigurationSection>`](index.md) | <span data-ttu-id="0e48f-165">配置对新 Windows 窗体应用程序功能的支持。</span><span class="sxs-lookup"><span data-stu-id="0e48f-165">Configures support for new Windows Forms application features.</span></span> |

## <a name="remarks"></a><span data-ttu-id="0e48f-166">备注</span><span class="sxs-lookup"><span data-stu-id="0e48f-166">Remarks</span></span>

<span data-ttu-id="0e48f-167">从 .NET Framework 4.7 开始，`<System.Windows.Forms.ApplicationConfigurationSection>` 元素允许配置 Windows 窗体应用程序，以利用最新版本的 .NET Framework 中添加的功能。</span><span class="sxs-lookup"><span data-stu-id="0e48f-167">Starting with the .NET Framework 4.7, the `<System.Windows.Forms.ApplicationConfigurationSection>` element allows you to configure Windows Forms applications to take advantage of features added in recent releases of the .NET Framework.</span></span>

<span data-ttu-id="0e48f-168">`<System.Windows.Forms.ApplicationConfigurationSection>`元素允许添加一个或多个子 `<add>` 元素，其中每个元素都定义了一个特定的配置设置。</span><span class="sxs-lookup"><span data-stu-id="0e48f-168">The `<System.Windows.Forms.ApplicationConfigurationSection>` element allows you to add one or more child `<add>` elements, each of which defines a specific configuration setting.</span></span>

<span data-ttu-id="0e48f-169">有关 Windows 窗体高 DPI 支持的概述，请参阅 [Windows 窗体中的高 Dpi 支持](/dotnet/desktop/winforms/high-dpi-support-in-windows-forms)。</span><span class="sxs-lookup"><span data-stu-id="0e48f-169">For an overview of Windows Forms High DPI support, see [High DPI Support in Windows Forms](/dotnet/desktop/winforms/high-dpi-support-in-windows-forms).</span></span>

### <a name="dpiawareness"></a><span data-ttu-id="0e48f-170">DpiAwareness</span><span class="sxs-lookup"><span data-stu-id="0e48f-170">DpiAwareness</span></span>

<span data-ttu-id="0e48f-171">在 Windows 版本下运行的 Windows 窗体应用（从 Windows 10 创意者版开始）以及从 .NET Framework 4.7 开始的目标版本 .NET Framework 可配置为利用 .NET Framework 4.7 中引入的高 DPI 改进。</span><span class="sxs-lookup"><span data-stu-id="0e48f-171">Windows Forms apps that run under Windows versions starting with Windows 10 Creators Edition and target versions of the .NET Framework starting with the .NET Framework 4.7 can be configured to take advantage of high DPI improvements introduced in the .NET Framework 4.7.</span></span> <span data-ttu-id="0e48f-172">其中包括：</span><span class="sxs-lookup"><span data-stu-id="0e48f-172">These include:</span></span>

- <span data-ttu-id="0e48f-173">支持动态 DPI 方案，在此方案中，用户在启动 Windows 窗体应用程序后更改了 DPI 或缩放系数。</span><span class="sxs-lookup"><span data-stu-id="0e48f-173">Support for dynamic DPI scenarios in which the user changes the DPI or scale factor after a Windows Forms application has been launched.</span></span>

- <span data-ttu-id="0e48f-174">对许多 Windows 窗体控件（如控件和控件）的缩放和布局进行了改进 <xref:System.Windows.Forms.MonthCalendar> <xref:System.Windows.Forms.CheckedListBox> 。</span><span class="sxs-lookup"><span data-stu-id="0e48f-174">Improvements in the scaling and layout of a number of Windows Forms controls, such as the <xref:System.Windows.Forms.MonthCalendar> control and the <xref:System.Windows.Forms.CheckedListBox> control.</span></span>

<span data-ttu-id="0e48f-175">高 DPI 感知是一项选择功能;默认情况下，的值 `DpiAwareness` 为 `false` 。</span><span class="sxs-lookup"><span data-stu-id="0e48f-175">High DPI awareness is an opt-in feature; by default, the value of `DpiAwareness` is `false`.</span></span> <span data-ttu-id="0e48f-176">可以通过 `PerMonitorV2` 在应用程序配置文件中将此项的值设置为来 Windows 窗体选择支持 DPI 感知。</span><span class="sxs-lookup"><span data-stu-id="0e48f-176">You can opt into Windows Forms' support for DPI awareness by setting the value of this key to `PerMonitorV2` in the application configuration file.</span></span> <span data-ttu-id="0e48f-177">如果启用了 DPI 感知，还会启用所有的 DPI 功能。</span><span class="sxs-lookup"><span data-stu-id="0e48f-177">If DPI awareness is enabled, all individual DPI features are also enabled.</span></span> <span data-ttu-id="0e48f-178">其中包括：</span><span class="sxs-lookup"><span data-stu-id="0e48f-178">These include:</span></span>

- <span data-ttu-id="0e48f-179">DPI 更改的消息，由 `DisableDpiChangedMessageHandling` 键控制。</span><span class="sxs-lookup"><span data-stu-id="0e48f-179">DPI changed messages, which are controlled by the `DisableDpiChangedMessageHandling` key.</span></span>

- <span data-ttu-id="0e48f-180">动态 DPI 支持，由 `EnableWindowsFormsHighDpiAutoResizing` 键控制。</span><span class="sxs-lookup"><span data-stu-id="0e48f-180">Dynamic DPI support, which is controlled by the `EnableWindowsFormsHighDpiAutoResizing` key.</span></span>

- <span data-ttu-id="0e48f-181">单一传递控制缩放，它由单个控件的控制 `Form.DisableSinglePassControlScaling` <xref:System.Windows.Forms.Form> 、 `AnchorLayout.DisableSinglePassControlScaling` 定位控件的键和 `MonthCalendar.DisableSinglePassControlScaling` 控件的键 <xref:System.Windows.Forms.MonthCalendar> 控制</span><span class="sxs-lookup"><span data-stu-id="0e48f-181">Single-pass control scaling, which is controlled by the `Form.DisableSinglePassControlScaling` for individual <xref:System.Windows.Forms.Form> controls, by the `AnchorLayout.DisableSinglePassControlScaling` key for anchored controls, and by the `MonthCalendar.DisableSinglePassControlScaling` key for the <xref:System.Windows.Forms.MonthCalendar> control</span></span>

- <span data-ttu-id="0e48f-182">高 DPI 缩放和布局改进，由 `CheckListBox.DisableHighDpiImprovements` 控件的键 <xref:System.Windows.Forms.CheckedListBox> 、 `DataGridView.DisableHighDpiImprovements` 控件的键 <xref:System.Windows.Forms.DataGridView> 和控件的 `Toolstrip.DisableHighDpiImprovements` 键 <xref:System.Windows.Forms.ToolStrip> 进行控制。</span><span class="sxs-lookup"><span data-stu-id="0e48f-182">High DPI scaling and layout improvements, which is controlled by the `CheckListBox.DisableHighDpiImprovements` key for the <xref:System.Windows.Forms.CheckedListBox> control, by the `DataGridView.DisableHighDpiImprovements` key for the <xref:System.Windows.Forms.DataGridView> control, and by the `Toolstrip.DisableHighDpiImprovements` key for the <xref:System.Windows.Forms.ToolStrip> control.</span></span>

<span data-ttu-id="0e48f-183">通过将设置为所提供的单个默认选择选项设置 `DpiAwareness` `PerMonitorV2` 通常适用于新的 Windows 窗体应用程序。</span><span class="sxs-lookup"><span data-stu-id="0e48f-183">The single default opt-in setting provided by setting `DpiAwareness` to `PerMonitorV2` is generally adequate for new Windows Forms applications.</span></span> <span data-ttu-id="0e48f-184">但是，通过将相应的键添加到应用程序配置文件中，可以选择不使用单个高 DPI 改进。</span><span class="sxs-lookup"><span data-stu-id="0e48f-184">However, You can then opt out of individual high DPI improvements by adding the corresponding key to the application configuration file.</span></span> <span data-ttu-id="0e48f-185">例如，若要利用除动态 DPI 支持之外的所有新 DPI 功能，请将以下内容添加到应用程序配置文件：</span><span class="sxs-lookup"><span data-stu-id="0e48f-185">For example, to take advantage of all the new DPI features except for dynamic DPI support, you would add the following to your application configuration file:</span></span>

```xml
<System.Windows.Forms.ApplicationConfigurationSection>
   <add key="DpiAwareness" value="PerMonitorV2" />
   <!-- Disable dynamic DPI support -->
   <add key="EnableWindowsFormsHighDpiAutoResizing" value="false" />
</System.Windows.Forms.ApplicationConfigurationSection>
```

<span data-ttu-id="0e48f-186">通常，您选择不使用特定功能，因为您已选择以编程方式对其进行处理。</span><span class="sxs-lookup"><span data-stu-id="0e48f-186">Typically, you opt out of a particular feature because you've chosen to handle it programmatically.</span></span>

<span data-ttu-id="0e48f-187">若要详细了解 Windows 窗体应用程序中的高 DPI 支持，请参阅 [Windows 窗体中的高 Dpi 支持](/dotnet/desktop/winforms/high-dpi-support-in-windows-forms)。</span><span class="sxs-lookup"><span data-stu-id="0e48f-187">For more information on taking advantage of High DPI support in Windows Forms applications, see [High DPI Support in Windows Forms](/dotnet/desktop/winforms/high-dpi-support-in-windows-forms).</span></span>

### <a name="disabledpichangedmessagehandling"></a><span data-ttu-id="0e48f-188">DisableDpiChangedMessageHandling</span><span class="sxs-lookup"><span data-stu-id="0e48f-188">DisableDpiChangedMessageHandling</span></span>

<span data-ttu-id="0e48f-189">从 .NET Framework 4.7 开始，Windows 窗体控件引发了许多与 DPI 缩放更改相关的事件。</span><span class="sxs-lookup"><span data-stu-id="0e48f-189">Starting with the .NET Framework 4.7, Windows Forms controls raise a number of events related to changes in DPI scaling.</span></span> <span data-ttu-id="0e48f-190">其中包括 <xref:System.Windows.Forms.Control.DpiChangedAfterParent> 、 <xref:System.Windows.Forms.Control.DpiChangedBeforeParent> 和 <xref:System.Windows.Forms.Form.DpiChanged> 事件。</span><span class="sxs-lookup"><span data-stu-id="0e48f-190">These include the <xref:System.Windows.Forms.Control.DpiChangedAfterParent>, <xref:System.Windows.Forms.Control.DpiChangedBeforeParent>, and <xref:System.Windows.Forms.Form.DpiChanged> events.</span></span> <span data-ttu-id="0e48f-191">键的值 `DisableDpiChangedMessageHandling` 确定是否在 Windows 窗体应用程序中引发这些事件。</span><span class="sxs-lookup"><span data-stu-id="0e48f-191">The value of the `DisableDpiChangedMessageHandling` key determines whether these events are raised in a Windows Forms application.</span></span>

### <a name="single-pass-scaling"></a><span data-ttu-id="0e48f-192">单步缩放</span><span class="sxs-lookup"><span data-stu-id="0e48f-192">Single-pass scaling</span></span>

<span data-ttu-id="0e48f-193">单个或多个传递缩放会影响用户界面的感知响应能力和用户界面元素在缩放时的视觉外观。</span><span class="sxs-lookup"><span data-stu-id="0e48f-193">Single or multi-pass scaling influences the perceived responsiveness of the user interface and the visual appearance of user interface elements as they are scaled.</span></span> <span data-ttu-id="0e48f-194">从 .NET Framework 4.7 开始，Windows 窗体使用单个轮缩放。</span><span class="sxs-lookup"><span data-stu-id="0e48f-194">Starting with the .NET Framework 4.7, Windows Forms uses single pass scaling.</span></span> <span data-ttu-id="0e48f-195">在以前版本的 .NET Framework 中，缩放是通过多个走刀执行的，这会导致某些控件的缩放比例超出了必需。</span><span class="sxs-lookup"><span data-stu-id="0e48f-195">In previous versions of the .NET Framework, scaling was performed through multiple passes, which caused some controls to be scaled more than was necessary.</span></span> <span data-ttu-id="0e48f-196">仅当你的应用程序依赖于旧行为时，才应禁用单传递缩放。</span><span class="sxs-lookup"><span data-stu-id="0e48f-196">Single-pass scaling should only be disabled if your app depends on the old behavior.</span></span>

## <a name="see-also"></a><span data-ttu-id="0e48f-197">请参阅</span><span class="sxs-lookup"><span data-stu-id="0e48f-197">See also</span></span>

- [<span data-ttu-id="0e48f-198">Windows 窗体配置部分</span><span class="sxs-lookup"><span data-stu-id="0e48f-198">Windows Forms Configuration Section</span></span>](index.md)
- [<span data-ttu-id="0e48f-199">Windows 窗体中的高 DPI 支持</span><span class="sxs-lookup"><span data-stu-id="0e48f-199">High DPI Support in Windows Forms</span></span>](/dotnet/desktop/winforms/high-dpi-support-in-windows-forms)

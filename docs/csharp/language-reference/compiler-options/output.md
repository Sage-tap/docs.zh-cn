---
description: 用于控制编译器输出的 C# 编译器选项。 这些选项通过编译控制程序集生成。
title: C# 编译器选项 - 输出选项
ms.date: 03/12/2021
f1_keywords:
- cs.build.options
helpviewer_keywords:
- DocumentationFile compiler option [C#]
- OutputAssembly compiler option [C#]
- PlatformTarget compiler option [C#]
- ProduceReferenceAssembly compiler option [C#]
- TargetType compiler option [C#]
ms.openlocfilehash: 2d8b7edbf970875d7300a394ab75756c1316ac9d
ms.sourcegitcommit: 0bb8074d524e0dcf165430b744bb143461f17026
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/15/2021
ms.locfileid: "103482409"
---
# <a name="c-compiler-options-that-control-compiler-output"></a><span data-ttu-id="09742-104">用于控制编译器输出的 C# 编译器选项</span><span class="sxs-lookup"><span data-stu-id="09742-104">C# Compiler Options that control compiler output</span></span>

<span data-ttu-id="09742-105">以下选项控制编译器输出生成。</span><span class="sxs-lookup"><span data-stu-id="09742-105">The following options control compiler output generation.</span></span> <span data-ttu-id="09742-106">新的 MSBuild 语法以粗体显示。</span><span class="sxs-lookup"><span data-stu-id="09742-106">The new MSBuild syntax is shown in **Bold**.</span></span> <span data-ttu-id="09742-107">旧的 csc.exe 语法以 `code style` 显示。</span><span class="sxs-lookup"><span data-stu-id="09742-107">The older *csc.exe* syntax is shown in `code style`.</span></span>

- <span data-ttu-id="09742-108">**DocumentationFile** / `-doc`：从 `///` 注释生成 XML 文档文件。</span><span class="sxs-lookup"><span data-stu-id="09742-108">**DocumentationFile** / `-doc`: Generate XML doc file from `///` comments.</span></span>
- <span data-ttu-id="09742-109">**OutputAssembly** / `-out`：指定输出程序集文件。</span><span class="sxs-lookup"><span data-stu-id="09742-109">**OutputAssembly** / `-out`: Specify the output assembly file.</span></span>
- <span data-ttu-id="09742-110">**PlatformTarget** / `-platform`：指定目标平台 CPU。</span><span class="sxs-lookup"><span data-stu-id="09742-110">**PlatformTarget** / `-platform`: Specify the target platform CPU.</span></span>
- <span data-ttu-id="09742-111">**ProduceReferenceAssembly** / `-refout`：生成引用程序集。</span><span class="sxs-lookup"><span data-stu-id="09742-111">**ProduceReferenceAssembly** / `-refout`: Generate a reference assembly.</span></span>
- <span data-ttu-id="09742-112">**TargetType**`-target`：指定输出程序集的类型。</span><span class="sxs-lookup"><span data-stu-id="09742-112">**TargetType** `-target`: Specify the type of the output assembly.</span></span>

## <a name="documentationfile"></a><span data-ttu-id="09742-113">DocumentationFile</span><span class="sxs-lookup"><span data-stu-id="09742-113">DocumentationFile</span></span>

<span data-ttu-id="09742-114">使用 DocumentationFile 选项可以在 XML 文件中放置文档注释。</span><span class="sxs-lookup"><span data-stu-id="09742-114">The **DocumentationFile** option allows you to place documentation comments in an XML file.</span></span> <span data-ttu-id="09742-115">若要详细了解如何记录代码，请参阅[建议的文档注释标记](../../programming-guide/xmldoc/recommended-tags-for-documentation-comments.md)。</span><span class="sxs-lookup"><span data-stu-id="09742-115">To learn more about documenting your code, see [Recommended Tags for Documentation Comments](../../programming-guide/xmldoc/recommended-tags-for-documentation-comments.md).</span></span> <span data-ttu-id="09742-116">该值指定输出 XML 文件的路径。</span><span class="sxs-lookup"><span data-stu-id="09742-116">The value specifies the path to the output XML file.</span></span> <span data-ttu-id="09742-117">此 XML 文件包含编译的源代码文件中的注释。</span><span class="sxs-lookup"><span data-stu-id="09742-117">The XML file contains the comments in the source code files of the compilation.</span></span>

```xml
<DocumentationFile>path/to/file.xml</DocumentationFile>
```

<span data-ttu-id="09742-118">包含 Main 或顶级语句的源代码文件首先输出到 XML 中。</span><span class="sxs-lookup"><span data-stu-id="09742-118">The source code file that contains Main or top-level statements is output first into the XML.</span></span> <span data-ttu-id="09742-119">通常需要将生成的 .xml 文件与 [IntelliSense](/visualstudio/ide/using-intellisense) 一起使用。</span><span class="sxs-lookup"><span data-stu-id="09742-119">You'll often want to use the generated .xml file with [IntelliSense](/visualstudio/ide/using-intellisense).</span></span> <span data-ttu-id="09742-120">.xml 文件名必须与程序集名称相同。</span><span class="sxs-lookup"><span data-stu-id="09742-120">The *.xml* filename must be the same as the assembly name.</span></span> <span data-ttu-id="09742-121">.xml 文件必须与程序集位于同一目录中。</span><span class="sxs-lookup"><span data-stu-id="09742-121">The *.xml* file must be in the same directory as the assembly.</span></span> <span data-ttu-id="09742-122">在 Visual Studio 项目中引用程序集时，也会找到 .xml 文件。</span><span class="sxs-lookup"><span data-stu-id="09742-122">When the assembly is referenced in a Visual Studio project, the *.xml* file is found as well.</span></span> <span data-ttu-id="09742-123">若要详细了解如何生成代码注释，请参阅[提供代码注释](/visualstudio/ide/reference/generate-xml-documentation-comments)。</span><span class="sxs-lookup"><span data-stu-id="09742-123">For more information about generating code comments, see [Supplying Code Comments](/visualstudio/ide/reference/generate-xml-documentation-comments).</span></span> <span data-ttu-id="09742-124">除非用 [`<TargetType:Module>`](#targettype) 进行编译，否则 `file` 将包含 `<assembly>` 和 `</assembly>` 标记，用于指定包含输出文件的程序集清单的文件名。</span><span class="sxs-lookup"><span data-stu-id="09742-124">Unless you compile with [`<TargetType:Module>`](#targettype), `file` will contain `<assembly>` and `</assembly>` tags specifying the name of the file containing the assembly manifest for the output file.</span></span> <span data-ttu-id="09742-125">例如，请参阅[如何使用 XML 文档功能](../../programming-guide/xmldoc/how-to-use-the-xml-documentation-features.md)。</span><span class="sxs-lookup"><span data-stu-id="09742-125">For examples, see [How to use the XML documentation features](../../programming-guide/xmldoc/how-to-use-the-xml-documentation-features.md).</span></span>

> [!NOTE]
> <span data-ttu-id="09742-126">DocumentationFile 选项适用于项目中的所有文件。</span><span class="sxs-lookup"><span data-stu-id="09742-126">The **DocumentationFile** option applies to all files in the project.</span></span> <span data-ttu-id="09742-127">若要禁用与特定文件或一段代码的文档注释相关的警告，请使用 [#pragma 警告](../preprocessor-directives/preprocessor-pragma-warning.md)。</span><span class="sxs-lookup"><span data-stu-id="09742-127">To disable warnings related to documentation comments for a specific file or section of code, use [#pragma warning](../preprocessor-directives/preprocessor-pragma-warning.md).</span></span>

## <a name="outputassembly"></a><span data-ttu-id="09742-128">OutputAssembly</span><span class="sxs-lookup"><span data-stu-id="09742-128">OutputAssembly</span></span>

<span data-ttu-id="09742-129">OutputAssembly 选项指定输出文件的名称。</span><span class="sxs-lookup"><span data-stu-id="09742-129">The **OutputAssembly** option specifies the name of the output file.</span></span> <span data-ttu-id="09742-130">输出路径指定放置编译器输出的文件夹。</span><span class="sxs-lookup"><span data-stu-id="09742-130">The output path specifies the folder where compiler output is placed.</span></span>

```xml
<OutputAssembly>folder</OutputAssembly>
```

<span data-ttu-id="09742-131">指定想要创建的文件的完整名称和扩展名。</span><span class="sxs-lookup"><span data-stu-id="09742-131">Specify the full name and extension of the file you want to create.</span></span> <span data-ttu-id="09742-132">如果不指定输出文件的名称，MSBuild 将使用项目的名称指定输出程序集的名称。</span><span class="sxs-lookup"><span data-stu-id="09742-132">If you don't specify the name of the output file, MSBuild uses the name of the project to specify the name of the output assembly.</span></span> <span data-ttu-id="09742-133">旧样式的项目使用以下规则：</span><span class="sxs-lookup"><span data-stu-id="09742-133">Old style projects use the following rules:</span></span>

- <span data-ttu-id="09742-134">.exe 将采用包含 `Main` 方法或顶级语句的源代码文件中的名称。</span><span class="sxs-lookup"><span data-stu-id="09742-134">An .exe will take its name from the source code file that contains the `Main` method or top-level statements.</span></span>  
- <span data-ttu-id="09742-135">.dll 或者 .netmodule 将从第一个源代码文件中获取其名称。</span><span class="sxs-lookup"><span data-stu-id="09742-135">A .dll or .netmodule will take its name from the first source code file.</span></span>

<span data-ttu-id="09742-136">在编译时生成的任何模块都将成为与编译时生成的程序集关联的文件。</span><span class="sxs-lookup"><span data-stu-id="09742-136">Any modules produced as part of a compilation become files associated with any assembly also produced in the compilation.</span></span> <span data-ttu-id="09742-137">使用 [ildasm.exe](../../../framework/tools/ildasm-exe-il-disassembler.md) 查看程序集清单，了解关联文件。</span><span class="sxs-lookup"><span data-stu-id="09742-137">Use [ildasm.exe](../../../framework/tools/ildasm-exe-il-disassembler.md) to view the assembly manifest to see the associated files.</span></span>

<span data-ttu-id="09742-138">为使 exe 成为[友元程序集](../../../standard/assembly/friend.md)的目标，OutputAssembly 编译器选项是必需的。</span><span class="sxs-lookup"><span data-stu-id="09742-138">The **OutputAssembly** compiler option is required in order for an exe to be the target of a [friend assembly](../../../standard/assembly/friend.md).</span></span>

## <a name="platformtarget"></a><span data-ttu-id="09742-139">PlatformTarget</span><span class="sxs-lookup"><span data-stu-id="09742-139">PlatformTarget</span></span>

<span data-ttu-id="09742-140">指定 CLR 的哪个版本可以运行程序集。</span><span class="sxs-lookup"><span data-stu-id="09742-140">Specifies which version of the CLR can run the assembly.</span></span>

```xml
<PlatformTarget>anycpu</PlatformTarget>
```

- <span data-ttu-id="09742-141">anycpu（默认值）将程序集编译成可在任意平台上运行。</span><span class="sxs-lookup"><span data-stu-id="09742-141">**anycpu** (default) compiles your assembly to run on any platform.</span></span> <span data-ttu-id="09742-142">您的应用程序将尽可能作为 64 位进程运行；当只有 32 位模式可用时，才会回退到 32 位。</span><span class="sxs-lookup"><span data-stu-id="09742-142">Your application runs as a 64-bit process whenever possible and falls back to 32-bit when only that mode is available.</span></span>
- <span data-ttu-id="09742-143">anycpu32bitpreferred 将程序集编译成可在任意平台上运行。</span><span class="sxs-lookup"><span data-stu-id="09742-143">**anycpu32bitpreferred** compiles your assembly to run on any platform.</span></span> <span data-ttu-id="09742-144">在同时支持 64 位和 32 位应用程序的系统上，您的应用程序将以32 位模式运行。</span><span class="sxs-lookup"><span data-stu-id="09742-144">Your application runs in 32-bit mode on systems that support both 64-bit and 32-bit applications.</span></span> <span data-ttu-id="09742-145">只能为面向 .NET Framework 4.5 或更高版本的项目指定此选项。</span><span class="sxs-lookup"><span data-stu-id="09742-145">You can specify this option only for projects that target .NET Framework 4.5 or later.</span></span>
- <span data-ttu-id="09742-146">ARM 将程序集编译成可以在具有高级 RISC 计算机 (ARM) 处理器的计算机上运行。</span><span class="sxs-lookup"><span data-stu-id="09742-146">**ARM** compiles your assembly to run on a computer that has an Advanced RISC Machine (ARM) processor.</span></span>
- <span data-ttu-id="09742-147">ARM64 编译程序集以在由 64 位 CLR 在具有支持 A64 指令集的高级 RISC 计算机 (ARM) 处理器的计算机上运行。</span><span class="sxs-lookup"><span data-stu-id="09742-147">**ARM64** compiles your assembly to run by the 64-bit CLR on a computer that has an Advanced RISC Machine (ARM) processor that supports the A64 instruction set.</span></span>
- <span data-ttu-id="09742-148">x64 将程序集编译成可由支持 AMD64 或 EM64T 指令集的计算机上的 64 位 CLR 运行。</span><span class="sxs-lookup"><span data-stu-id="09742-148">**x64** compiles your assembly to be run by the 64-bit CLR on a computer that supports the AMD64 or EM64T instruction set.</span></span>
- <span data-ttu-id="09742-149">x86 将程序集编译成可由 32 位、x86 可兼容 CLR 运行。</span><span class="sxs-lookup"><span data-stu-id="09742-149">**x86** compiles your assembly to be run by the 32-bit, x86-compatible CLR.</span></span>
- <span data-ttu-id="09742-150">Itanium 将程序集编译成可由配有 Itanium 处理器的计算机上的 64 位 CLR 运行。</span><span class="sxs-lookup"><span data-stu-id="09742-150">**Itanium** compiles your assembly to be run by the 64-bit CLR on a computer with an Itanium processor.</span></span>

<span data-ttu-id="09742-151">在 64 位 Windows 操作系统上：</span><span class="sxs-lookup"><span data-stu-id="09742-151">On a 64-bit Windows operating system:</span></span>

- <span data-ttu-id="09742-152">用 x86 编译的程序集将在 WOW64 下运行的 32 位 CLR 上执行。</span><span class="sxs-lookup"><span data-stu-id="09742-152">Assemblies compiled with **x86** execute on the 32-bit CLR running under WOW64.</span></span>
- <span data-ttu-id="09742-153">用 anycpu 编译的 DLL 将在加载它的进程所在的同一 CLR 上执行。</span><span class="sxs-lookup"><span data-stu-id="09742-153">A DLL compiled with the **anycpu** executes on the same CLR as the process into which it's loaded.</span></span>
- <span data-ttu-id="09742-154">用 anycpu 编译的可执行文件将在 64 位 CLR 上执行。</span><span class="sxs-lookup"><span data-stu-id="09742-154">Executables that are compiled with the **anycpu** execute on the 64-bit CLR.</span></span>
- <span data-ttu-id="09742-155">用 anycpu32bitpreferred 编译的可执行文件将在 32 位 CLR 上执行。</span><span class="sxs-lookup"><span data-stu-id="09742-155">Executables compiled with **anycpu32bitpreferred** execute on the 32-bit CLR.</span></span>

<span data-ttu-id="09742-156">anycpu32bitpreferred 设置只对可执行文件 (.EXE) 有效，并且需要 .NET Framework 4.5 或更高版本。</span><span class="sxs-lookup"><span data-stu-id="09742-156">The **anycpu32bitpreferred** setting is valid only for executable (.EXE) files, and it requires .NET Framework 4.5 or later.</span></span> <span data-ttu-id="09742-157">有关开发 Windows 64 位操作系统上运行的应用程序的详细信息，请参阅 [64 位应用程序](../../../framework/64-bit-apps.md)。</span><span class="sxs-lookup"><span data-stu-id="09742-157">For more information about developing an application to run on a Windows 64-bit operating system, see [64-bit Applications](../../../framework/64-bit-apps.md).</span></span>

<span data-ttu-id="09742-158">在 Visual Studio 中，可以从项目的“生成”属性页中设置 PlatformTarget 选项。</span><span class="sxs-lookup"><span data-stu-id="09742-158">You set the **PlatformTarget** option from **Build** properties page for your project in Visual Studio.</span></span>

<span data-ttu-id="09742-159">对于 .NET Core 和 .NET 5 及更高版本，anycpu 的行为有一些额外的细微差别。</span><span class="sxs-lookup"><span data-stu-id="09742-159">The behavior of **anycpu** has some additional nuances on .NET Core and .NET 5 and later releases.</span></span> <span data-ttu-id="09742-160">设置 anycpu 后，请发布应用并将其与 x86 `dotnet.exe` 或 x64 `dotnet.exe` 一起执行。</span><span class="sxs-lookup"><span data-stu-id="09742-160">When you set **anycpu**, publish your app and execute it with either the x86 `dotnet.exe` or the x64 `dotnet.exe`.</span></span> <span data-ttu-id="09742-161">对于自包含应用，`dotnet publish` 步骤会将配置 RID 的可执行文件打包。</span><span class="sxs-lookup"><span data-stu-id="09742-161">For self-contained apps, the `dotnet publish` step packages the executable for the configure RID.</span></span>

## <a name="producereferenceassembly"></a><span data-ttu-id="09742-162">ProduceReferenceAssembly</span><span class="sxs-lookup"><span data-stu-id="09742-162">ProduceReferenceAssembly</span></span>

<span data-ttu-id="09742-163">ProduceReferenceAssembly 选项指定应输出引用程序集的文件路径。</span><span class="sxs-lookup"><span data-stu-id="09742-163">The **ProduceReferenceAssembly** option specifies a file path where the reference assembly should be output.</span></span> <span data-ttu-id="09742-164">它在 Emit API 中转换为 `metadataPeStream`。</span><span class="sxs-lookup"><span data-stu-id="09742-164">It translates to `metadataPeStream` in the Emit API.</span></span> <span data-ttu-id="09742-165">`filepath` 指定引用程序集的路径。</span><span class="sxs-lookup"><span data-stu-id="09742-165">The `filepath` specifies the path for the reference assembly.</span></span> <span data-ttu-id="09742-166">通常情况下，应与主程序集的路径匹配。</span><span class="sxs-lookup"><span data-stu-id="09742-166">It should generally match that of the primary assembly.</span></span> <span data-ttu-id="09742-167">建议的约定（由 MSBuild 采用）是，将引用程序集放入与主程序集相关的“ref/”子文件夹中。</span><span class="sxs-lookup"><span data-stu-id="09742-167">The recommended convention (used by MSBuild) is to place the reference assembly in a "ref/" subfolder relative to the primary assembly.</span></span>

```xml
<ProduceReferenceAssembly>filepath</ProduceReferenceAssembly>
```

<span data-ttu-id="09742-168">引用程序集是一种特殊类型的程序集，它只包含表示库的公共 API 外围应用所需的最少元数据量。</span><span class="sxs-lookup"><span data-stu-id="09742-168">Reference assemblies are a special type of assembly that contains only the minimum amount of metadata required to represent the library's public API surface.</span></span> <span data-ttu-id="09742-169">它们包括在生成工具中引用程序集时所需的所有成员的声明。</span><span class="sxs-lookup"><span data-stu-id="09742-169">They include declarations for all members that are significant when referencing an assembly in build tools.</span></span> <span data-ttu-id="09742-170">引用程序集不包括所有成员实现以及私有成员的声明。</span><span class="sxs-lookup"><span data-stu-id="09742-170">Reference assemblies exclude all member implementations and declarations of private members.</span></span> <span data-ttu-id="09742-171">这些成员对其 API 协定没有明显影响。</span><span class="sxs-lookup"><span data-stu-id="09742-171">Those members have no observable impact on their API contract.</span></span> <span data-ttu-id="09742-172">有关详细信息，请参阅 .NET 指南中的[引用程序集](../../../standard/assembly/reference-assemblies.md)。</span><span class="sxs-lookup"><span data-stu-id="09742-172">For more information, see [Reference assemblies](../../../standard/assembly/reference-assemblies.md) in the .NET Guide.</span></span>

<span data-ttu-id="09742-173">ProduceReferenceAssembly 和 [ProduceOnlyReferenceAssembly](./code-generation.md#produceonlyreferenceassembly) 选项是互斥的。</span><span class="sxs-lookup"><span data-stu-id="09742-173">The **ProduceReferenceAssembly** and [**ProduceOnlyReferenceAssembly**](./code-generation.md#produceonlyreferenceassembly) options are mutually exclusive.</span></span>

## <a name="targettype"></a><span data-ttu-id="09742-174">TargetType</span><span class="sxs-lookup"><span data-stu-id="09742-174">TargetType</span></span>

<span data-ttu-id="09742-175">TargetType 编译器选项可指定为以下形式之一：</span><span class="sxs-lookup"><span data-stu-id="09742-175">The **TargetType** compiler option can be specified in one of the following forms:</span></span>  
  
- <span data-ttu-id="09742-176">library：用于创建代码库。</span><span class="sxs-lookup"><span data-stu-id="09742-176">**library**: to create a code library.</span></span> <span data-ttu-id="09742-177">library 是默认值。</span><span class="sxs-lookup"><span data-stu-id="09742-177">**library** is the default value.</span></span>
- <span data-ttu-id="09742-178">exe：用于创建 .exe 文件。</span><span class="sxs-lookup"><span data-stu-id="09742-178">**exe**: to create an .exe file.</span></span>  
- <span data-ttu-id="09742-179">module：用于创建模块。</span><span class="sxs-lookup"><span data-stu-id="09742-179">**module** to create a module.</span></span>  
- <span data-ttu-id="09742-180">winexe：用于创建 Windows 程序。</span><span class="sxs-lookup"><span data-stu-id="09742-180">**winexe** to create a Windows program.</span></span>
- <span data-ttu-id="09742-181">winmdobj：用于创建 .winmdobj 中间文件。</span><span class="sxs-lookup"><span data-stu-id="09742-181">**winmdobj** to create an intermediate *.winmdobj* file.</span></span>
- <span data-ttu-id="09742-182">appcontainerexe：用于为 Windows 8.x 应用商店应用创建 .exe 文件。</span><span class="sxs-lookup"><span data-stu-id="09742-182">**appcontainerexe** to create an .exe file for Windows 8.x Store apps.</span></span>
  
> [!NOTE]
> <span data-ttu-id="09742-183">对于 .NET Framework 目标，除非指定 module，否则，此选项会导致将 .NET Framework 程序集清单放入输出文件中。</span><span class="sxs-lookup"><span data-stu-id="09742-183">For .NET Framework targets, unless you specify **module**, this option causes a .NET Framework assembly manifest to be placed in an output file.</span></span> <span data-ttu-id="09742-184">有关详细信息，请参阅 [.NET 中的程序集](../../../standard/assembly/index.md)和[公共属性](../attributes/global.md)。</span><span class="sxs-lookup"><span data-stu-id="09742-184">For more information, see [Assemblies in .NET](../../../standard/assembly/index.md) and [Common Attributes](../attributes/global.md).</span></span>

```xml
<TargetType>library</TargetType>
```

<span data-ttu-id="09742-185">编译器每次编译只创建一个程序集清单。</span><span class="sxs-lookup"><span data-stu-id="09742-185">The compiler creates only one assembly manifest per compilation.</span></span> <span data-ttu-id="09742-186">关于编译中所有文件的信息都放在程序集清单中。</span><span class="sxs-lookup"><span data-stu-id="09742-186">Information about all files in a compilation is placed in the assembly manifest.</span></span> <span data-ttu-id="09742-187">在命令行生成多个输出文件时，只能创建一个程序集清单，且该清单必须放置在命令行上指定的第一个输出文件中。</span><span class="sxs-lookup"><span data-stu-id="09742-187">When producing multiple output files at the command line, only one assembly manifest can be created and it must go into the first output file specified on the command line.</span></span>

<span data-ttu-id="09742-188">如果你创建了一个程序集，则可以用 <xref:System.CLSCompliantAttribute> 属性指示全部或部分代码是符合 CLS 的。</span><span class="sxs-lookup"><span data-stu-id="09742-188">If you create an assembly, you can indicate that all or part of your code is CLS-compliant with the <xref:System.CLSCompliantAttribute> attribute.</span></span>

### <a name="library"></a><span data-ttu-id="09742-189">库</span><span class="sxs-lookup"><span data-stu-id="09742-189">library</span></span>

<span data-ttu-id="09742-190">library 选项会导致编译器创建动态链接库 (DLL) 而不是可执行文件 (EXE)。</span><span class="sxs-lookup"><span data-stu-id="09742-190">The **library** option causes the compiler to create a dynamic-link library (DLL) rather than an executable file (EXE).</span></span> <span data-ttu-id="09742-191">将创建具有 .dll 扩展名的 DLL。</span><span class="sxs-lookup"><span data-stu-id="09742-191">The DLL will be created with the *.dll* extension.</span></span> <span data-ttu-id="09742-192">除非使用 [OutputAssembly](#outputassembly) 选项指定，否则输出文件的名称采用第一个输入文件的名称。</span><span class="sxs-lookup"><span data-stu-id="09742-192">Unless otherwise specified with the [**OutputAssembly**](#outputassembly) option, the output file name takes the name of the first input file.</span></span> <span data-ttu-id="09742-193">生成 .dll 文件时，不需要 [`Main`](../../programming-guide/main-and-command-args/index.md) 方法。</span><span class="sxs-lookup"><span data-stu-id="09742-193">When building a *.dll* file, a [`Main`](../../programming-guide/main-and-command-args/index.md) method isn't required.</span></span>

### <a name="exe"></a><span data-ttu-id="09742-194">exe</span><span class="sxs-lookup"><span data-stu-id="09742-194">exe</span></span>

<span data-ttu-id="09742-195">exe 选项会导致编译器创建一个可执行的 (EXE) 控制台应用程序。</span><span class="sxs-lookup"><span data-stu-id="09742-195">The **exe** option causes the compiler to create an executable (EXE), console application.</span></span> <span data-ttu-id="09742-196">将创建扩展名为 .exe 的可执行文件。</span><span class="sxs-lookup"><span data-stu-id="09742-196">The executable file will be created with the .exe extension.</span></span> <span data-ttu-id="09742-197">使用 winexe 创建 Windows 程序可执行文件。</span><span class="sxs-lookup"><span data-stu-id="09742-197">Use **winexe** to create a Windows program executable.</span></span> <span data-ttu-id="09742-198">除非使用 [OutputAssembly](#outputassembly) 选项进行指定，否则输出文件的名称将采用包含入口点（[Main](../../programming-guide/main-and-command-args/index.md) 方法或顶级语句）的输入文件的名称。</span><span class="sxs-lookup"><span data-stu-id="09742-198">Unless otherwise specified with the [**OutputAssembly**](#outputassembly) option, the output file name takes the name of the input file that contains the entry point ([Main](../../programming-guide/main-and-command-args/index.md) method or top-level statements).</span></span> <span data-ttu-id="09742-199">编译为 .exe 文件的源代码文件中只需要一个入口点。</span><span class="sxs-lookup"><span data-stu-id="09742-199">One and only one entry point is required in the source code files that are compiled into an .exe file.</span></span> <span data-ttu-id="09742-200">如果代码具有多个附带 `Main` 方法的类，则可使用 [StartupObject](./advanced.md#mainentrypoint-or-startupobject) 编译器选项指定包含 `Main` 方法的类。</span><span class="sxs-lookup"><span data-stu-id="09742-200">The [**StartupObject**](./advanced.md#mainentrypoint-or-startupobject) compiler option lets you specify which class contains the `Main` method, in cases where your code has more than one class with a `Main` method.</span></span>  

### <a name="module"></a><span data-ttu-id="09742-201">name</span><span class="sxs-lookup"><span data-stu-id="09742-201">module</span></span>

<span data-ttu-id="09742-202">此选项会导致编译器不生成程序集清单。</span><span class="sxs-lookup"><span data-stu-id="09742-202">This option causes the compiler to not generate an assembly manifest.</span></span> <span data-ttu-id="09742-203">默认情况下，使用此选项编译时所创建的输出文件具有扩展名 .netmodule。</span><span class="sxs-lookup"><span data-stu-id="09742-203">By default, the output file created by compiling with this option will have an extension of *.netmodule*.</span></span> <span data-ttu-id="09742-204">.NET 运行时无法加载没有程序集清单的文件。</span><span class="sxs-lookup"><span data-stu-id="09742-204">A file that doesn't have an assembly manifest cannot be loaded by the .NET runtime.</span></span> <span data-ttu-id="09742-205">但是，此类文件可以通过 [AddModules](inputs.md#addmodules) 合并到程序集的程序集清单中。</span><span class="sxs-lookup"><span data-stu-id="09742-205">However, such a file can be incorporated into the assembly manifest of an assembly with [**AddModules**](inputs.md#addmodules).</span></span> <span data-ttu-id="09742-206">如果在一次编译中创建了多个模块，某个模块中的[内部](../keywords/internal.md)类型将适用于编译中的其他模块。</span><span class="sxs-lookup"><span data-stu-id="09742-206">If more than one module is created in a single compilation, [internal](../keywords/internal.md) types in one module will be available to other modules in the compilation.</span></span> <span data-ttu-id="09742-207">如果一个模块中的代码引用另一模块中的 `internal` 类型，则两个模块必须通过 [AddModules](inputs.md#addmodules) 合并到一个程序集清单中。</span><span class="sxs-lookup"><span data-stu-id="09742-207">When code in one module references `internal` types in another module, then both modules must be incorporated into an assembly manifest, with [**AddModules**](inputs.md#addmodules).</span></span> <span data-ttu-id="09742-208">Visual Studio 开发环境中不支持创建模块。</span><span class="sxs-lookup"><span data-stu-id="09742-208">Creating a module isn't supported in the Visual Studio development environment.</span></span>

### <a name="winexe"></a><span data-ttu-id="09742-209">winexe</span><span class="sxs-lookup"><span data-stu-id="09742-209">winexe</span></span>

<span data-ttu-id="09742-210">winexe 选项会导致编译器创建可执行的 (EXE) Windows 程序。</span><span class="sxs-lookup"><span data-stu-id="09742-210">The **winexe** option causes the compiler to create an executable (EXE), Windows program.</span></span> <span data-ttu-id="09742-211">将创建扩展名为 .exe 的可执行文件。</span><span class="sxs-lookup"><span data-stu-id="09742-211">The executable file will be created with the .exe extension.</span></span> <span data-ttu-id="09742-212">Windows 程序是通过 .NET 库或 Windows API 提供用户界面的程序。</span><span class="sxs-lookup"><span data-stu-id="09742-212">A Windows program is one that provides a user interface from either the .NET library or with the Windows APIs.</span></span> <span data-ttu-id="09742-213">使用 exe 创建控制台应用程序。</span><span class="sxs-lookup"><span data-stu-id="09742-213">Use **exe** to create a console application.</span></span> <span data-ttu-id="09742-214">除非使用 [OutputAssembly](#outputassembly) 选项进行指定，否则输出文件的名称将采用包含 [`Main`](../../programming-guide/main-and-command-args/index.md) 方法的输入文件的名称。</span><span class="sxs-lookup"><span data-stu-id="09742-214">Unless otherwise specified with the [**OutputAssembly**](#outputassembly) option, the output file name takes the name of the input file that contains the [`Main`](../../programming-guide/main-and-command-args/index.md) method.</span></span> <span data-ttu-id="09742-215">编译为 .exe 文件的源代码文件中只需要一个 `Main` 方法。</span><span class="sxs-lookup"><span data-stu-id="09742-215">One and only one `Main` method is required in the source code files that are compiled into an .exe file.</span></span> <span data-ttu-id="09742-216">如果代码具有多个附带 `Main` 方法的类，则可使用 [StartupObject](./advanced.md#mainentrypoint-or-startupobject) 选项指定包含 `Main` 方法的类。</span><span class="sxs-lookup"><span data-stu-id="09742-216">The [**StartupObject**](./advanced.md#mainentrypoint-or-startupobject) option lets you specify which class contains the `Main` method, in cases where your code has more than one class with a `Main` method.</span></span>

### <a name="winmdobj"></a><span data-ttu-id="09742-217">winmdobj</span><span class="sxs-lookup"><span data-stu-id="09742-217">winmdobj</span></span>

<span data-ttu-id="09742-218">如果使用 winmdobj 选项，则编译器会创建一个 .winmdobj 中间文件，你可以将此文件转换为 Windows 运行时二进制 (.winmd) 文件。</span><span class="sxs-lookup"><span data-stu-id="09742-218">If you use the **winmdobj** option, the compiler creates an intermediate *.winmdobj* file that you can convert to a Windows Runtime binary (*.winmd*) file.</span></span> <span data-ttu-id="09742-219">之后，除了托管语言程序外，JavaScript 和 C++ 程序也可以使用该 .winmd 文件。</span><span class="sxs-lookup"><span data-stu-id="09742-219">The *.winmd* file can then be consumed by JavaScript and C++ programs, in addition to managed language programs.</span></span>

<span data-ttu-id="09742-220">**winmdobj** 设置会向编译器发出信号，表示需要中间模块。</span><span class="sxs-lookup"><span data-stu-id="09742-220">The **winmdobj** setting signals to the compiler that an intermediate module is required.</span></span> <span data-ttu-id="09742-221">随后，.winmdobj 文件可作为 <xref:Microsoft.Build.Tasks.WinMDExp> 导出工具的输入，生成 Windows 元数据 (.winmd) 文件。</span><span class="sxs-lookup"><span data-stu-id="09742-221">The *.winmdobj* file can then be fed through the <xref:Microsoft.Build.Tasks.WinMDExp> export tool to produce a Windows metadata (*.winmd*) file.</span></span> <span data-ttu-id="09742-222">.winmd 文件既包含原始库的代码，也包含 JavaScript 或 C++ 以及 Windows 运行时使用的 WinMD 元数据的代码。</span><span class="sxs-lookup"><span data-stu-id="09742-222">The *.winmd* file contains both the code from the original library and the WinMD metadata that is used by JavaScript or C++ and by the Windows Runtime.</span></span> <span data-ttu-id="09742-223">使用 winmdobj 编译器选项所编译文件的输出只能用作 WimMDExp 导出工具的输入。</span><span class="sxs-lookup"><span data-stu-id="09742-223">The output of a file that’s compiled by using the **winmdobj** compiler option is used only as input for the WimMDExp export tool.</span></span> <span data-ttu-id="09742-224">.winmdobj 文件本身并没有被直接引用。</span><span class="sxs-lookup"><span data-stu-id="09742-224">The *.winmdobj* file itself isn’t referenced directly.</span></span> <span data-ttu-id="09742-225">除非使用 [OutputAssembly](#outputassembly) 选项，否则输出文件的名称将采用第一个输入文件的名称。</span><span class="sxs-lookup"><span data-stu-id="09742-225">Unless you use the [**OutputAssembly**](#outputassembly) option, the output file name takes the name of the first input file.</span></span> <span data-ttu-id="09742-226">不需要使用 [`Main`](../../programming-guide/main-and-command-args/index.md) 方法。</span><span class="sxs-lookup"><span data-stu-id="09742-226">A [`Main`](../../programming-guide/main-and-command-args/index.md) method isn’t required.</span></span>

### <a name="appcontainerexe"></a><span data-ttu-id="09742-227">appcontainerexe</span><span class="sxs-lookup"><span data-stu-id="09742-227">appcontainerexe</span></span>

<span data-ttu-id="09742-228">如果使用 appcontainerexe 编译器选项，则编译器会创建一个 Windows 可执行 (.exe) 文件，该文件必须在应用容器中运行。</span><span class="sxs-lookup"><span data-stu-id="09742-228">If you use the **appcontainerexe** compiler option, the compiler creates a Windows executable (*.exe*) file that must be run in an app container.</span></span> <span data-ttu-id="09742-229">此选项与 [-target:winexe](./target-winexe-compiler-option.md) 等效，但专门用于 Windows 8.x 应用商店应用。</span><span class="sxs-lookup"><span data-stu-id="09742-229">This option is equivalent to [-target:winexe](./target-winexe-compiler-option.md) but is designed for Windows 8.x Store apps.</span></span>

<span data-ttu-id="09742-230">为了要求应用在应用容器中运行，此选项在[可移植可执行](/windows/desktop/Debug/pe-format) (PE) 文件中设置了一个位。</span><span class="sxs-lookup"><span data-stu-id="09742-230">To require the app to run in an app container, this option sets a bit in the [Portable Executable](/windows/desktop/Debug/pe-format) (PE) file.</span></span> <span data-ttu-id="09742-231">设置该位时，如果 CreateProcess 方法尝试在应用容器外启动该可执行文件，就会发生错误。</span><span class="sxs-lookup"><span data-stu-id="09742-231">When that bit is set, an error occurs if the CreateProcess method tries to launch the executable file outside an app container.</span></span> <span data-ttu-id="09742-232">除非使用 [OutputAssembly](#outputassembly) 选项，否则输出文件的名称将采用包含 [`Main`](../../programming-guide/main-and-command-args/index.md) 方法的输入文件的名称。</span><span class="sxs-lookup"><span data-stu-id="09742-232">Unless you use the [**OutputAssembly**](#outputassembly) option, the output file name takes the name of the input file that contains the [`Main`](../../programming-guide/main-and-command-args/index.md) method.</span></span>

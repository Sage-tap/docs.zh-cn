---
description: 了解详细信息： Windows Communication Foundation 安全概述
title: 安全性概述
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Communication Foundation, security
- WCF, security
ms.assetid: f478c80d-792d-4e7a-96bd-a2ff0b6f65f9
ms.openlocfilehash: e2fba11e71b3e30c1dae6cd889f710455d840b59
ms.sourcegitcommit: ddf7edb67715a5b9a45e3dd44536dabc153c1de0
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/06/2021
ms.locfileid: "99632420"
---
# <a name="windows-communication-foundation-security-overview"></a><span data-ttu-id="f470a-103">Windows Communication Foundation 安全性概述</span><span class="sxs-lookup"><span data-stu-id="f470a-103">Windows Communication Foundation Security Overview</span></span>

<span data-ttu-id="f470a-104">Windows Communication Foundation (WCF) 是一个基于 SOAP 消息的分布式编程平台，并且客户端和服务之间的消息安全对于保护数据非常重要。</span><span class="sxs-lookup"><span data-stu-id="f470a-104">Windows Communication Foundation (WCF) is a SOAP message-based distributed programming platform, and securing messages between clients and services is essential to protecting data.</span></span> <span data-ttu-id="f470a-105">WCF 提供了一种通用且可互操作的平台，用于根据现有安全基础结构和 SOAP 消息的已识别安全标准来交换安全消息。</span><span class="sxs-lookup"><span data-stu-id="f470a-105">WCF provides a versatile and interoperable platform for exchanging secure messages based upon both the existing security infrastructure and the recognized security standards for SOAP messages.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f470a-106">有关 WCF 安全的综合指南，请参阅 [Wcf 安全指南](https://archive.codeplex.com/?p=WCFSecurity)。</span><span class="sxs-lookup"><span data-stu-id="f470a-106">For a comprehensive guide to WCF security, see [WCF Security Guidance](https://archive.codeplex.com/?p=WCFSecurity).</span></span>  
  
 <span data-ttu-id="f470a-107">如果你已使用现有技术（如 HTTPS）、Windows 集成安全性或用户名和密码对用户进行身份验证，则 WCF 使用熟悉的概念。</span><span class="sxs-lookup"><span data-stu-id="f470a-107">WCF uses concepts that are familiar if you have built secure, distributed applications with existing technologies such as HTTPS, Windows integrated security, or user names and passwords to authenticate users.</span></span> <span data-ttu-id="f470a-108">WCF 不仅与现有安全基础结构集成，而且还通过使用安全 SOAP 消息将分布式安全性扩展到仅 Windows 域之外。</span><span class="sxs-lookup"><span data-stu-id="f470a-108">WCF not only integrates with existing security infrastructures, but also extends distributed security beyond Windows-only domains by using secure SOAP messages.</span></span> <span data-ttu-id="f470a-109">考虑使用 WCF 作为协议（除了现有协议外）使用 SOAP 作为协议，实现现有安全机制。</span><span class="sxs-lookup"><span data-stu-id="f470a-109">Consider WCF an implementation of existing security mechanisms with the major advantage of using SOAP as the protocol in addition to existing protocols.</span></span> <span data-ttu-id="f470a-110">例如，用于标识客户端或服务的凭据（如用户名和密码或 X.509 证书）具有可互操作的基于 XML 的 SOAP 配置文件。</span><span class="sxs-lookup"><span data-stu-id="f470a-110">For example, credentials that identify a client or a service, such as user name and password or X.509 certificates, have interoperable XML-based SOAP profiles.</span></span> <span data-ttu-id="f470a-111">使用这些配置文件时，消息利用开放式规范（如 XML 数字签名和 XML 加密）进行安全交换。</span><span class="sxs-lookup"><span data-stu-id="f470a-111">Using these profiles, messages are exchanged securely by taking advantage of open specifications like XML digital signatures and XML encryption.</span></span> <span data-ttu-id="f470a-112">有关规范的列表，请参阅 [System-Provided 互操作性绑定支持的 Web 服务协议](web-services-protocols-supported-by-system-provided-interoperability-bindings.md)。</span><span class="sxs-lookup"><span data-stu-id="f470a-112">For a list of specifications, see [Web Services Protocols Supported by System-Provided Interoperability Bindings](web-services-protocols-supported-by-system-provided-interoperability-bindings.md).</span></span>  
  
 <span data-ttu-id="f470a-113">另一个并列项是 Windows 平台上的组件对象模型 (COM)，它可实现安全的分布式应用程序。</span><span class="sxs-lookup"><span data-stu-id="f470a-113">Another parallel is the Component Object Model (COM) on the Windows platform, which enables secure, distributed applications.</span></span> <span data-ttu-id="f470a-114">COM 具有全面的安全机制，因此安全上下文可以在各组件间流动；此机制可强制实现完整性、保密性和身份验证。</span><span class="sxs-lookup"><span data-stu-id="f470a-114">COM has a comprehensive security mechanism whereby security context can be flowed between components; this mechanism enforces integrity, confidentiality, and authentication.</span></span> <span data-ttu-id="f470a-115">但是，COM 不启用跨平台、安全消息（如 WCF）。</span><span class="sxs-lookup"><span data-stu-id="f470a-115">However COM does not enable cross-platform, secure messaging like WCF does.</span></span> <span data-ttu-id="f470a-116">使用 WCF，你可以在 Internet 上构建跨 Windows 域的服务和客户端。</span><span class="sxs-lookup"><span data-stu-id="f470a-116">Using WCF, you can build services and clients that span from Windows domains across the Internet.</span></span> <span data-ttu-id="f470a-117">WCF 的可互操作消息对于构建动态、业务驱动的服务非常重要，可帮助你放心地保护你的信息的安全。</span><span class="sxs-lookup"><span data-stu-id="f470a-117">The interoperable messages of WCF are essential for building dynamic, business-driven services that help you feel confident in the security of your information.</span></span>  
  
## <a name="windows-communication-foundation-security-benefits"></a><span data-ttu-id="f470a-118">Windows Communication Foundation 安全性优点</span><span class="sxs-lookup"><span data-stu-id="f470a-118">Windows Communication Foundation Security Benefits</span></span>  

 <span data-ttu-id="f470a-119">WCF 是一个基于 SOAP 消息的分布式编程平台。</span><span class="sxs-lookup"><span data-stu-id="f470a-119">WCF is a distributed programming platform based on SOAP messages.</span></span> <span data-ttu-id="f470a-120">使用 WCF，您可以创建同时充当服务和服务客户端的应用程序，从而创建和处理来自不限数量的其他服务和客户端的消息。</span><span class="sxs-lookup"><span data-stu-id="f470a-120">Using WCF, you can create applications that function as both services and service clients, creating and processing messages from an unlimited number of other services and clients.</span></span> <span data-ttu-id="f470a-121">在此类分布式应用程序中，消息可以从一个节点流向另一个节点，并在通过防火墙进入 Internet 后再通过无数个 SOAP 中间项。</span><span class="sxs-lookup"><span data-stu-id="f470a-121">In such a distributed application, messages can flow from node to node, through firewalls, onto the Internet, and through numerous SOAP intermediaries.</span></span> <span data-ttu-id="f470a-122">这会带来各种不同的消息安全性威胁。</span><span class="sxs-lookup"><span data-stu-id="f470a-122">This introduces a variety of message security threats.</span></span> <span data-ttu-id="f470a-123">下面的示例说明 WCF 安全在实体之间交换消息时可帮助减轻的一些常见威胁：</span><span class="sxs-lookup"><span data-stu-id="f470a-123">The following examples illustrate some common threats that WCF security can help mitigate when exchanging messages between entities:</span></span>  
  
- <span data-ttu-id="f470a-124">观测网络流量以获取敏感信息。</span><span class="sxs-lookup"><span data-stu-id="f470a-124">Observation of network traffic to obtain sensitive information.</span></span> <span data-ttu-id="f470a-125">以在线银行为例，某个客户端请求将资金从一个帐户转帐至另一个帐户。</span><span class="sxs-lookup"><span data-stu-id="f470a-125">For example, in an online-banking scenario, a client requests the transfer of funds from one account to another.</span></span> <span data-ttu-id="f470a-126">一个恶意用户截获了此消息（具有帐号和密码），随后从盗用的帐户将资金转出。</span><span class="sxs-lookup"><span data-stu-id="f470a-126">A malicious user intercepts the message and, having the account number and password, later performs a transfer of funds from the compromised account.</span></span>  
  
- <span data-ttu-id="f470a-127">欺诈性实体在客户端未发觉的情况下起服务的作用。</span><span class="sxs-lookup"><span data-stu-id="f470a-127">Rogue entities acting as services without awareness of the client.</span></span> <span data-ttu-id="f470a-128">在此情况下，恶意用户（欺诈方）充当在线服务，从客户端截获消息以获取敏感信息。</span><span class="sxs-lookup"><span data-stu-id="f470a-128">In this scenario, a malicious user (the rogue) acts as an online service and intercepts messages from the client to obtain sensitive information.</span></span> <span data-ttu-id="f470a-129">然后，欺诈方使用窃取的数据将资金从盗用的帐户转出。</span><span class="sxs-lookup"><span data-stu-id="f470a-129">Then the rogue uses the stolen data to transfer funds from the compromised account.</span></span> <span data-ttu-id="f470a-130">这种攻击也称为 " *网络钓鱼攻击*"。</span><span class="sxs-lookup"><span data-stu-id="f470a-130">This attack is also known a *phishing attack*.</span></span>  
  
- <span data-ttu-id="f470a-131">更改消息以获取与调用方所需的结果不同的结果。</span><span class="sxs-lookup"><span data-stu-id="f470a-131">Alteration of messages to obtain a different result than the caller intended.</span></span> <span data-ttu-id="f470a-132">例如，更改用于存款的帐号以便将资金转移到恶意帐户。</span><span class="sxs-lookup"><span data-stu-id="f470a-132">For example, altering the account number to which a deposit is made allows the funds to go to a rogue account.</span></span>  
  
- <span data-ttu-id="f470a-133">黑客重放，恶意黑客重放同一采购订单。</span><span class="sxs-lookup"><span data-stu-id="f470a-133">Hacker replays in which a nuisance hacker replays the same purchase order.</span></span> <span data-ttu-id="f470a-134">例如，一家网上书店收到数百张订单并将书籍发送给并未订购这些书籍的客户。</span><span class="sxs-lookup"><span data-stu-id="f470a-134">For example, an online bookstore receives hundreds of orders and sends the books to a customer who has not ordered them.</span></span>  
  
- <span data-ttu-id="f470a-135">使某项服务无法对客户端进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="f470a-135">Inability of a service to authenticate a client.</span></span> <span data-ttu-id="f470a-136">在此情况下，服务无法确保相应人员执行该项事务。</span><span class="sxs-lookup"><span data-stu-id="f470a-136">In this case, the service cannot assure that the appropriate person performed the transaction.</span></span>  
  
 <span data-ttu-id="f470a-137">总的来说，传输安全性可提供下列保障：</span><span class="sxs-lookup"><span data-stu-id="f470a-137">In summary, transfer security provides the following assurances:</span></span>  
  
- <span data-ttu-id="f470a-138">服务终结点（响应方）身份验证。</span><span class="sxs-lookup"><span data-stu-id="f470a-138">Service endpoint (respondent) authentication.</span></span>  
  
- <span data-ttu-id="f470a-139">客户端主体（发起方）身份验证。</span><span class="sxs-lookup"><span data-stu-id="f470a-139">Client principal (initiator) authentication.</span></span>  
  
- <span data-ttu-id="f470a-140">消息完整性。</span><span class="sxs-lookup"><span data-stu-id="f470a-140">Message integrity.</span></span>  
  
- <span data-ttu-id="f470a-141">消息保密性。</span><span class="sxs-lookup"><span data-stu-id="f470a-141">Message confidentiality.</span></span>  
  
- <span data-ttu-id="f470a-142">重放检测。</span><span class="sxs-lookup"><span data-stu-id="f470a-142">Replay detection.</span></span>  
  
### <a name="integration-with-existing-security-infrastructures"></a><span data-ttu-id="f470a-143">与现有安全性基础结构集成</span><span class="sxs-lookup"><span data-stu-id="f470a-143">Integration with Existing Security Infrastructures</span></span>  

 <span data-ttu-id="f470a-144">通常，Web 服务部署都具有现成的安全性解决方案，例如，安全套接字层 (SSL) 或 Kerberos 协议。</span><span class="sxs-lookup"><span data-stu-id="f470a-144">Often, Web service deployments have existing security solutions in place, for example, Secure Sockets Layer (SSL) or the Kerberos protocol.</span></span> <span data-ttu-id="f470a-145">某些服务则利用已部署的安全性基础结构，例如，使用 Active Directory 的 Windows 域。</span><span class="sxs-lookup"><span data-stu-id="f470a-145">Some take advantage of a security infrastructure that has already been deployed, such as Windows domains using Active Directory.</span></span> <span data-ttu-id="f470a-146">当评估和采用新服务时，通常需要与这些现有技术集成。</span><span class="sxs-lookup"><span data-stu-id="f470a-146">It is often necessary to integrate with these existing technologies while evaluating and adopting newer ones.</span></span>  
  
 <span data-ttu-id="f470a-147">WCF 安全与现有传输安全模型集成，并可利用现有的基础结构来实现基于 SOAP 消息安全的较新传输安全模型。</span><span class="sxs-lookup"><span data-stu-id="f470a-147">WCF security integrates with existing transport security models and can leverage existing infrastructure for newer transfer security models based on SOAP message security.</span></span>  
  
### <a name="integration-with-existing-authentication-models"></a><span data-ttu-id="f470a-148">与现有身份验证模型集成</span><span class="sxs-lookup"><span data-stu-id="f470a-148">Integration with Existing Authentication Models</span></span>  

 <span data-ttu-id="f470a-149">任何通信安全模型的一个重要组成部分就是能够识别正在通信的实体并对其进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="f470a-149">An important part of any communication security model is the ability to identify and authenticate entities in communication.</span></span> <span data-ttu-id="f470a-150">这些通信中的实体使用“数字标识”或凭据向通信对等方验证自己的身份。</span><span class="sxs-lookup"><span data-stu-id="f470a-150">These entities in communication use "digital identities," or credentials, to authenticate themselves with the communicating peers.</span></span> <span data-ttu-id="f470a-151">随着分布式通信平台的发展，已实现多种不同的凭据身份验证和相关的安全模型。</span><span class="sxs-lookup"><span data-stu-id="f470a-151">As distributed communication platforms evolved, various credential authentication and related security models have been implemented.</span></span> <span data-ttu-id="f470a-152">例如，在 Internet 中，通常使用用户名和密码标识用户。</span><span class="sxs-lookup"><span data-stu-id="f470a-152">For example, on the Internet, the use of a user name and password to identify users is common.</span></span> <span data-ttu-id="f470a-153">在 Intranet 中，使用 Kerberos 域控制器备份用户和服务身份验证变得越来越普遍。</span><span class="sxs-lookup"><span data-stu-id="f470a-153">On the intranet, the use of a Kerberos domain controller to back up user and service authentication is becoming common.</span></span> <span data-ttu-id="f470a-154">在某些特定情况下，例如两个业务合作伙伴之间，证书可用于对合作伙伴的身份进行相互验证。</span><span class="sxs-lookup"><span data-stu-id="f470a-154">In certain scenarios, such as between two business partners, certificates may be used to mutually authenticate the partners.</span></span>  
  
 <span data-ttu-id="f470a-155">因此，在 Web 服务领域中，同样的服务可向内部企业客户公开，也可向外部合作伙伴或 Internet 客户公开，重要的是基础结构可提供与这些现有安全身份验证模型的集成。</span><span class="sxs-lookup"><span data-stu-id="f470a-155">Thus, in the world of Web services, where the same service might be exposed to internal corporate customers as well as to external partners or Internet customers, it is important that the infrastructure provide for integration with these existing security authentication models.</span></span> <span data-ttu-id="f470a-156">WCF 安全性支持多种凭据类型 (身份验证模型) 包括：</span><span class="sxs-lookup"><span data-stu-id="f470a-156">WCF security supports a wide variety of credential types (authentication models) including:</span></span>  
  
- <span data-ttu-id="f470a-157">匿名调用方。</span><span class="sxs-lookup"><span data-stu-id="f470a-157">Anonymous caller.</span></span>  
  
- <span data-ttu-id="f470a-158">用户名客户端凭据。</span><span class="sxs-lookup"><span data-stu-id="f470a-158">User name client credential.</span></span>  
  
- <span data-ttu-id="f470a-159">证书客户端凭据。</span><span class="sxs-lookup"><span data-stu-id="f470a-159">Certificate client credential.</span></span>  
  
- <span data-ttu-id="f470a-160">Windows（Kerberos 协议和 NT LanMan [NTLM]）。</span><span class="sxs-lookup"><span data-stu-id="f470a-160">Windows (both Kerberos protocol and NT LanMan [NTLM]).</span></span>  
  
### <a name="standards-and-interoperability"></a><span data-ttu-id="f470a-161">标准和互操作性</span><span class="sxs-lookup"><span data-stu-id="f470a-161">Standards and Interoperability</span></span>  

 <span data-ttu-id="f470a-162">在具有大量现有部署的环境中，很少会出现同质化现象。</span><span class="sxs-lookup"><span data-stu-id="f470a-162">In a world with large existing deployments, homogeneity is rare.</span></span> <span data-ttu-id="f470a-163">分布式计算/通信平台需要与不同供应商提供的技术进行互操作。</span><span class="sxs-lookup"><span data-stu-id="f470a-163">Distributed computing/communications platforms need to interoperate with the technologies different vendors offer.</span></span> <span data-ttu-id="f470a-164">同样地，安全性也必须能够互操作。</span><span class="sxs-lookup"><span data-stu-id="f470a-164">Likewise, security must also be interoperable.</span></span>  
  
 <span data-ttu-id="f470a-165">为了实现可互操作的安全系统，活跃在 Web 服务行业的公司编写了多种不同的标准。</span><span class="sxs-lookup"><span data-stu-id="f470a-165">To enable interoperable security systems, companies active in the Web services industry have authored a variety of standards.</span></span> <span data-ttu-id="f470a-166">具体到安全性，它们提出了几个著名的标准：WS-Security：SOAP 消息安全（由 OASIS 标准组织采用，以前称为 WS-Security）、WS-Trust、WS-SecureConversation 和 WS-SecurityPolicy。</span><span class="sxs-lookup"><span data-stu-id="f470a-166">Specifically regarding security, a few notable standards have been proposed: WS-Security: SOAP Message Security (accepted by the OASIS standards body and formerly known as WS-Security), WS-Trust, WS-SecureConversation, and WS-SecurityPolicy.</span></span>  
  
 <span data-ttu-id="f470a-167">WCF 支持多种互操作性方案。</span><span class="sxs-lookup"><span data-stu-id="f470a-167">WCF supports a wide variety of interoperability scenarios.</span></span> <span data-ttu-id="f470a-168"><xref:System.ServiceModel.BasicHttpBinding> 类可支持基本安全配置文件 (BSP)，而 <xref:System.ServiceModel.WSHttpBinding> 类则支持最新的安全标准，例如 WS-Security 1.1 和 WS-SecureConversation。</span><span class="sxs-lookup"><span data-stu-id="f470a-168">The <xref:System.ServiceModel.BasicHttpBinding> class is targeted at the Basic Security Profile (BSP) and the <xref:System.ServiceModel.WSHttpBinding> class is targeted at the latest security standards, such as WS-Security 1.1 and WS-SecureConversation.</span></span> <span data-ttu-id="f470a-169">通过遵守这些标准，WCF 安全可以与 Microsoft Windows 以外的操作系统和平台上承载的 Web 服务进行互操作和集成。</span><span class="sxs-lookup"><span data-stu-id="f470a-169">By adhering to these standards, WCF security can interoperate and integrate with Web services that are hosted on operating systems and platforms other than Microsoft Windows.</span></span>  
  
## <a name="wcf-security-functional-areas"></a><span data-ttu-id="f470a-170">WCF 安全性的功能划分</span><span class="sxs-lookup"><span data-stu-id="f470a-170">WCF Security Functional Areas</span></span>  

 <span data-ttu-id="f470a-171">WCF 安全划分为三个功能区域：传输安全、访问控制和审核。</span><span class="sxs-lookup"><span data-stu-id="f470a-171">WCF security is divided into three functional areas: transfer security, access control, and auditing.</span></span> <span data-ttu-id="f470a-172">以下几部分简要讨论这些功能并提供指向更多信息的链接。</span><span class="sxs-lookup"><span data-stu-id="f470a-172">The following sections briefly discuss these areas and provide links for more information.</span></span>  
  
### <a name="transfer-security"></a><span data-ttu-id="f470a-173">传输安全性</span><span class="sxs-lookup"><span data-stu-id="f470a-173">Transfer Security</span></span>  

 <span data-ttu-id="f470a-174">传输安全性包含三项主要安全功能：完整性、保密性和身份验证。</span><span class="sxs-lookup"><span data-stu-id="f470a-174">Transfer security encompasses three major security functions: integrity, confidentiality, and authentication.</span></span> <span data-ttu-id="f470a-175">*完整性* 是指检测消息是否已被篡改的能力。</span><span class="sxs-lookup"><span data-stu-id="f470a-175">*Integrity* is the ability to detect whether a message has been tampered with.</span></span> <span data-ttu-id="f470a-176">*机密性* 是指使任何人（而非预期的收件人）无法读取消息的功能;这是通过加密实现的。</span><span class="sxs-lookup"><span data-stu-id="f470a-176">*Confidentiality* is the ability to keep a message unreadable by anyone other than the intended recipient; this is achieved through cryptography.</span></span> <span data-ttu-id="f470a-177">*身份验证* 可以验证声明的标识。</span><span class="sxs-lookup"><span data-stu-id="f470a-177">*Authentication* is the ability to verify a claimed identity.</span></span> <span data-ttu-id="f470a-178">将这三项功能结合在一起，有助于确保消息安全地从一个点到达另一个点。</span><span class="sxs-lookup"><span data-stu-id="f470a-178">Together, these three functions help to ensure that messages securely arrive from one point to another.</span></span>  
  
#### <a name="transport-and-message-security-modes"></a><span data-ttu-id="f470a-179">传输和消息安全模式</span><span class="sxs-lookup"><span data-stu-id="f470a-179">Transport and Message Security Modes</span></span>  

 <span data-ttu-id="f470a-180">在 WCF 中，使用两种主要机制来实现传输安全性： *传输* 安全模式和 *消息* 安全模式。</span><span class="sxs-lookup"><span data-stu-id="f470a-180">Two main mechanisms are used to implement transfer security in WCF: *transport* security mode and *message* security mode.</span></span>  
  
- <span data-ttu-id="f470a-181">*传输安全模式* 使用传输级协议（如 HTTPS）来实现传输安全性。</span><span class="sxs-lookup"><span data-stu-id="f470a-181">*Transport security mode* uses a transport-level protocol, such as HTTPS, to achieve transfer security.</span></span> <span data-ttu-id="f470a-182">传输模式的优点是可以被广泛采用、可用于多个平台以及计算较为简单。</span><span class="sxs-lookup"><span data-stu-id="f470a-182">Transport mode has the advantage of being widely adopted, available on many platforms, and less computationally complex.</span></span> <span data-ttu-id="f470a-183">但是，它的缺点是只能保证点到点的消息安全。</span><span class="sxs-lookup"><span data-stu-id="f470a-183">However, it has the disadvantage of securing messages only from point-to-point.</span></span>  
  
- <span data-ttu-id="f470a-184">另一方面，*消息安全模式* 使用) WS-Security (和其他规范来实现传输安全性。</span><span class="sxs-lookup"><span data-stu-id="f470a-184">*Message security mode*, on the other hand, uses WS-Security (and other specifications) to implement transfer security.</span></span> <span data-ttu-id="f470a-185">因为消息安全性直接应用于 SOAP 消息并与应用程序数据一起包含在 SOAP 信封内，它的优点是独立于传输协议、可扩展性更强以及可确保端到端安全性（与点到点相对）；它的缺点是比传输安全性模式慢很多倍，因为它必须处理 SOAP 消息的 XML 特性。</span><span class="sxs-lookup"><span data-stu-id="f470a-185">Because the message security is applied directly to the SOAP messages and is contained inside the SOAP envelopes, together with the application data, it has the advantage of being transport protocol-independent, more extensible, and ensuring end-to-end security (versus point-to-point); it has the disadvantage of being several times slower than transport security mode because it has to deal with the XML nature of the SOAP messages.</span></span>  
  
 <span data-ttu-id="f470a-186">有关这些差异的详细信息，请参阅 [保护服务和客户端](securing-services-and-clients.md)。</span><span class="sxs-lookup"><span data-stu-id="f470a-186">For more information about these differences, see [Securing Services and Clients](securing-services-and-clients.md).</span></span>  
  
 <span data-ttu-id="f470a-187">第三种安全模式同时使用前两种模式，并具备这两种模式的优点。</span><span class="sxs-lookup"><span data-stu-id="f470a-187">A third security mode uses both previous modes and brings advantages of both.</span></span> <span data-ttu-id="f470a-188">此模式称为 `TransportWithMessageCredential`。</span><span class="sxs-lookup"><span data-stu-id="f470a-188">This mode is called `TransportWithMessageCredential`.</span></span> <span data-ttu-id="f470a-189">在此模式下，消息安全性用于对客户端进行身份验证，而传输安全性则用于对服务器进行身份验证并提供消息机密性和完整性。</span><span class="sxs-lookup"><span data-stu-id="f470a-189">In this mode, message security is used to authenticate the client and transport security is used to authenticate the server and provide message confidentiality and integrity.</span></span> <span data-ttu-id="f470a-190">得益于这一特点，`TransportWithMessageCredential` 安全模式几乎与传输安全模式一样快，并且提供与消息安全性一样的客户端身份验证可扩展性。</span><span class="sxs-lookup"><span data-stu-id="f470a-190">Thanks to this, the `TransportWithMessageCredential` security mode is almost as fast as transport security mode and provides client authentication extensibility in the same way as message security.</span></span> <span data-ttu-id="f470a-191">但是，与消息安全性模式不同，它不提供完整的端到端安全性。</span><span class="sxs-lookup"><span data-stu-id="f470a-191">However, unlike message security mode, it does not provide complete end-to-end security.</span></span>  
  
### <a name="access-control"></a><span data-ttu-id="f470a-192">访问控制</span><span class="sxs-lookup"><span data-stu-id="f470a-192">Access Control</span></span>  

 <span data-ttu-id="f470a-193">*访问控制* 也称为授权。</span><span class="sxs-lookup"><span data-stu-id="f470a-193">*Access control* is also known as authorization.</span></span> <span data-ttu-id="f470a-194">*授权* 允许不同用户具有不同的权限来查看数据。</span><span class="sxs-lookup"><span data-stu-id="f470a-194">*Authorization* allows different users to have different privileges to view data.</span></span> <span data-ttu-id="f470a-195">例如，因为公司的人力资源文件包含敏感的员工数据，只有管理人员才能查看员工数据。</span><span class="sxs-lookup"><span data-stu-id="f470a-195">For example, because a company's human resources files contain sensitive employee data, only managers are allowed to view employee data.</span></span> <span data-ttu-id="f470a-196">此外，管理人员只能查看他们的直接报告数据。</span><span class="sxs-lookup"><span data-stu-id="f470a-196">Further, managers can view only data for their direct reports.</span></span> <span data-ttu-id="f470a-197">在此情况下，访问控制将基于角色（“管理人员”）和管理人员的特定标识（以避免管理人员查看其他管理人员的员工记录）。</span><span class="sxs-lookup"><span data-stu-id="f470a-197">In this case, access control is based on both the role ("manager") as well as the specific identity of the manager (to prevent one manager from looking at another manager's employee records).</span></span>  
  
 <span data-ttu-id="f470a-198">在 WCF 中，通过与公共语言运行时 (CLR) <xref:System.Security.Permissions.PrincipalPermissionAttribute> 和一组称为 " *标识模型*" 的 api 集成来提供访问控制功能。</span><span class="sxs-lookup"><span data-stu-id="f470a-198">In WCF, access control features are provided through integration with the common language runtime (CLR) <xref:System.Security.Permissions.PrincipalPermissionAttribute> and through a set of APIs known as the *identity model*.</span></span> <span data-ttu-id="f470a-199">有关访问控制和基于声明的授权的详细信息，请参阅 [扩展安全性](../extending/extending-security.md)。</span><span class="sxs-lookup"><span data-stu-id="f470a-199">For details about access control and claims-based authorization, see [Extending Security](../extending/extending-security.md).</span></span>  
  
### <a name="auditing"></a><span data-ttu-id="f470a-200">审核</span><span class="sxs-lookup"><span data-stu-id="f470a-200">Auditing</span></span>  

 <span data-ttu-id="f470a-201">*审核* 是将安全事件记录到 Windows 事件日志中。</span><span class="sxs-lookup"><span data-stu-id="f470a-201">*Auditing* is the logging of security events to the Windows event log.</span></span> <span data-ttu-id="f470a-202">您可以记录与安全相关的事件，例如身份验证失败（或成功）。</span><span class="sxs-lookup"><span data-stu-id="f470a-202">You can log security-related events, such as authentication failures (or successes).</span></span> <span data-ttu-id="f470a-203">有关详细信息，请参阅 [审核](auditing-security-events.md)。</span><span class="sxs-lookup"><span data-stu-id="f470a-203">For more information, see [Auditing](auditing-security-events.md).</span></span> <span data-ttu-id="f470a-204">有关编程的详细信息，请参阅 [如何：审核安全事件](how-to-audit-wcf-security-events.md)。</span><span class="sxs-lookup"><span data-stu-id="f470a-204">For programming details, see [How to: Audit Security Events](how-to-audit-wcf-security-events.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f470a-205">请参阅</span><span class="sxs-lookup"><span data-stu-id="f470a-205">See also</span></span>

- <xref:System.Security.Permissions.PrincipalPermissionAttribute>
- [<span data-ttu-id="f470a-206">保证服务的安全</span><span class="sxs-lookup"><span data-stu-id="f470a-206">Securing Services</span></span>](../securing-services.md)
- [<span data-ttu-id="f470a-207">常用安全方案</span><span class="sxs-lookup"><span data-stu-id="f470a-207">Common Security Scenarios</span></span>](common-security-scenarios.md)
- [<span data-ttu-id="f470a-208">绑定与安全</span><span class="sxs-lookup"><span data-stu-id="f470a-208">Bindings and Security</span></span>](bindings-and-security.md)
- [<span data-ttu-id="f470a-209">保护服务和客户端的安全</span><span class="sxs-lookup"><span data-stu-id="f470a-209">Securing Services and Clients</span></span>](securing-services-and-clients.md)
- [<span data-ttu-id="f470a-210">身份验证</span><span class="sxs-lookup"><span data-stu-id="f470a-210">Authentication</span></span>](authentication-in-wcf.md)
- [<span data-ttu-id="f470a-211">授权</span><span class="sxs-lookup"><span data-stu-id="f470a-211">Authorization</span></span>](authorization-in-wcf.md)
- [<span data-ttu-id="f470a-212">联合令牌与颁发的令牌</span><span class="sxs-lookup"><span data-stu-id="f470a-212">Federation and Issued Tokens</span></span>](federation-and-issued-tokens.md)
- [<span data-ttu-id="f470a-213">审核</span><span class="sxs-lookup"><span data-stu-id="f470a-213">Auditing</span></span>](auditing-security-events.md)
- [<span data-ttu-id="f470a-214">安全指导和最佳做法</span><span class="sxs-lookup"><span data-stu-id="f470a-214">Security Guidance and Best Practices</span></span>](security-guidance-and-best-practices.md)
- [<span data-ttu-id="f470a-215">使用配置文件配置服务</span><span class="sxs-lookup"><span data-stu-id="f470a-215">Configuring Services Using Configuration Files</span></span>](../configuring-services-using-configuration-files.md)
- [<span data-ttu-id="f470a-216">系统提供的绑定</span><span class="sxs-lookup"><span data-stu-id="f470a-216">System-Provided Bindings</span></span>](../system-provided-bindings.md)
- [<span data-ttu-id="f470a-217">终结点创建概述</span><span class="sxs-lookup"><span data-stu-id="f470a-217">Endpoint Creation Overview</span></span>](../endpoint-creation-overview.md)
- [<span data-ttu-id="f470a-218">扩展安全性</span><span class="sxs-lookup"><span data-stu-id="f470a-218">Extending Security</span></span>](../extending/extending-security.md)
- <span data-ttu-id="f470a-219">[Windows Server App Fabric 的安全模型](/previous-versions/appfabric/ee677202(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="f470a-219">[Security Model for Windows Server App Fabric](/previous-versions/appfabric/ee677202(v=azure.10))</span></span>

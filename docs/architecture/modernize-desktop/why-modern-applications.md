---
title: 为什么使用新式桌面应用程序
description: 了解现下的 Windows 窗体、WPF 和 UWP 等桌面技术。
ms.date: 12/29/2020
ms.openlocfilehash: 8489e41c973bb472a23bca38e9374c36e4cdd366
ms.sourcegitcommit: 05d0087dfca85aac9ca2960f86c5efd218bf833f
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/30/2021
ms.locfileid: "98615888"
---
# <a name="why-modern-desktop-applications"></a><span data-ttu-id="8b263-103">为什么使用新式桌面应用程序</span><span class="sxs-lookup"><span data-stu-id="8b263-103">Why modern desktop applications</span></span>

## <a name="introduction"></a><span data-ttu-id="8b263-104">简介</span><span class="sxs-lookup"><span data-stu-id="8b263-104">Introduction</span></span>

### <a name="a-story-of-one-company"></a><span data-ttu-id="8b263-105">一个公司的故事</span><span class="sxs-lookup"><span data-stu-id="8b263-105">A story of one company</span></span>

<span data-ttu-id="8b263-106">早在 2000 年初，有一家跨国公司就开始开发分布式桌面解决方案，以实现公司不同分支机构之间的信息交换，并对集中单元执行优化操作。</span><span class="sxs-lookup"><span data-stu-id="8b263-106">Back in the early 2000s, one multinational company started developing a distributed desktop solution to exchange information between different branches of the company and execute optimized operations on centralized units.</span></span> <span data-ttu-id="8b263-107">他们选择了一个名为 Windows 窗体（又称 WinForms）的全新框架来进行应用程序开发。</span><span class="sxs-lookup"><span data-stu-id="8b263-107">They have chosen a brand-new framework called Windows Forms (also known as WinForms) for their application development.</span></span> <span data-ttu-id="8b263-108">经过多年的努力，该项目已经发展成一个具有几十万行代码的成熟、经过良好测试且久经考验的应用程序。</span><span class="sxs-lookup"><span data-stu-id="8b263-108">Over the years, the project evolved into a mature, well tested, and time-proven application with hundreds of thousands of lines of code.</span></span> <span data-ttu-id="8b263-109">时光荏苒，.NET Framework 2.0 不再是炙手可热的新技术。</span><span class="sxs-lookup"><span data-stu-id="8b263-109">Time passed and .NET Framework 2.0 is no longer the hot new technology.</span></span> <span data-ttu-id="8b263-110">正在开发这个应用程序的开发人员面临着一个两难的局面。</span><span class="sxs-lookup"><span data-stu-id="8b263-110">The developers who are working on this application are facing a dilemma.</span></span> <span data-ttu-id="8b263-111">他们希望在开发中使用最新的技术堆栈，并让应用程序看上去更现代化。</span><span class="sxs-lookup"><span data-stu-id="8b263-111">They'd like to use the latest stack of technologies in their development and have their application look and "feel" modern.</span></span> <span data-ttu-id="8b263-112">同时又不想放弃历经 15 年精心打磨出来的产品，从头开始重写整个应用程序。</span><span class="sxs-lookup"><span data-stu-id="8b263-112">At the same time, they don't want to throw away the great product they have built over 15 years and rewrite the entire application from scratch.</span></span>

### <a name="your-story"></a><span data-ttu-id="8b263-113">你的故事</span><span class="sxs-lookup"><span data-stu-id="8b263-113">Your story</span></span>

<span data-ttu-id="8b263-114">你可能发现自己也陷入了这样的境地，你拥有成熟的 Windows 窗体或 Windows Presentation Foundation (WPF) 应用程序，这些应用程序多年来已经证明其可靠性。</span><span class="sxs-lookup"><span data-stu-id="8b263-114">You might find yourself in the same boat, where you have mature Windows Forms or Windows Presentation Foundation (WPF) applications that have proved their reliability over the years.</span></span> <span data-ttu-id="8b263-115">你可能想继续使用这些应用程序很多年。</span><span class="sxs-lookup"><span data-stu-id="8b263-115">You probably want to keep using these applications for many more years.</span></span> <span data-ttu-id="8b263-116">但与此同时，由于这些应用程序是在一段时间前编写的，它们可能缺少某些功能，比如现代化的外观、性能、与新设备和平台功能的集成等等，因此给人一种“旧技术”的感觉。</span><span class="sxs-lookup"><span data-stu-id="8b263-116">At the same time, since those applications were written some time ago, they might be missing capabilities like modern look, performance, integration with new devices and platform features, and so on, which gives them a feel of "old tech".</span></span> <span data-ttu-id="8b263-117">作为开发人员，你可能还会遇到另一个问题。</span><span class="sxs-lookup"><span data-stu-id="8b263-117">There's another problem that might concern you as a developer.</span></span> <span data-ttu-id="8b263-118">当你在旧的 .NET Framework 版本上工作，并维护前段时间编写的应用程序时，你可能会觉得自己没有学到新的技术，在培养现代技术技能上有所缺失。</span><span class="sxs-lookup"><span data-stu-id="8b263-118">While working on the older .NET Framework versions and maintaining applications that were written a while ago, you might feel like you aren't learning new technologies and missing on building modern technical skills.</span></span> <span data-ttu-id="8b263-119">如果你正在经历这些 - 这本书就是为你而写！</span><span class="sxs-lookup"><span data-stu-id="8b263-119">If that is your story – this book is for you!</span></span>

## <a name="desktop-applications-nowadays"></a><span data-ttu-id="8b263-120">现在的桌面应用程序</span><span class="sxs-lookup"><span data-stu-id="8b263-120">Desktop applications nowadays</span></span>

<span data-ttu-id="8b263-121">在 Internet 兴起之前，桌面应用程序是生成软件系统的主要方法。</span><span class="sxs-lookup"><span data-stu-id="8b263-121">Before the raise of the Internet, desktop applications were the main approach to build software systems.</span></span> <span data-ttu-id="8b263-122">开发人员可以选择任何编程语言，如 COBOL、Fortran、VB6 或 C++。</span><span class="sxs-lookup"><span data-stu-id="8b263-122">Developers could choose any programming language, such as COBOL, Fortran, VB6, or C++.</span></span> <span data-ttu-id="8b263-123">但无论他们开发的是小工具还是复杂的分布式体系结构，这些都是桌面应用程序。</span><span class="sxs-lookup"><span data-stu-id="8b263-123">But where they developed small tools or complex distributed architectures, they were all desktop applications.</span></span>

<span data-ttu-id="8b263-124">后来，Internet 技术开始冲击开发界，以易于部署、简化的分发过程等优势赢得了更多工程师的青睐。</span><span class="sxs-lookup"><span data-stu-id="8b263-124">Then, Internet technologies started shocking the development world and winning over more engineers with advantages like easy deployment and simplified distribution processes.</span></span> <span data-ttu-id="8b263-125">Web 应用程序一旦部署到生产环境中，所有用户都能获得自动更新，这对软件的敏捷性产生了巨大影响。</span><span class="sxs-lookup"><span data-stu-id="8b263-125">The fact that once a web application was deployed to production all users got automatic updates made a huge impact on the software agility.</span></span>

<span data-ttu-id="8b263-126">然而，Internet 基础结构、底层协议以及 HTTP 和 HTML 等标准不适合生成复杂的应用程序。</span><span class="sxs-lookup"><span data-stu-id="8b263-126">However, the Internet infrastructure, underlying protocols, and standards like HTTP and HTML weren't designed for building complex applications.</span></span> <span data-ttu-id="8b263-127">事实上，当时的主要开发工作只瞄准了一个目标：让 Web 应用程序拥有与桌面应用程序一样的功能，比如快速数据输入和状态管理。</span><span class="sxs-lookup"><span data-stu-id="8b263-127">In fact, the major development effort back then was aiming just one goal: to give web applications the same capabilities that desktop applications have, such as fast data input and state management.</span></span>

<span data-ttu-id="8b263-128">即使 Web 和移动应用程序以令人难以置信的速度发展，但对于某些任务来说，桌面应用程序在效率和性能方面仍然占据第一的位置。</span><span class="sxs-lookup"><span data-stu-id="8b263-128">Even though web and mobile applications have grown at an incredible pace, for certain tasks desktop applications still hold the number one place in terms of efficiency and performance.</span></span> <span data-ttu-id="8b263-129">这就解释了为什么有数以百万计的开发人员在使用 WPF 和 WinForms 生成项目，而且这些应用程序的数量还在不断增加。</span><span class="sxs-lookup"><span data-stu-id="8b263-129">That explains why there are millions of developers who are building their projects with WPF and WinForms and the amount of those applications is constantly growing.</span></span>

<span data-ttu-id="8b263-130">下面列出了在开发中选择桌面应用程序的一些原因：</span><span class="sxs-lookup"><span data-stu-id="8b263-130">Here are some reasons for choosing desktop applications in your development:</span></span>

- <span data-ttu-id="8b263-131">桌面应用可以与用户电脑更好地交互。</span><span class="sxs-lookup"><span data-stu-id="8b263-131">Desktop apps have better interaction with the user's PC.</span></span>
- <span data-ttu-id="8b263-132">桌面应用程序进行复杂计算的性能远高于 Web 应用程序的性能。</span><span class="sxs-lookup"><span data-stu-id="8b263-132">The performance of desktop applications for complex calculations is much higher than the performance of web applications.</span></span>
- <span data-ttu-id="8b263-133">Web 应用程序也可以在客户端运行自定义逻辑，但是要难得多。</span><span class="sxs-lookup"><span data-stu-id="8b263-133">Running custom logic on the client-side is possible but much harder with a web application.</span></span>
- <span data-ttu-id="8b263-134">在桌面应用程序中使用多线程处理更简单、更高效。</span><span class="sxs-lookup"><span data-stu-id="8b263-134">Using multithreading is easier and more efficient in a desktop application.</span></span>
- <span data-ttu-id="8b263-135">设计用户界面 (UI) 的学习曲线并不陡峭。</span><span class="sxs-lookup"><span data-stu-id="8b263-135">The learning curve for designing user interfaces (UIs) isn't steep.</span></span> <span data-ttu-id="8b263-136">WinForms 使用简便，这要归功于 Windows 窗体设计器的拖放体验。</span><span class="sxs-lookup"><span data-stu-id="8b263-136">And for WinForms, it's intuitive with the drag-and-drop experience of the Windows Forms designer.</span></span>
- <span data-ttu-id="8b263-137">可以轻松开始编码和测试算法，既不需要设置服务器基础结构，也不需要关心连接问题、防火墙和浏览器兼容性。</span><span class="sxs-lookup"><span data-stu-id="8b263-137">It's easy to start coding and testing your algorithms without the need to set up a server infrastructure or to care about connectivity problems, firewalls, and browser compatibility.</span></span>
- <span data-ttu-id="8b263-138">与 Web 调试相比，桌面调试功能更强大。</span><span class="sxs-lookup"><span data-stu-id="8b263-138">Debugging is powerful as compared to web debugging.</span></span>
- <span data-ttu-id="8b263-139">轻松访问硬件设备，例如摄像头、蓝牙或读卡器。</span><span class="sxs-lookup"><span data-stu-id="8b263-139">Access to hardware devices, such as camera, Bluetooth, or card readers, is easy.</span></span>
- <span data-ttu-id="8b263-140">由于这项技术已经出现一段时间了，因此开发桌面应用程序时不仅有知识库可用，还有许多这方面的专家。</span><span class="sxs-lookup"><span data-stu-id="8b263-140">Since the technology has been around for a while, there are many experts and a knowledge base available to develop desktop applications.</span></span>

<span data-ttu-id="8b263-141">正如你所看到的那样，针对桌面进行开发从许多方面来说都是不错的选择。</span><span class="sxs-lookup"><span data-stu-id="8b263-141">So, as you can see, developing for desktop is great for many reasons.</span></span> <span data-ttu-id="8b263-142">技术成熟且久经考验，开发周期快，调试功能强大，可以说，桌面应用的复杂度较低，更容易上手。</span><span class="sxs-lookup"><span data-stu-id="8b263-142">The technology is mature and time tested, the development cycle is fast, the debugging is powerful and arguably, desktop apps have less complexity and easier to get started with.</span></span>

<span data-ttu-id="8b263-143">从 1995 年推出的 Win32 到 2016 年发布的通用 Windows 平台 (UWP)，Microsoft 多年来提供了许多 UI 桌面技术。</span><span class="sxs-lookup"><span data-stu-id="8b263-143">Microsoft offered many UI desktop technologies throughout the years from Win32 introduced in 1995 to Universal Windows Platform (UWP) released in 2016.</span></span>

![Microsoft 桌面技术](./media/why-modern-applications/microsoft-desktop-technologies.png)

<span data-ttu-id="8b263-145">Telerik 在 2016 年 4 月发布的一项调查表明，生成 Windows 桌面应用最受欢迎的技术是 Windows 窗体、WPF 和 UWP。</span><span class="sxs-lookup"><span data-stu-id="8b263-145">According to a survey published by Telerik on April 2016, the most popular technologies for building Windows desktop apps are Windows Forms, WPF, and UWP.</span></span>

![Telerik 调查显示，Windows 窗体、WPF 和 UWP 是最受欢迎的桌面技术](./media/why-modern-applications/telerik-survey.png)

<span data-ttu-id="8b263-147">你可以使用 C# 和 Visual Basic 在其中任何一项技术中进行开发，不过，先让我们进一步了解这些技术。</span><span class="sxs-lookup"><span data-stu-id="8b263-147">You can develop in any of them using C# and Visual Basic, but let's take a closer look.</span></span>

### <a name="windows-forms"></a><span data-ttu-id="8b263-148">Windows 窗体</span><span class="sxs-lookup"><span data-stu-id="8b263-148">Windows Forms</span></span>

<span data-ttu-id="8b263-149">Windows 窗体最初发布于 2002 年，是一个托管框架，也是构建于 Windows 图形设备接口 (GDI) 引擎之上的最早、最常用的桌面技术。</span><span class="sxs-lookup"><span data-stu-id="8b263-149">First released in 2002, Windows Forms is a managed framework and is the oldest, most used, desktop technology built on the Windows graphics device interface (GDI) engine.</span></span> <span data-ttu-id="8b263-150">它为在 Visual Studio 中开发用户界面提供了流畅的拖放体验。</span><span class="sxs-lookup"><span data-stu-id="8b263-150">It offers a smooth drag-and-drop experience for developing user interfaces in Visual Studio.</span></span>  <span data-ttu-id="8b263-151">与此同时，Windows 窗体依靠 Visual Studio 设计器作为开发 UI 的主要方式，因此通过代码创建视觉组件并不轻松。</span><span class="sxs-lookup"><span data-stu-id="8b263-151">At the same time, Windows Forms relies on the Visual Studio Designer as the main way you develop your UI, so creating visual components from code isn't trivial.</span></span>

<span data-ttu-id="8b263-152">下表总结了 Windows 窗体的主要特征：</span><span class="sxs-lookup"><span data-stu-id="8b263-152">The following list summarizes the main characteristics of Windows Forms:</span></span>

- <span data-ttu-id="8b263-153">技术成熟，拥有大量代码示例和文档。</span><span class="sxs-lookup"><span data-stu-id="8b263-153">Mature technology with lots of code samples and documentation.</span></span>
- <span data-ttu-id="8b263-154">功能强大且高效的设计器。</span><span class="sxs-lookup"><span data-stu-id="8b263-154">Powerful and productive designer.</span></span> <span data-ttu-id="8b263-155">“通过代码”设计 UI 不是很方便。</span><span class="sxs-lookup"><span data-stu-id="8b263-155">Not so convenient to design UI "from code".</span></span>
- <span data-ttu-id="8b263-156">学习起来简单直观，这要归功于设计器的拖放体验。</span><span class="sxs-lookup"><span data-stu-id="8b263-156">Easy and intuitive to learn, thanks to the designer's drag-and-drop experience.</span></span>
- <span data-ttu-id="8b263-157">在任何 Windows 版本上均受支持。</span><span class="sxs-lookup"><span data-stu-id="8b263-157">Supported on any Windows version.</span></span>
- <span data-ttu-id="8b263-158">在 .NET Core 3.0 和更高版本上受支持。</span><span class="sxs-lookup"><span data-stu-id="8b263-158">Supported on .NET Core 3.0 and later versions.</span></span>

### <a name="wpf"></a><span data-ttu-id="8b263-159">WPF</span><span class="sxs-lookup"><span data-stu-id="8b263-159">WPF</span></span>

<span data-ttu-id="8b263-160">基于 XAML 语言规范的 WPF 支持将 UI 和代码明确分离。</span><span class="sxs-lookup"><span data-stu-id="8b263-160">Based on the XAML language specification, WPF favors a clear separation between UI and code.</span></span> <span data-ttu-id="8b263-161">XAML 提供模板化、样式化和绑定等功能，适合生成大型应用程序。</span><span class="sxs-lookup"><span data-stu-id="8b263-161">XAML offers such capabilities like templating, styling, and binding, which is suited for building large applications.</span></span> <span data-ttu-id="8b263-162">和 Windows 窗体一样，它也是一个托管框架，但采用了可重用的模块化设计。</span><span class="sxs-lookup"><span data-stu-id="8b263-162">Like Windows Forms, it's a managed framework, but the design is modular and reusable.</span></span>

<span data-ttu-id="8b263-163">以下是 WPF 的主要特征：</span><span class="sxs-lookup"><span data-stu-id="8b263-163">Here are the main features of WPF:</span></span>

- <span data-ttu-id="8b263-164">成熟的技术。</span><span class="sxs-lookup"><span data-stu-id="8b263-164">Mature technology.</span></span>
- <span data-ttu-id="8b263-165">提供设计器，但开发人员通常更喜欢使用声明性 XAML 通过代码创建设计。</span><span class="sxs-lookup"><span data-stu-id="8b263-165">Designer is available, but developers usually prefer to create the design from code using declarative XAML.</span></span>
- <span data-ttu-id="8b263-166">学习曲线比 Windows 窗体更陡峭。</span><span class="sxs-lookup"><span data-stu-id="8b263-166">The learning curve is steeper than Windows Forms.</span></span>
- <span data-ttu-id="8b263-167">在任何 Windows 版本上均受支持。</span><span class="sxs-lookup"><span data-stu-id="8b263-167">Supported on any Windows version.</span></span>
- <span data-ttu-id="8b263-168">在 .NET Core 3.0 和更高版本上受支持。</span><span class="sxs-lookup"><span data-stu-id="8b263-168">Supported on .NET Core 3.0 and later versions.</span></span>

### <a name="uwp"></a><span data-ttu-id="8b263-169">UWP</span><span class="sxs-lookup"><span data-stu-id="8b263-169">UWP</span></span>

<span data-ttu-id="8b263-170">UWP 不仅仅是一个像 WPF 和 Windows 窗体这样的演示框架，它本身也是一个平台。</span><span class="sxs-lookup"><span data-stu-id="8b263-170">UWP isn't only a presentation framework like WPF and Windows Forms, but it's also a platform itself.</span></span> <span data-ttu-id="8b263-171">此平台具有：</span><span class="sxs-lookup"><span data-stu-id="8b263-171">This platform has:</span></span>

- <span data-ttu-id="8b263-172">自己的 API 集（Windows 运行时 API）。</span><span class="sxs-lookup"><span data-stu-id="8b263-172">Its own API set (the Windows Runtime API).</span></span>
- <span data-ttu-id="8b263-173">新的部署系统 (MSIX)</span><span class="sxs-lookup"><span data-stu-id="8b263-173">A new deployment system (MSIX)</span></span>
- <span data-ttu-id="8b263-174">新式应用程序生命周期模型（用于低电池消耗）。</span><span class="sxs-lookup"><span data-stu-id="8b263-174">A modern application lifecycle model (for low battery consumption).</span></span>
- <span data-ttu-id="8b263-175">新的资源管理系统（基于 PRI 文件）。</span><span class="sxs-lookup"><span data-stu-id="8b263-175">A new Resource Management System (based on PRI files).</span></span>

<span data-ttu-id="8b263-176">此平台旨在支持各种外形规格的各种输入系统（如墨迹、触摸、游戏手柄、鼠标、键盘、凝视等），同时考虑到性能和低电池消耗。</span><span class="sxs-lookup"><span data-stu-id="8b263-176">The platform was created to support all kind of input systems (like ink, touch, gamepad, mouse, keyboard, gaze, and so on) in all form-factors with performance and low battery consumption in mind.</span></span> <span data-ttu-id="8b263-177">基于这些原因，Windows 10 操作系统的外壳使用了 UWP 平台的一部分。</span><span class="sxs-lookup"><span data-stu-id="8b263-177">For these reasons, the shell of the Windows 10 OS uses parts of the UWP platform.</span></span>

![UWP 结构](./media/why-modern-applications/uwp-structure.png)

<span data-ttu-id="8b263-179">UWP 像 WPF 一样，包含一个基于 XAML 的演示框架，但是它有一些重要区别，比如：</span><span class="sxs-lookup"><span data-stu-id="8b263-179">UWP contains a presentation framework that is XAML-based, like WPF, but it has some important differences such as:</span></span>

- <span data-ttu-id="8b263-180">应用程序在应用容器中执行。</span><span class="sxs-lookup"><span data-stu-id="8b263-180">Applications are executed in app containers.</span></span> <span data-ttu-id="8b263-181">应用容器控制 UWP 应用可以访问哪些资源。</span><span class="sxs-lookup"><span data-stu-id="8b263-181">App containers control what resources a UWP app can access.</span></span>
- <span data-ttu-id="8b263-182">仅在 Windows 10 上受支持。</span><span class="sxs-lookup"><span data-stu-id="8b263-182">Supported only on Windows 10.</span></span>
- <span data-ttu-id="8b263-183">可以通过 Microsoft Store 部署应用，以方便部署。</span><span class="sxs-lookup"><span data-stu-id="8b263-183">Apps can be deployed through Microsoft Store for easier deployment.</span></span>
- <span data-ttu-id="8b263-184">设计为 Windows 运行时 API 的一部分。</span><span class="sxs-lookup"><span data-stu-id="8b263-184">Designed as part of the Windows Runtime API.</span></span>
- <span data-ttu-id="8b263-185">包含大量丰富的内置控件，以及通过每几个月更新一次的 Microsoft UI 库 NuGet 包（WinUI 库）提供的附加控件。</span><span class="sxs-lookup"><span data-stu-id="8b263-185">Contains an extensive set of rich built-in controls and additional controls available through the Microsoft UI Library NuGet packages (WinUI library) updated every few months.</span></span>

## <a name="a-tale-of-two-platforms"></a><span data-ttu-id="8b263-186">两个平台的故事</span><span class="sxs-lookup"><span data-stu-id="8b263-186">A tale of two platforms</span></span>

<span data-ttu-id="8b263-187">在过去的 20 年里，当 UI 桌面技术不断发展，并沿着从 Windows 窗体到 UWP 的道路前进时，硬件也从采用小型 CRT 显示器的重量级电脑装置，发展到高 DPI 显示器，以及采用触摸、墨迹等各种数据输入技术的轻量级平板电脑和手机。</span><span class="sxs-lookup"><span data-stu-id="8b263-187">In the last 20 years, while UI desktop technologies were growing and following the path from Windows Forms to UWP, the hardware was also evolving from heavy weight PC units with small CRT monitors to high-DPI monitors and lightweight tablets and phones with different data input techniques like Touch and Ink.</span></span> <span data-ttu-id="8b263-188">这些变化衍生了两个不同的概念：桌面应用程序和新式应用程序。</span><span class="sxs-lookup"><span data-stu-id="8b263-188">These changes resulted in creating two different concepts: a Desktop Application and a Modern Application.</span></span> <span data-ttu-id="8b263-189">新式应用程序考虑了各种设备外形规格、各种输入和输出方法，并在沙盒化执行模型上运行时使用新式桌面功能。</span><span class="sxs-lookup"><span data-stu-id="8b263-189">A Modern Application is one that considers different device form factors, various input and output methods, and leverages modern desktop features while running on a sandboxed execution model.</span></span> <span data-ttu-id="8b263-190">（传统）桌面应用程序则需要一个包含高密度控件的可靠 UI，这些控件最好使用鼠标和键盘来操作。</span><span class="sxs-lookup"><span data-stu-id="8b263-190">The (traditional) Desktop Application, on the other hand, is an application that needs a solid UI with a high density of controls that is best operated with a mouse and a keyboard.</span></span>

<span data-ttu-id="8b263-191">下表描述了这两个概念之间的差异：</span><span class="sxs-lookup"><span data-stu-id="8b263-191">The following table describes the differences between the two concepts:</span></span>

|   | <span data-ttu-id="8b263-192">新式应用程序</span><span class="sxs-lookup"><span data-stu-id="8b263-192">Modern Application</span></span> | <span data-ttu-id="8b263-193">桌面应用程序</span><span class="sxs-lookup"><span data-stu-id="8b263-193">Desktop Application</span></span> |
| --- | --- | --- |
| <span data-ttu-id="8b263-194">安全性</span><span class="sxs-lookup"><span data-stu-id="8b263-194">Security</span></span> | <span data-ttu-id="8b263-195">执行受控，基础稳固&amp;。</span><span class="sxs-lookup"><span data-stu-id="8b263-195">Contained execution &amp; Great Fundamentals.</span></span> <span data-ttu-id="8b263-196">采用全新设计，旨在尊重用户隐私，管理电池寿命，并专注于保护设备安全。</span><span class="sxs-lookup"><span data-stu-id="8b263-196">Designed from the ground up to respect user's privacy, manage battery life, and focus to keep the device safe.</span></span>  | <span data-ttu-id="8b263-197">用户和管理员级别的安全性&amp;。</span><span class="sxs-lookup"><span data-stu-id="8b263-197">User &amp; Admin level of security.</span></span> <span data-ttu-id="8b263-198">对注册表和硬盘文件夹具有本机访问权限。</span><span class="sxs-lookup"><span data-stu-id="8b263-198">You have native access to the registry and hard drive folders.</span></span> |
| <span data-ttu-id="8b263-199">部署</span><span class="sxs-lookup"><span data-stu-id="8b263-199">Deployment</span></span> | <span data-ttu-id="8b263-200">安装和更新由平台管理。</span><span class="sxs-lookup"><span data-stu-id="8b263-200">Installation and updates are managed by the platform.</span></span>   | <span data-ttu-id="8b263-201">MSI、自定义安装程序和更新&amp;。</span><span class="sxs-lookup"><span data-stu-id="8b263-201">MSI, Custom installers &amp; Updates.</span></span> <span data-ttu-id="8b263-202">一直以来都是让开发人员和 IT 经理头疼的问题。</span><span class="sxs-lookup"><span data-stu-id="8b263-202">Traditionally a source of headaches for developers and IT managers.</span></span>  |
| <span data-ttu-id="8b263-203">分发</span><span class="sxs-lookup"><span data-stu-id="8b263-203">Distribution</span></span> | <span data-ttu-id="8b263-204">可信分发和已签名的包&amp;。</span><span class="sxs-lookup"><span data-stu-id="8b263-204">Trusted Distribution &amp; Signed Packages.</span></span> <span data-ttu-id="8b263-205">从可信源进行分发，绝不从 Web 分发。</span><span class="sxs-lookup"><span data-stu-id="8b263-205">Distribution is performed from a trusted source and never from the web.</span></span>  | <span data-ttu-id="8b263-206">Web、SCCM 和自定义分发&amp;。</span><span class="sxs-lookup"><span data-stu-id="8b263-206">Web, SCCM &amp; Custom distribution.</span></span> <span data-ttu-id="8b263-207">无法控制安装的内容，影响整个计算机。</span><span class="sxs-lookup"><span data-stu-id="8b263-207">No control over what is installed, affects the whole machine.</span></span>   |
| <span data-ttu-id="8b263-208">UI</span><span class="sxs-lookup"><span data-stu-id="8b263-208">UI</span></span> | <span data-ttu-id="8b263-209">新式 UI。</span><span class="sxs-lookup"><span data-stu-id="8b263-209">Modern UI.</span></span> <span data-ttu-id="8b263-210">各种输入机制，墨迹、触摸、游戏手柄、键盘、鼠标等。</span><span class="sxs-lookup"><span data-stu-id="8b263-210">Different input mechanisms, ink, touch, gamepad, keyboard, mouse, etc.</span></span>  | <span data-ttu-id="8b263-211">Windows 窗体、WPF、MFC。</span><span class="sxs-lookup"><span data-stu-id="8b263-211">Windows Forms, WPF, MFC.</span></span> <span data-ttu-id="8b263-212">设计为使用鼠标和键盘来操控密集型 UI，旨在从桌面获得最大生产力。</span><span class="sxs-lookup"><span data-stu-id="8b263-212">Designed for the mouse and keyboard for a dense UI and to get the most productivity from the desktop.</span></span>  |
| <span data-ttu-id="8b263-213">数据</span><span class="sxs-lookup"><span data-stu-id="8b263-213">Data</span></span> | <span data-ttu-id="8b263-214">包含见解的云优先数据。</span><span class="sxs-lookup"><span data-stu-id="8b263-214">Cloud First Data with Insights.</span></span> <span data-ttu-id="8b263-215">云中的可靠来源。</span><span class="sxs-lookup"><span data-stu-id="8b263-215">Source of truth in the cloud.</span></span> <span data-ttu-id="8b263-216">从见解中了解你的应用发生了什么，以及它的性能如何。</span><span class="sxs-lookup"><span data-stu-id="8b263-216">Insights to know what happens with your app and how it's performing.</span></span>  | <span data-ttu-id="8b263-217">本地数据。</span><span class="sxs-lookup"><span data-stu-id="8b263-217">Local Data.</span></span> <span data-ttu-id="8b263-218">传统桌面应用程序通常需要一些本地数据。</span><span class="sxs-lookup"><span data-stu-id="8b263-218">Traditional desktop applications usually need some local data.</span></span>  |
| <span data-ttu-id="8b263-219">设计</span><span class="sxs-lookup"><span data-stu-id="8b263-219">Design</span></span> | <span data-ttu-id="8b263-220">设计为可重用。</span><span class="sxs-lookup"><span data-stu-id="8b263-220">Designed for reuse.</span></span> <span data-ttu-id="8b263-221">可在前端和后端的不同平台之间重复使用，在尽可能多的地方运行资产。</span><span class="sxs-lookup"><span data-stu-id="8b263-221">Reuse in mind between different platforms, front end, and back end, running assets in many places as possible.</span></span>  | <span data-ttu-id="8b263-222">仅适用于 Windows 桌面</span><span class="sxs-lookup"><span data-stu-id="8b263-222">Designed for Windows Desktop only</span></span>  |

<span data-ttu-id="8b263-223">为了履行为开发人员提供最佳应用程序生成工具的承诺，Microsoft 投入了大量精力，将这些概念（甚至可以说平台）更紧密地结合到一起，让开发人员能够鱼和熊掌兼得。</span><span class="sxs-lookup"><span data-stu-id="8b263-223">As a part of the commitment to provide developers with the best tools to build applications, Microsoft put a great effort to bring these concepts, or we can even say platforms, closer together to empower developers with the best of both worlds.</span></span> <span data-ttu-id="8b263-224">为此，Microsoft 在这两个平台之间进行了双向努力。</span><span class="sxs-lookup"><span data-stu-id="8b263-224">To do that, Microsoft has performed a bidirectional effort between the two platforms.</span></span>

![新式应用程序和桌面应用程序之间的双向努力](./media/why-modern-applications/bidirectional-effort.png)

1. <span data-ttu-id="8b263-226">将桌面应用程序方案迁移到新式应用程序平台。</span><span class="sxs-lookup"><span data-stu-id="8b263-226">Move Desktop Application scenarios into Modern Application platform.</span></span> <span data-ttu-id="8b263-227">传统的桌面开发仍然很受欢迎，因为它能很好地解决某些情况。</span><span class="sxs-lookup"><span data-stu-id="8b263-227">The traditional desktop development is still popular because it addresses certain scenarios well.</span></span> <span data-ttu-id="8b263-228">将这些常见的桌面方案引入新式桌面平台，让平台充分发挥作用，是很有意义的。</span><span class="sxs-lookup"><span data-stu-id="8b263-228">It makes sense to take these common desktop scenarios and bring them into the modern desktop platform to make the platform fully capable.</span></span>

    ![将桌面应用程序方案迁移到新式应用程序平台](./media/why-modern-applications/desktop-to-modern.png)

1. <span data-ttu-id="8b263-230">将新式应用程序功能迁移到桌面应用程序。</span><span class="sxs-lookup"><span data-stu-id="8b263-230">Move Modern Application features into Desktop Applications.</span></span> <span data-ttu-id="8b263-231">对于需要一种方法来利用新式功能而又无需从头开始重写的现有桌面应用，将新式应用程序平台的功能推送到桌面应用程序中。</span><span class="sxs-lookup"><span data-stu-id="8b263-231">For existing desktop apps that need a way to leverage modern capabilities without rewriting from scratch, features from the Modern Application platform are pushed into the Desktop Application.</span></span>

    ![将新式应用程序功能迁移到桌面应用程序](./media/why-modern-applications/modern-to-desktop.png)

<span data-ttu-id="8b263-233">本书将重点介绍第二部分，并展示如何实现现有桌面应用程序的现代化。</span><span class="sxs-lookup"><span data-stu-id="8b263-233">In this book, we'll focus on the second part and show how you can modernize your existing desktop applications.</span></span>

## <a name="paths-to-modernization"></a><span data-ttu-id="8b263-234">通往现代化之路</span><span class="sxs-lookup"><span data-stu-id="8b263-234">Paths to modernization</span></span>

<span data-ttu-id="8b263-235">本指南的结构反映了实现现代化的三个不同轴心：新式功能、部署和安装。</span><span class="sxs-lookup"><span data-stu-id="8b263-235">The structure of this guide reflects three different axes to accomplish modernization: Modern Features, Deployment, and Installation.</span></span>

### <a name="modern-features"></a><span data-ttu-id="8b263-236">新式功能</span><span class="sxs-lookup"><span data-stu-id="8b263-236">Modern features</span></span>

<span data-ttu-id="8b263-237">假设你有一个可正常运行的 Windows 窗体应用程序，公司销售代表用它来填写客户订单。</span><span class="sxs-lookup"><span data-stu-id="8b263-237">Say you have a working Windows Forms application that a sales representative of your company uses to fill in a customer order.</span></span> <span data-ttu-id="8b263-238">现在来了一个新需求，即，让客户能够使用触笔签署订单。</span><span class="sxs-lookup"><span data-stu-id="8b263-238">A new requirement comes in to enable the customer to sign the order using a tablet pen.</span></span> <span data-ttu-id="8b263-239">墨迹书写是当今操作系统和技术中的原生功能，但在开发该应用时，它还不可用。</span><span class="sxs-lookup"><span data-stu-id="8b263-239">Inking is native in today's operating systems and technologies, but it wasn't available when the app was developed.</span></span>

<span data-ttu-id="8b263-240">此路径将展示如何在现有桌面开发中利用新式桌面功能。</span><span class="sxs-lookup"><span data-stu-id="8b263-240">This path will show you how you can leverage modern desktop features into your existing desktop development.</span></span>

### <a name="deployment"></a><span data-ttu-id="8b263-241">部署</span><span class="sxs-lookup"><span data-stu-id="8b263-241">Deployment</span></span>

<span data-ttu-id="8b263-242">新式开发周期旨在针对每个用户灵活地部署应用程序的新版本。</span><span class="sxs-lookup"><span data-stu-id="8b263-242">Modern development cycles have stressed out to provide agility on how new versions of applications are deployed to every single user.</span></span> <span data-ttu-id="8b263-243">由于 Windows 窗体和 WPF 应用程序基于计算机上必须安装的特定 .NET Framework 版本，因此在没有 IT 人员干预的情况下，它们无法利用新版 .NET Framework 的功能，而这可能会对运行在同一台计算机上的其他应用产生副作用。</span><span class="sxs-lookup"><span data-stu-id="8b263-243">Since Windows Forms and WPF applications are based on a particular version of the .NET Framework that must be present on the machine, they can't take advantage of new .NET Framework version features without the intervention of the IT people with the risk of having side effects for other apps running on the same machine.</span></span> <span data-ttu-id="8b263-244">这限制了开发人员的创新步伐，迫使他们停留在过时的 .NET Framework 版本上。</span><span class="sxs-lookup"><span data-stu-id="8b263-244">It has limited the innovation pace for developers forcing them to stay on outdated versions of the .NET Framework.</span></span>

<span data-ttu-id="8b263-245">自 .NET Core 3.0 推出以来，你可以利用一种新方法，即，并行部署多个版本的 .NET，并指定每个应用程序应面向的 .NET 版本。</span><span class="sxs-lookup"><span data-stu-id="8b263-245">Since the launch of .NET Core 3.0, you can leverage a new approach of deploying multiple versions of .NET side by side and specifying which version of .NET each application should target.</span></span> <span data-ttu-id="8b263-246">这样，你就可以在一个应用程序中使用最新功能，同时确信自己不会中断任何其他应用程序。</span><span class="sxs-lookup"><span data-stu-id="8b263-246">This way, you can use the newest features in one application while being confident you aren't going to break any other applications.</span></span>

### <a name="installation"></a><span data-ttu-id="8b263-247">安装</span><span class="sxs-lookup"><span data-stu-id="8b263-247">Installation</span></span>

<span data-ttu-id="8b263-248">桌面应用程序总是需要完成某种安装过程，然后用户才能开始使用。</span><span class="sxs-lookup"><span data-stu-id="8b263-248">Desktop applications always rely on some sort of installation process before the user can start using them.</span></span> <span data-ttu-id="8b263-249">这就牵涉到了一系列技术，从 MSI 和 ClickOnce 到自定义安装程序甚至 XCOPY 部署。</span><span class="sxs-lookup"><span data-stu-id="8b263-249">This fact brought into the game a set of technologies, from MSI and ClickOnce to custom installers or even XCOPY deployment.</span></span> <span data-ttu-id="8b263-250">这些方法中的任何一种都涉及一些微妙的问题，因为应用程序需要通过某种方式来访问计算机上的共享资源。</span><span class="sxs-lookup"><span data-stu-id="8b263-250">Any of these methods deals with delicate problems because applications need a way to access shared resources on the machine.</span></span> <span data-ttu-id="8b263-251">安装过程有时需要访问注册表来插入或更新新的键值，有时需要更新主应用程序引用的共享 DLL。</span><span class="sxs-lookup"><span data-stu-id="8b263-251">Sometimes installation needs to access the Registry to insert or update new Key Values, sometimes to update shared DLLs referenced by the main application.</span></span> <span data-ttu-id="8b263-252">这种行为让用户头疼不已，并且产生了这样的看法：一旦安装了某个应用程序，即使事后卸载，你的计算机也无法恢复如初。</span><span class="sxs-lookup"><span data-stu-id="8b263-252">This behavior causes a continuous headache for users, creating this perception that once you install some application, your computer will never be the same, even if you uninstall it afterwards.</span></span>

<span data-ttu-id="8b263-253">在本书中，我们将介绍一种使用 MSIX 安装应用程序的新方法，它可以解决前面所述的问题。</span><span class="sxs-lookup"><span data-stu-id="8b263-253">In this book, we'll introduce a new way of installing applications with MSIX that solves the problem described earlier.</span></span> <span data-ttu-id="8b263-254">你将了解如何轻松设置应用程序的打包、安装和更新。</span><span class="sxs-lookup"><span data-stu-id="8b263-254">You'll learn how you can easily set up packaging, installation, and updates for your application.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="8b263-255">[上一页](index.md)
>[下一页](whats-new-dotnet.md)</span><span class="sxs-lookup"><span data-stu-id="8b263-255">[Previous](index.md)
[Next](whats-new-dotnet.md)</span></span>
